/*!
 * jquery.dgtable 0.5.32
 * git://github.com/danielgindi/jquery.dgtable.git
 */
import e from"jquery";const t=Array.prototype.indexOf,l=function(e,t){for(let l=0,o=e.length;l>=0&&l<o;l+=1)if(t(e[l],l,e))return e[l]},o=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")};function r(){let e=[];return Object.assign(e,r.prototype),e.initialize.apply(e,arguments),e}r.prototype=[],r.prototype.initialize=function(e){e=e||{},this.sortColumn=null==e.sortColumn?[]:e.sortColumn},r.prototype.add=function(e,t){let l,o;if("splice"in e&&"length"in e)if("number"==typeof t)for(l=0,o=e.length;l<o;l++)this.splice(t++,0,e[l]);else for(l=0,o=e.length;l<o;l++)this.push(e[l]);else"number"==typeof t?this.splice(t,0,e):this.push(e)},r.prototype.reset=function(e){this.length=0,e&&this.add(e)},r.prototype.filteredCollection=function(e,t){if(e&&t){let l=new r({sortColumn:this.sortColumn});for(let o,r=0,i=this.length;r<i;r++)o=this[r],e(o,t)&&(o.__i=r,l.push(o));return l}return null},r.prototype.onComparatorRequired=null,r.prototype.onSort=null;let i=r.prototype.sort;function n(e,t){let l=e.column,o=e.comparePath||l;"string"==typeof o&&(o=o.split("."));let r,i=o.length,n=i>1,s=t?1:-1,a=t?-1:1;return function(e,t){let l=e[o[0]],d=t[o[0]];if(n)for(r=1;r<i;r++)l=l&&l[o[r]],d=d&&d[o[r]];return l===d?0:null==l||l<d?s:a}}function s(){let e=[];return Object.assign(e,s.prototype),e.initialize.apply(e,arguments),e}r.prototype.sort=function(e){if(this.sortColumn.length){let t,l,o=[];for(t=0;t<this.sortColumn.length;t++)l=null,this.onComparatorRequired&&(l=this.onComparatorRequired(this.sortColumn[t].column,this.sortColumn[t].descending)),l||(l=n(this.sortColumn[t],this.sortColumn[t].descending)),o.push(l.bind(this));if(1===o.length)i.call(this,o[0]);else{let e,r=o.length;l=function(l,i){for(t=0;t<r;t++)if(e=o[t](l,i),0!==e)return e;return e},i.call(this,l)}e||this.onSort&&this.onSort()}return this},s.prototype=[],s.prototype.initialize=function(){},s.prototype.get=function(e){for(let t=0,l=this.length;t<l;t++)if(this[t].name==e)return this[t];return null},s.prototype.indexOf=function(e){for(let t=0,l=this.length;t<l;t++)if(this[t].name==e)return t;return-1},s.prototype.getByOrder=function(e){for(let t=0,l=this.length;t<l;t++)if(this[t].order==e)return this[t];return null},s.prototype.normalizeOrder=function(){let e,t=[];for(e=0;e<this.length;e++)t.push(this[e]);for(t.sort((function(e,t){return e.order<t.order?-1:e.order>t.order?1:0})),e=0;e<t.length;e++)t[e].order=e;return this},s.prototype.getVisibleColumns=function(){let e=[];for(let t,l=0;l<this.length;l++)t=this[l],t.visible&&e.push(t);return e.sort((e,t)=>e.order<t.order?-1:e.order>t.order?1:0),e},s.prototype.getMaxOrder=function(){let e=0;for(let t,l=0;l<this.length;l++)t=this[l],t.order>e&&(e=t.order);return e},s.prototype.moveColumn=function(e,t){if(e&&t){let l,o,r=e.order,i=t.order;if(r<i)for(l=r+1;l<=i;l++)o=this.getByOrder(l),o.order--;else for(l=r-1;l>=i;l--)o=this.getByOrder(l),o.order++;e.order=i}return this};const a=e,d=document.defaultView&&document.defaultView.getComputedStyle,h=a&&a.fn.jquery>="3",u={width:["Left","Right","Width"],height:["Top","Bottom","Height"]},c=["width","height"],p={};let m,f=function(e,t,l,o){return function(){let r=arguments[0],i=arguments[1];if(!r||r instanceof Element||!("length"in r)||(r=r[0]),!r)return null;let n,s,a,h=d?document.defaultView.getComputedStyle(r):r.currentStyle,u="border-box"===h.boxSizing,c=o&&!0===arguments[2]||!0===arguments[1];(u||o||l)&&(s=parseFloat(h["border"+t[0]+"Width"]||0)+parseFloat(h["border"+t[1]+"Width"]||0),a=parseFloat(h["padding"+t[0]]||0)+parseFloat(h["padding"+t[1]]||0));let p=c?parseFloat(h["margin"+t[0]]||0)+parseFloat(h["margin"+t[1]]||0):0;return null==i?(n=parseFloat(h[e]),u?(a+s>n&&(n=a+s),o?c&&(n+=p):n-=l?s:a+s):o?(n+=a+s,c&&(n+=p)):l&&(n+=a),n):(i=i||0,n=i,u?o?c&&(n-=p):n+=l?s:a+s:(o?(n-=a+s,c&&(n-=p)):l&&(n-=a),n<0&&(n=0)),r.style[e]=n+"px",i)}},g=function(e){return function(){let t=arguments[0];a.isArray(t)||t instanceof a||(t=[t]);let l=a.fn[e].apply(t,Array.prototype.slice.call(arguments,1));return arguments.length>1?this:l}};for(let e=0;e<c.length;e++){let t=c[e],l=u[t];h?(p[t]=g(t),p["inner"+l[2]]=g("inner"+l[2]),p["outer"+l[2]]=g("outer"+l[2])):(p[t]=f(t,l,!1,!1),p["inner"+l[2]]=f(t,l,!0,!1),p["outer"+l[2]]=f(t,l,!1,!0))}f=null;class b{static saveSelection(e){let t=window.getSelection().getRangeAt(0);if(e!==t.commonAncestorContainer&&!function(e,t){for(;(e=e.parentNode)&&e!==t;);return!!e}(t.commonAncestorContainer,e))return null;let l=t.cloneRange();l.selectNodeContents(e),l.setEnd(t.startContainer,t.startOffset);let o=l.toString().length;return{start:o,end:o+t.toString().length}}static restoreSelection(e,t){let l,o=0,r=[e],i=!1,n=!1,s=document.createRange();for(s.setStart(e,0),s.collapse(!0);!n&&(l=r.pop());)if(3==l.nodeType){let e=o+l.length;!i&&t.start>=o&&t.start<=e&&(s.setStart(l,t.start-o),i=!0),i&&t.end>=o&&t.end<=e&&(s.setEnd(l,t.end-o),n=!0),o=e}else{let e=l.childNodes.length;for(;e--;)r.push(l.childNodes[e])}let a=window.getSelection();a.removeAllRanges(),a.addRange(s)}}const v=()=>{const e=document.createElement("div");e.dir="rtl",Object.assign(e.style,{direction:"rtl",fontSize:"14px",width:"1px",height:"1px",position:"absolute",top:"-1000px",overflow:"scroll"}),e.textContent="A",document.body.appendChild(e);let t="reverse";return e.scrollLeft>0?t="default":(e.scrollLeft=1,0===e.scrollLeft&&(t="negative")),e.parentNode.removeChild(e),t};class C{static normalizeScrollLeft(e,t){if(void 0===t&&(t="rtl"===document.defaultView.getComputedStyle(e,null).direction),!0===t&&void 0===m&&(m=v()),!t)return e.scrollLeft;switch(m){case"negative":return e.scrollLeft+e.scrollWidth-e.clientWidth;case"reverse":return e.scrollWidth-e.scrollLeft-e.clientWidth;default:return e.scrollLeft}}static denormalizeScrollLeft(e,t,l){if(void 0===t&&(t="rtl"===document.defaultView.getComputedStyle(e,null).direction),!0===t&&void 0===m&&(m=v()),!t)return l;switch(m){case"negative":return l-e.scrollWidth+e.clientWidth;case"reverse":return e.scrollWidth-l-e.clientWidth;default:return l}}static scrollLeftNormalized(e,t){if(void 0===t)return C.normalizeScrollLeft(e,void 0);e.scrollLeft=C.denormalizeScrollLeft(e,void 0,t)}static normalizeScrollHorz(e,t){return void 0===t&&(t="rtl"===document.defaultView.getComputedStyle(e,null).direction),t?e.scrollWidth-e.clientWidth-C.normalizeScrollLeft(e,t):C.normalizeScrollLeft(e,t)}static denormalizeScrollHorz(e,t,l){return void 0===t&&(t="rtl"===document.defaultView.getComputedStyle(e,null).direction),t?C.denormalizeScrollLeft(e,t,e.scrollWidth-e.clientWidth-l):C.denormalizeScrollLeft(e,t,l)}static scrollHorzNormalized(e,t){if(void 0===t)return C.normalizeScrollHorz(e);e.scrollLeft=C.denormalizeScrollHorz(e,void 0,t)}}function w(e,t){let l=t.column,o=null==t.keyword?"":t.keyword.toString();if(!o||!l)return!0;let r=e[l];return null!=r&&(r=r.toString(),t.caseSensitive||(r=r.toLowerCase(),o=o.toLowerCase()),-1!==r.indexOf(o))}const y=Array.prototype.indexOf,_=e;let R=navigator.userAgent,W=-1!=R.indexOf("MSIE ")?parseFloat(R.substr(R.indexOf("MSIE ")+5)):null,N=W&&W<10,T=document.createElement.bind(document);const z=Object.prototype.hasOwnProperty;function H(e){var l,o;l=["relative","absolute","fixed"],o=e.css("position"),t.call(l,o)>=0||e.css("position","relative")}let F=function e(){if(!(this instanceof e))return new(Function.prototype.bind.apply(e,[e].concat(Array.prototype.slice.call(arguments,0))));this.initialize.apply(this,arguments)};F.VERSION="@@VERSION",F.prototype.VERSION=F.VERSION,F.prototype.initialize=function(e){let t=this;e=e||{};let l=t.o={},o=t.p={};o.events={},t.el=e.el&&e.el instanceof Element?e.el:document.createElement("div");let i=t.$el=_(t.el);t.el!==e.el&&i.addClass(e.className||"dgtable-wrapper"),i.data("control",t).data("dgtable",t),i.on("remove",(function(){t.destroy()})),o.onMouseMoveResizeAreaBound=this._onMouseMoveResizeArea.bind(this),o.onEndDragColumnHeaderBound=this._onEndDragColumnHeader.bind(this),o.onTableScrolledHorizontallyBound=this._onTableScrolledHorizontally.bind(this),this.$el.on("dragend",o.onEndDragColumnHeaderBound),o.tableSkeletonNeedsRendering=!0,l.virtualTable=void 0===e.virtualTable||!!e.virtualTable,l.rowsBufferSize=e.rowsBufferSize||3,l.minColumnWidth=Math.max(e.minColumnWidth||35,0),l.resizeAreaWidth=e.resizeAreaWidth||8,l.resizableColumns=void 0===e.resizableColumns||!!e.resizableColumns,l.movableColumns=void 0===e.movableColumns||!!e.movableColumns,l.sortableColumns=void 0===e.sortableColumns?1:parseInt(e.sortableColumns,10)||1,l.adjustColumnWidthForSortArrow=void 0===e.adjustColumnWidthForSortArrow||!!e.adjustColumnWidthForSortArrow,l.convertColumnWidthsToRelative=void 0!==e.convertColumnWidthsToRelative&&!!e.convertColumnWidthsToRelative,l.autoFillTableWidth=void 0!==e.autoFillTableWidth&&!!e.autoFillTableWidth,l.cellClasses=void 0===e.cellClasses?"":e.cellClasses,l.resizerClassName=void 0===e.resizerClassName?"dgtable-resize":e.resizerClassName,l.tableClassName=void 0===e.tableClassName?"dgtable":e.tableClassName,l.allowCellPreview=void 0===e.allowCellPreview||e.allowCellPreview,l.allowHeaderCellPreview=void 0===e.allowHeaderCellPreview||e.allowHeaderCellPreview,l.cellPreviewClassName=void 0===e.cellPreviewClassName?"dgtable-cell-preview":e.cellPreviewClassName,l.cellPreviewAutoBackground=void 0===e.cellPreviewAutoBackground||e.cellPreviewAutoBackground,l.onComparatorRequired=void 0===e.onComparatorRequired?null:e.onComparatorRequired,l.onComparatorRequired||"function"!=typeof e.comparatorCallback||(l.onComparatorRequired=e.comparatorCallback),l.width=void 0===e.width?F.Width.NONE:e.width,l.relativeWidthGrowsToFillWidth=void 0===e.relativeWidthGrowsToFillWidth||!!e.relativeWidthGrowsToFillWidth,l.relativeWidthShrinksToFillWidth=void 0!==e.relativeWidthShrinksToFillWidth&&!!e.relativeWidthShrinksToFillWidth,this.setCellFormatter(e.cellFormatter),this.setHeaderCellFormatter(e.headerCellFormatter),this.setFilter(e.filter),l.height=e.height,t.setColumns(e.columns||[],!1);let n=[];if(e.sortColumn){let t=e.sortColumn;if(t&&"object"!=typeof t&&(t=[t]),t instanceof Array||"object"==typeof t)for(let e=0,l=t.length;e<l;e++){let l=t[e];"string"==typeof l&&(l={column:l,descending:!1});let r=o.columns.get(l.column);n.push({column:l.column,comparePath:r.comparePath||r.dataPath,descending:l.descending})}}o.rows=new r({sortColumn:n}),o.rows.onComparatorRequired=function(e,t){if(l.onComparatorRequired)return l.onComparatorRequired(e,t)},o.filteredRows=null;let s=function(e){let l=(e=e||event).fromElement||e.relatedTarget;l==this||_.contains(this,l)||this.__previewCell&&(l==this.__previewCell||_.contains(this.__previewCell,l))||t._cellMouseOverEvent.call(t,this)},a=function(e){let l=(e=e||event).toElement||e.relatedTarget;l==this||_.contains(this,l)||this.__previewCell&&(l==this.__previewCell||_.contains(this.__previewCell,l))||t._cellMouseOutEvent.call(t,this)};"addEventListener"in window?(o._bindCellHoverIn=function(e){e.__hoverIn||e.addEventListener("mouseover",e.__hoverIn=s.bind(e))},o._unbindCellHoverIn=function(e){e.__hoverIn&&(e.removeEventListener("mouseover",e.__hoverIn),e.__hoverIn=null)},o._bindCellHoverOut=function(e){return e.__hoverOut||e.addEventListener("mouseout",e.__hoverOut=a.bind(e.__cell||e)),this},o._unbindCellHoverOut=function(e){return e.__hoverOut&&(e.removeEventListener("mouseout",e.__hoverOut),e.__hoverOut=null),this}):(o._bindCellHoverIn=function(e){e.__hoverIn||e.attachEvent("mouseover",e.__hoverIn=s.bind(e))},o._unbindCellHoverIn=function(e){e.__hoverIn&&(e.detachEvent("mouseover",e.__hoverIn),e.__hoverIn=null)},o._bindCellHoverOut=function(e){e.__hoverOut||e.attachEvent("mouseout",e.__hoverOut=a.bind(e.__cell||e))},o._unbindCellHoverOut=function(e){return e.__hoverOut&&(e.detachEvent("mouseout",e.__hoverOut),e.__hoverOut=null),this})},F.prototype.on=function(e,t){let l=this.p.events;return"function"!=typeof t||(z.call(l,e)||(l[e]=[]),l[e].push({cb:t,once:!1})),this},F.prototype.once=function(e,t){let l=this.p.events;return"function"!=typeof t||(z.call(l,e)||(l[e]=[]),l[e].push({cb:t,once:!0})),this},F.prototype.off=function(e,t){let l=this.p.events;if(!z.call(l,e))return this;let o=l[e];for(let e=0;e<o.length;e++){let l=o[e];t&&l.cb!==t||o.splice(e--,1)}return this},F.prototype.trigger=function(e){let t=this.p.events;if(z.call(t,e)){let l=t[e];for(let e=0;e<l.length;e++){let t=l[e];t.once&&l.splice(e--,1),t.cb.apply(this,Array.prototype.slice.call(arguments,1))}}return this},F.prototype._parseColumnWidth=function(e,t){let l=Math.max(0,parseFloat(e)),o=S.AUTO;return l>0&&(e==l+"%"?(o=S.RELATIVE,l/=100):l>0&&l<1?o=S.RELATIVE:(l<t&&(l=t),o=S.ABSOLUTE)),{width:l,mode:o}},F.prototype._initColumnFromData=function(e){let t=this._parseColumnWidth(e.width,e.ignoreMin?0:this.o.minColumnWidth),l={name:e.name,label:void 0===e.label?e.name:e.label,width:t.width,widthMode:t.mode,resizable:void 0===e.resizable||e.resizable,sortable:void 0===e.sortable||e.sortable,movable:void 0===e.movable||e.movable,visible:void 0===e.visible||e.visible,cellClasses:void 0===e.cellClasses?this.o.cellClasses:e.cellClasses,ignoreMin:void 0!==e.ignoreMin&&!!e.ignoreMin};return l.dataPath=void 0===e.dataPath?l.name:e.dataPath,l.comparePath=void 0===e.comparePath?l.dataPath:e.comparePath,"string"==typeof l.dataPath&&(l.dataPath=l.dataPath.split(".")),"string"==typeof l.comparePath&&(l.comparePath=l.comparePath.split(".")),l},F.prototype.close=F.prototype.remove=F.prototype.destroy=function(){let e=this,t=e.p||{},l=e.$el;if(e.__removed)return e;if(t.$resizer&&(t.$resizer.remove(),t.$resizer=null),t.$tbody){let l=t.$tbody[0].childNodes;for(let t=0,o=l.length;t<o;t++)e.trigger("rowdestroy",l[t])}if(this._destroyHeaderCells()._unbindCellEventsForTable(),t.$table&&t.$table.empty(),t.$tbody&&t.$tbody.empty(),t.workerListeners){for(let e=0;e<t.workerListeners.length;e++){let l=t.workerListeners[e];l.worker.removeEventListener("message",l.listener,!1)}t.workerListeners.length=0}t.rows.length=t.columns.length=0,t._deferredRender&&clearTimeout(t._deferredRender);for(let t in e)z.call(e,t)&&(e[t]=null);return e.__removed=!0,l&&l.remove(),this},F.prototype._unbindCellEventsForTable=function(){const e=this.p;if(e.headerRow)for(let t=0,l=e.headerRow.childNodes,o=l.length;t<o;t++)for(let o=0,r=l[t].childNodes,i=r.length;o<i;o++)e._unbindCellHoverIn(r[o]);if(e.tbody)for(let t=0,l=e.tbody.childNodes,o=l.length;t<o;t++)this._unbindCellEventsForRow(l[t]);return this},F.prototype._unbindCellEventsForRow=function(e){const t=this.p;for(let l=0,o=e.childNodes,r=o.length;l<r;l++)t._unbindCellHoverIn(o[l]);return this},F.prototype.render=function(){const e=this.o,t=this.p;if(!this.el.offsetParent)return t._deferredRender||(t._deferredRender=setTimeout(()=>{t._deferredRender=null,!this.__removed&&this.el.offsetParent&&this.render()})),this;let l,o;if(!0===t.tableSkeletonNeedsRendering){t.tableSkeletonNeedsRendering=!1,e.width==F.Width.AUTO&&this._clearSortArrows();let r=t.table?t.table.scrollTop:NaN,i=t.table?C.scrollLeftNormalized(t.table):NaN;this._renderSkeletonBase()._renderSkeletonBody().tableWidthChanged(!0,!1)._renderSkeletonHeaderCells(),e.virtualTable||(o=(t.filteredRows||t.rows).length,l=this.renderRows(0,o-1),t.$tbody.html("").append(l)),this._updateLastCellWidthFromScrollbar(!0),this._updateTableWidth(!0);for(let e=0;e<t.rows.sortColumn.length;e++)this._showSortArrow(t.rows.sortColumn[e].column,t.rows.sortColumn[e].descending);e.adjustColumnWidthForSortArrow&&t.rows.sortColumn.length?this.tableWidthChanged(!0):e.virtualTable||this.tableWidthChanged(),isNaN(r)||(t.table.scrollTop=r),isNaN(i)||(C.scrollLeftNormalized(t.table,i),C.scrollLeftNormalized(t.header,i)),this.trigger("renderskeleton"),e.virtualTable&&(t.$table.on("scroll",this._onVirtualTableScrolled.bind(this)),this.render())}else if(e.virtualTable){o=(t.filteredRows||t.rows).length;let r=t.table.scrollTop,i=Math.floor((r-t.virtualRowHeightFirst)/t.virtualRowHeight)+1-e.rowsBufferSize,n=Math.ceil((r-t.virtualRowHeightFirst+t.visibleHeight)/t.virtualRowHeight)+e.rowsBufferSize;i<0&&(i=0),n>=o&&(n=o-1);let s,a=-1,d=-1,h=t.tbody.childNodes;if(h.length&&(a=h[0].rowIndex,d=h[h.length-1].rowIndex),-1!==a&&a<i){s=Math.min(d+1,i)-a;for(let e=0;e<s;e++)this.trigger("rowdestroy",h[0]),this._unbindCellEventsForRow(h[0]),t.tbody.removeChild(h[0]);a+=s,a>d&&(a=d=-1)}else if(-1!==d&&d>n){s=d-Math.max(a-1,n);for(let e=0;e<s;e++)this.trigger("rowdestroy",h[h.length-1]),this._unbindCellEventsForRow(h[h.length-1]),t.tbody.removeChild(h[h.length-1]);d<a&&(a=d=-1)}i<a&&(l=this.renderRows(i,Math.min(n,a-1)),t.$tbody.prepend(l)),(n>d||-1===d)&&(l=this.renderRows(-1===d?i:d+1,n),t.$tbody.append(l))}return this.trigger("render"),this},F.prototype.clearAndRender=function(e){return this.p.tableSkeletonNeedsRendering=!0,(void 0===e||e)&&this.render(),this},F.prototype.renderRows=function(e,t){const l=this.o,o=this.p;let r,i,n=l.tableClassName,s=n+"-row",a=n+"-cell",d=o.filteredRows||o.rows,h=!!o.filteredRows,u=l.allowCellPreview,c=o.visibleColumns,p=l.virtualTable,m=o.virtualRowHeightFirst,f=o.virtualRowHeight,g=c.length;for(let e,t=0;t<g;t++)e=c[t],e._finalWidth=e.actualWidthConsideringScrollbarWidth||e.actualWidth;let b=document.createDocumentFragment(),v=this._isTableRtl()?"right":"left";for(let l=e,n=d.length;l<n&&l<=t;l++){let e=d[l];i=h?e.__i:l;let t=T("div");t.className=s,t.rowIndex=l,t.physicalRowIndex=i;for(let l=0;l<g;l++){let r=c[l],i=T("div");i.columnName=r.name,i.setAttribute("data-column",r.name),i.className=a,i.style.width=r._finalWidth+"px",r.cellClasses&&(i.className+=" "+r.cellClasses),u&&o._bindCellHoverIn(i),i.appendChild(T("div")).innerHTML=this._getHtmlForCell(e,r),t.appendChild(i)}p&&(r=l>0?m+(l-1)*f:0,t.style.position="absolute",t.style[v]=0,t.style.top=r+"px"),b.appendChild(t),this.trigger("rowcreate",l,i,t,e)}return b},F.prototype._calculateVirtualHeight=function(){let e=this.p;if(e.tbody){let t=(e.filteredRows||e.rows).length,l=e.virtualRowHeight*t;t&&(l+=e.virtualRowHeightFirst-e.virtualRowHeight,l+=e.virtualRowHeightLast-e.virtualRowHeight),l<1&&(l=1),e.tbody.style.height=l+"px"}return this},F.prototype._calculateTbodyWidth=function(){const e=this.p;let t,l,o,r,i=this.o.tableClassName,n=i+"-row",s=i+"-cell",a=e.visibleColumns,d=a.length,h=_("<div>").addClass(n).css("float","left"),u=0;for(o=0;o<d;o++)r=a[o],t=T("div"),t.className=s,t.style.width=r.actualWidth+"px",r.cellClasses&&(t.className+=" "+r.cellClasses),l=t.appendChild(T("div")),h.append(t),u+=r.actualWidth;let c=_("<div>").addClass(this.el.className).css({"z-index":-1,position:"absolute",left:"0",top:"-9999px",float:"left",width:"1px",overflow:"hidden"}).append(_("<div>").addClass(i).append(_("<div>").addClass(i+"-body").css("width",u+1e4).append(h)));c.appendTo(document.body);let m=_('<div style="border:1.5px solid #000;width:0;height:0;position:absolute;left:0;top:-9999px">').appendTo(document.body),f=parseFloat(m.css("border-width"));f=Math.round(f)!=f,m.remove();let g=p.outerWidth(h);return g-=e.scrollbarWidth||0,f&&g++,c.remove(),g},F.prototype.setColumns=function(e,t){const l=this.p;e=e||[];let o=new s;for(let t=0,l=0;t<e.length;t++){let r=e[t],i=this._initColumnFromData(r);void 0!==r.order?(r.order>l&&(l=r.order+1),i.order=r.order):i.order=l++,o.push(i)}return o.normalizeOrder(),l.columns=o,l.visibleColumns=o.getVisibleColumns(),this._ensureVisibleColumns().clearAndRender(t),this},F.prototype.addColumn=function(e,t,l){const o=this.p;let r=o.columns;if(e&&!r.get(e.name)){let i=null;void 0!==t&&(i=r.get(t)||r.getByOrder(t));let n=this._initColumnFromData(e);n.order=i?i.order:r.getMaxOrder()+1;for(let e=r.getMaxOrder(),t=n.order;e>=t;e--){let t=r.getByOrder(e);t&&t.order++}r.push(n),r.normalizeOrder(),o.visibleColumns=r.getVisibleColumns(),this._ensureVisibleColumns().clearAndRender(l),this.trigger("addcolumn",n.name)}return this},F.prototype.removeColumn=function(e,t){const l=this.p;let o=l.columns,r=o.indexOf(e);return r>-1&&(o.splice(r,1),o.normalizeOrder(),l.visibleColumns=o.getVisibleColumns(),this._ensureVisibleColumns().clearAndRender(t),this.trigger("removecolumn",e)),this},F.prototype.setCellFormatter=function(e){return this.o.cellFormatter=e||function(e){return"string"==typeof e?o(e):e},this},F.prototype.setHeaderCellFormatter=function(e){return this.o.headerCellFormatter=e||function(e){return"string"==typeof e?o(e):e},this},F.prototype.setFilter=function(e){return this.o.filter=e,this},F.prototype.filter=function(e){const t=this.p;let l=this.o.filter||w;"string"==typeof arguments[0]&&"string"==typeof arguments[1]&&(e={column:arguments[0],keyword:arguments[1],caseSensitive:arguments[2]});let o=!!t.filteredRows;return t.filteredRows&&(t.filteredRows=null),t.filterArgs=null==e?null:"object"!=typeof e||Array.isArray(e)?e:_.extend({},e),null!==t.filterArgs?(t.filteredRows=t.rows.filteredCollection(l,t.filterArgs),(o||t.filteredRows)&&(this.clearAndRender(),this.trigger("filter",e))):(t.filterArgs=null,t.filteredRows=null,this.clearAndRender(),this.trigger("filterclear",{})),this},F.prototype.clearFilter=function(){const e=this.p;return e.filteredRows&&(e.filterArgs=null,e.filteredRows=null,this.clearAndRender(),this.trigger("filterclear",{})),this},F.prototype._refilter=function(){const e=this.p;if(e.filteredRows&&e.filterArgs){let t=this.o.filter||w;e.filteredRows=e.rows.filteredCollection(t,e.filterArgs)}return this},F.prototype.setColumnLabel=function(e,t){let l=this.p.columns.get(e);if(l&&(l.label=void 0===t?l.name:t,l.element))for(let e=0;e<l.element[0].firstChild.childNodes.length;e++){let t=l.element[0].firstChild.childNodes[e];if(3===t.nodeType){t.textContent=l.label;break}}return this},F.prototype.moveColumn=function(e,t){const l=this.o,o=this.p;let r,i,n=o.columns;if("string"==typeof e?r=n.get(e):"number"==typeof e&&(r=o.visibleColumns[e]),"string"==typeof t?i=n.get(t):"number"==typeof t&&(i=o.visibleColumns[t]),r&&i&&e!==t){let e=r.order,t=i.order;if(o.visibleColumns=n.moveColumn(r,i).getVisibleColumns(),this._ensureVisibleColumns(),l.virtualTable)this.clearAndRender()._updateLastCellWidthFromScrollbar(!0);else{let r=o.$headerRow.find(">div."+l.tableClassName+"-header-cell"),i=e<t?t+1:t,n=e;r[0].parentNode.insertBefore(r[n],r[i]);let s=o.visibleColumns[e];s=(s.actualWidthConsideringScrollbarWidth||s.actualWidth)+"px";let a=o.visibleColumns[t];a=(a.actualWidthConsideringScrollbarWidth||a.actualWidth)+"px";let d=o.$tbody[0].childNodes;for(let l=0,o=d.length;l<o;l++){let o=d[l];1===o.nodeType&&(o.insertBefore(o.childNodes[n],o.childNodes[i]),o.childNodes[t].firstChild.style.width=a,o.childNodes[e].firstChild.style.width=s)}}this.trigger("movecolumn",r.name,e,t)}return this},F.prototype.sort=function(e,t,l){const o=this.o,r=this.p;let i=r.columns.get(e),n=r.rows.sortColumn;if(i){if(n.length&&n[n.length-1].column==e&&(t=void 0===t?!n[n.length-1].descending:t),l){for(let e=0;e<n.length;e++)if(n[e].column==i.name){e<n.length-1?n.length=0:n.splice(n.length-1,1);break}(o.sortableColumns>0&&n.length>=o.sortableColumns||n.length>=r.visibleColumns.length)&&(n.length=0)}else n.length=0;t=void 0!==t&&t,n.push({column:i.name,comparePath:i.comparePath||i.dataPath,descending:!!t})}else n.length=0;this._clearSortArrows();for(let e=0;e<n.length;e++)this._showSortArrow(n[e].column,n[e].descending);if(o.adjustColumnWidthForSortArrow&&!o._tableSkeletonNeedsRendering&&this.tableWidthChanged(!0),o.virtualTable)for(;r.tbody&&r.tbody.firstChild;)this.trigger("rowdestroy",r.tbody.firstChild),this._unbindCellEventsForRow(r.tbody.firstChild),r.tbody.removeChild(r.tbody.firstChild);else r.tableSkeletonNeedsRendering=!0;r.rows.sortColumn=n,n.length&&(r.rows.sort(!!r.filteredRows),r.filteredRows&&r.filteredRows.sort(!!r.filteredRows));let s=[];for(let e=0;e<n.length;e++)s.push({column:n[e].column,descending:n[e].descending});return this.trigger("sort",s),this},F.prototype.resort=function(){const e=this.p;let t=e.columns,l=e.rows.sortColumn;if(l.length){for(let e=0;e<l.length;e++)t.get(l[e].column)||l.splice(e--,1);e.rows.sortColumn=l,l.length&&(e.rows.sort(!!e.filteredRows),e.filteredRows&&e.filteredRows.sort(!!e.filteredRows));let o=[];for(let e=0;e<l.length;e++)o.push({column:l[e].column,descending:l[e].descending});this.trigger("sort",o)}return this},F.prototype._ensureVisibleColumns=function(){const e=this.p;return 0===e.visibleColumns.length&&e.columns.length&&(e.columns[0].visible=!0,e.visibleColumns.push(e.columns[0]),this.trigger("showcolumn",e.columns[0].name)),this},F.prototype.setColumnVisible=function(e,t){const l=this.p;let o=l.columns.get(e);return t=!!t,o&&!!o.visible!=t&&(o.visible=t,l.visibleColumns=l.columns.getVisibleColumns(),this.trigger(t?"showcolumn":"hidecolumn",e),this._ensureVisibleColumns(),this.clearAndRender()),this},F.prototype.isColumnVisible=function(e){let t=this.p.columns.get(e);return!!t&&t.visible},F.prototype.setMinColumnWidth=function(e){let t=this.o;return e=Math.max(e,0),t.minColumnWidth!=e&&(t.minColumnWidth=e,this.tableWidthChanged(!0)),this},F.prototype.getMinColumnWidth=function(){return this.o.minColumnWidth},F.prototype.setSortableColumns=function(e){const t=this.p,l=this.o;if(l.sortableColumns!=e&&(l.sortableColumns=e,t.$table)){let e=t.$headerRow.find(">div."+l.tableClassName+"-header-cell");for(let o=0;o<e.length;o++)_(e[0])[l.sortableColumns>0&&t.visibleColumns[o].sortable?"addClass":"removeClass"]("sortable")}return this},F.prototype.getSortableColumns=function(){return this.o.sortableColumns},F.prototype.setMovableColumns=function(e){let t=this.o;return e=void 0===e||!!e,t.movableColumns!=e&&(t.movableColumns=e),this},F.prototype.getMovableColumns=function(){return this.o.movableColumns},F.prototype.setResizableColumns=function(e){let t=this.o;return e=void 0===e||!!e,t.resizableColumns!=e&&(t.resizableColumns=e),this},F.prototype.getResizableColumns=function(){return this.o.resizableColumns},F.prototype.setComparatorCallback=function(e){let t=this.o;return t.onComparatorRequired!=e&&(t.onComparatorRequired=e),this},F.prototype.setColumnWidth=function(e,t){let l=this.p.columns.get(e),o=this._parseColumnWidth(t,l.ignoreMin?0:this.o.minColumnWidth);if(l){let e=this._serializeColumnWidth(l);l.width=o.width,l.widthMode=o.mode;let t=this._serializeColumnWidth(l);e!=t&&this.tableWidthChanged(!0),this.trigger("columnwidth",l.name,e,t)}return this},F.prototype.getColumnWidth=function(e){let t=this.p.columns.get(e);return t?this._serializeColumnWidth(t):null},F.prototype.getColumnConfig=function(e){let t=this.p.columns.get(e);return t?{order:t.order,width:this._serializeColumnWidth(t),visible:t.visible,label:t.label}:null},F.prototype.getColumnsConfig=function(){const e=this.p;let t={};for(let l=0;l<e.columns.length;l++)t[e.columns[l].name]=this.getColumnConfig(e.columns[l].name);return t},F.prototype.getSortedColumns=function(){const e=this.p;let t=[];for(let l=0;l<e.rows.sortColumn.length;l++){let o=e.rows.sortColumn[l];t.push({column:o.column,descending:o.descending})}return t},F.prototype.getHtmlForCell=function(e,t){const l=this.p;if(e<0||e>l.rows.length-1)return null;let o=l.columns.get(t);if(!o)return null;let r=l.rows[e];return this._getHtmlForCell(r,o)},F.prototype._getHtmlForCell=function(e,t){let l=t.dataPath,o=e[l[0]];for(let e=1;e<l.length&&null!=o;e++)o=o&&o[l[e]];let r=this.o.cellFormatter(o,t.name,e);return void 0===r&&(r=""),r},F.prototype.getRowYPos=function(e){const t=this.p;if(this.o.virtualTable)return e>0?t.virtualRowHeightFirst+(e-1)*t.virtualRowHeight:0;{let l=t.tbody.childNodes[e];return l?l.offsetTop:null}},F.prototype.getDataForRow=function(e){const t=this.p;return e<0||e>t.rows.length-1?null:t.rows[e]},F.prototype.getRowCount=function(){const e=this.p;return e.rows?e.rows.length:0},F.prototype.getIndexForRow=function(e){return this.p.rows.indexOf(e)},F.prototype.getFilteredRowCount=function(){const e=this.p;return(e.filteredRows||e.rows).length},F.prototype.getIndexForFilteredRow=function(e){const t=this.p;return(t.filteredRows||t.rows).indexOf(e)},F.prototype.getDataForFilteredRow=function(e){const t=this.p;return e<0||e>(t.filteredRows||t.rows).length-1?null:(t.filteredRows||t.rows)[e]},F.prototype.getHeaderRowElement=function(){return this.p.headerRow},F.prototype._horizontalPadding=function(e){return(parseFloat(_.css(e,"padding-left"))||0)+(parseFloat(_.css(e,"padding-right"))||0)},F.prototype._horizontalBorderWidth=function(e){return(parseFloat(_.css(e,"border-left"))||0)+(parseFloat(_.css(e,"border-right"))||0)},F.prototype._calculateWidthAvailableForColumns=function(){const e=this.o,t=this.p;let l,o,r;t.$table&&(o=t.table?t.table.scrollTop:0,r=t.table?t.table.scrollLeft:0,e.virtualTable&&(l=t.$table[0].style.display,t.$table[0].style.display="none"));let i=p.width(this.$el);t.$table&&(e.virtualTable&&(t.$table[0].style.display=l),t.table.scrollTop=o,t.table.scrollLeft=r,t.header.scrollLeft=r);let n=e.tableClassName,s=_("<div>").addClass(this.el.className).css({"z-index":-1,position:"absolute",left:"0",top:"-9999px"}),a=_("<div>").addClass(n+"-header").appendTo(s),d=_("<div>").addClass(n+"-header-row").appendTo(a);for(let e=0;e<t.visibleColumns.length;e++)d.append(_("<div><div></div></div>").addClass(n+"-header-cell").addClass(t.visibleColumns[e].cellClasses||""));s.appendTo(document.body),i-=this._horizontalBorderWidth(d[0]);let h=d.find(">div."+n+"-header-cell");for(let e=0;e<h.length;e++){let t=_(h[e]);"border-box"===t.css("boxSizing")||(i-=(parseFloat(t.css("border-right-width"))||0)+(parseFloat(t.css("border-left-width"))||0)+this._horizontalPadding(t[0]))}return s&&s.remove(),Math.max(0,i)},F.prototype.tableWidthChanged=function(){let e=function(e){let t,l=this.o.tableClassName,o=_("<div>").addClass(this.$el).append(_("<div>").addClass(l+"-header").append(_("<div>").addClass(l+"-header-row").append(t=_("<div>").addClass(l+"-header-cell").append(_("<div>").text(e))))).css({position:"absolute",top:"-9999px",visibility:"hidden"});o.appendTo(document.body);let r=p.width(t);return o.remove(),r},t=null;return function(l,o){let r=this.o,i=this.p,n=this._calculateWidthAvailableForColumns(),s=n,a=0;o=void 0===o||o;let d=0;if(i.tbody||(o=!1),o&&(d=parseFloat(i.tbody.style.minWidth)||0),s!=t||l){t=n;let l=0,h=[],u=0;for(let e=0;e<i.columns.length;e++)i.columns[e].actualWidthConsideringScrollbarWidth=null;for(let t=0;t<i.visibleColumns.length;t++){let o=i.visibleColumns[t];if(o.widthMode===S.ABSOLUTE){let e=o.width;e+=o.arrowProposedWidth||0,!o.ignoreMin&&e<r.minColumnWidth&&(e=r.minColumnWidth),s-=e,l+=e,e!==o.actualWidth&&(o.actualWidth=e,h.push(t))}else if(o.widthMode===S.AUTO){let i=e.call(this,o.label)+20;i+=o.arrowProposedWidth||0,!o.ignoreMin&&i<r.minColumnWidth&&(i=r.minColumnWidth),s-=i,l+=i,i!==o.actualWidth&&(o.actualWidth=i,r.convertColumnWidthsToRelative||h.push(t))}else o.widthMode===S.RELATIVE&&(u+=o.width,a++)}if(r.convertColumnWidthsToRelative)for(let e=0;e<i.visibleColumns.length;e++){let t=i.visibleColumns[e];t.widthMode===S.AUTO&&(t.widthMode=S.RELATIVE,s+=t.actualWidth,t.width=t.actualWidth/l,u+=t.width,a++)}if(a&&(u<1&&r.relativeWidthGrowsToFillWidth||u>1&&r.relativeWidthShrinksToFillWidth))for(let e=0;e<i.visibleColumns.length;e++){let t=i.visibleColumns[e];t.widthMode===S.RELATIVE&&(t.width/=u)}let c=Math.max(0,s);0===c&&(c=i.table.clientWidth);let p=r.minColumnWidth/c;if(isNaN(p)&&(p=0),p>0){let e,t=0;for(let e=0;e<i.visibleColumns.length;e++){let l=i.visibleColumns[e];l.widthMode===S.RELATIVE&&!l.ignoreMin&&l.width<p&&(t+=p-l.width,l.width=p)}for(let l=0;l<i.visibleColumns.length;l++){let o=i.visibleColumns[l];o.widthMode===S.RELATIVE&&!o.ignoreMin&&o.width>p&&t>0&&(e=Math.min(t,o.width-p),o.width-=e,t-=e)}}if(r.autoFillTableWidth&&s>0){let e=0,t=s;for(let l=0;l<i.visibleColumns.length;l++){let o=i.visibleColumns[l];o.resizable||o.widthMode!==S.ABSOLUTE||(e+=o.width),o.widthMode===S.RELATIVE&&(t-=Math.round(c*o.width))}let l=(n-e)/(n-t-e)||NaN;for(let e=0;e<i.visibleColumns.length&&t>0;e++){let t=i.visibleColumns[e];if(t.resizable||t.widthMode!==S.ABSOLUTE)if(t.widthMode===S.RELATIVE)t.width*=l;else{let o=t.actualWidth*l;t.actualWidth!==o&&(t.actualWidth=o,-1===h.indexOf(e)&&h.push(e))}}}for(let e=0;e<i.visibleColumns.length;e++){let t=i.visibleColumns[e];if(t.widthMode===S.RELATIVE){let l=Math.round(c*t.width);s-=l,a--,0===a&&1===s&&(l++,s--),-1===s&&(l--,s++),l!==t.actualWidth&&(t.actualWidth=l,h.push(e))}}if(i.visibleColumns.length&&(i.visibleColumns[i.visibleColumns.length-1].actualWidthConsideringScrollbarWidth=i.visibleColumns[i.visibleColumns.length-1].actualWidth-(i.scrollbarWidth||0)),o){let e=this._calculateTbodyWidth();d<e&&this._updateTableWidth(!1);for(let e=0;e<h.length;e++)this._resizeColumnElements(h[e]);d>e&&this._updateTableWidth(!1)}}return this}}(),F.prototype.tableHeightChanged=function(){let e=this,t=e.o,l=e.p;if(!l.$table)return e;let o=p.innerHeight(e.$el)-(parseFloat(l.$table.css("border-top-width"))||0)-(parseFloat(l.$table.css("border-bottom-width"))||0);return o!=t.height&&(t.height=o,l.tbody&&(l.tbody.style.height=Math.max(t.height-p.outerHeight(l.$headerRow),1)+"px"),t.virtualTable&&e.clearAndRender()),e},F.prototype.addRows=function(e,t,l,o){let r=this,i=r.p;if("boolean"==typeof t&&(o=l,l=t,t=-1),"number"!=typeof t&&(t=-1),(t<0||t>i.rows.length)&&(t=i.rows.length),o=void 0===o||!!o,e){if(i.rows.add(e,t),i.filteredRows||l&&i.rows.sortColumn.length)l&&i.rows.sortColumn.length?this.resort():this._refilter(),i.tableSkeletonNeedsRendering=!0,o&&this.render();else if(o){let l=i.tbody.childNodes;if(r.o.virtualTable){for(;i.tbody.firstChild;)this.trigger("rowdestroy",i.tbody.firstChild),this._unbindCellEventsForRow(i.tbody.firstChild),i.tbody.removeChild(i.tbody.firstChild);this._calculateVirtualHeight()._updateLastCellWidthFromScrollbar().render()._updateTableWidth(!1)}else if(i.$tbody){let o=t,n=t+e.length-1,s=r.renderRows(o,n);i.tbody.insertBefore(s,l[t]||null);for(let t=n+1;t<l.length;t++){let o=l[t];o.rowIndex+=e.length,o.physicalRowIndex+=e.length}this.render()._updateLastCellWidthFromScrollbar()._updateTableWidth(!0)}}this.trigger("addrows",e.length,!1)}return this},F.prototype.removeRows=function(e,t,l){let o=this.p;if("number"!=typeof t||t<=0)return this;if(e<0||e>o.rows.length-1)return this;if(o.rows.splice(e,t),l=void 0===l||!!l,o.filteredRows)this._refilter(),o.tableSkeletonNeedsRendering=!0,l&&this.render();else if(l){let l=o.tbody.childNodes;if(this.o.virtualTable){for(;o.tbody.firstChild;)this.trigger("rowdestroy",o.tbody.firstChild),this._unbindCellEventsForRow(o.tbody.firstChild),o.tbody.removeChild(o.tbody.firstChild);this._calculateVirtualHeight()._updateLastCellWidthFromScrollbar().render()._updateTableWidth(!1)}else{let r=e+t-1;for(let i=0;i<l.length;i++){let n=l[i],s=n.physicalRowIndex;s>=e?s<=r?(this.trigger("rowdestroy",n),this._unbindCellEventsForRow(n),o.tbody.removeChild(n),i--):n.physicalRowIndex-=t:n.rowIndex=i}this.render()._updateLastCellWidthFromScrollbar()._updateTableWidth(!0)}}return this},F.prototype.removeRow=function(e,t){return this.removeRows(e,1,t)},F.prototype.refreshRow=function(e){let t=this.p;if(e<0||e>t.rows.length-1)return this;let l=-1;if(t.filteredRows&&-1===(l=t.filteredRows.indexOf(t.rows[e])))return this;-1===l&&(l=e);let o=t.tbody.childNodes;if(this.o.virtualTable){let r=!1,i=0;for(;i<o.length;i++)if(o[i].physicalRowIndex===e){r=!0,this.trigger("rowdestroy",o[i]),this._unbindCellEventsForRow(o[i]),t.tbody.removeChild(o[i]);break}if(r){let e=this.renderRows(l,l);t.tbody.insertBefore(e,o[i]||null)}}else{this.trigger("rowdestroy",o[l]),this._unbindCellEventsForRow(o[l]),t.tbody.removeChild(o[l]);let e=this.renderRows(l,l);t.tbody.insertBefore(e,o[l]||null)}return this},F.prototype.getRowElement=function(e){let t=this.p;if(e<0||e>t.rows.length-1)return null;let l=-1;if(t.filteredRows&&-1===(l=t.filteredRows.indexOf(t.rows[e])))return this;-1===l&&(l=e);let o=t.tbody.childNodes;if(!this.o.virtualTable)return o[l];for(let t=0;t<o.length;t++)if(o[t].physicalRowIndex===e)return o[t];return null},F.prototype.refreshAllVirtualRows=function(){const e=this.p;if(this.o.virtualTable){let t=[],l=e.tbody.childNodes;for(let o=0,r=l.length;o<r;o++)t.push(l[o].physicalRowIndex),this.trigger("rowdestroy",l[o]),this._unbindCellEventsForRow(l[o]),e.tbody.removeChild(l[o]),o--,r--;for(let l=0;l<t.length;l++){let o=this.renderRows(t[l],t[l]);e.tbody.appendChild(o)}}return this},F.prototype.setRows=function(e,t){let l=this.p;return l.rows.reset(e),t&&l.rows.sortColumn.length?this.resort():this._refilter(),this.clearAndRender().trigger("addrows",e.length,!0),this},F.prototype.getUrlForElementContent=function(e){let t,l=document.getElementById(e);if(l){let e=l.textContent;if("function"==typeof Blob)t=new Blob([e]);else{let l=global.BlobBuilder||global.WebKitBlobBuilder||global.MozBlobBuilder||global.MSBlobBuilder;if(!l)return null;let o=new l;o.append(e),t=o.getBlob()}return(global.URL||global.webkitURL).createObjectURL(t)}return null},F.prototype.isWorkerSupported=function(){return global.Worker instanceof Function},F.prototype.createWebWorker=function(e,t,l){if(this.isWorkerSupported()){let o=this,r=o.p,i=new Worker(e),n=function(e){e.data.append?o.addRows(e.data.rows,l):o.setRows(e.data.rows,l)};return i.addEventListener("message",n,!1),r.workerListeners||(r.workerListeners=[]),r.workerListeners.push({worker:i,listener:n}),(t||void 0===t)&&i.postMessage(null),i}return null},F.prototype.unbindWebWorker=function(e){let t=this.p;if(t.workerListeners)for(let l=0;l<t.workerListeners.length;l++)t.workerListeners[l].worker==e&&(e.removeEventListener("message",t.workerListeners[l].listener,!1),t.workerListeners.splice(l,1),l--);return this},F.prototype.abortCellPreview=function(){return this.hideCellPreview(),this},F.prototype.cancelColumnResize=function(){const e=this.p;return e.$resizer&&(e.$resizer.remove(),e.$resizer=null,_(document).off("mousemove.dgtable",e.onMouseMoveResizeAreaBound).off("mouseup.dgtable",e.onEndDragColumnHeaderBound)),this},F.prototype._onVirtualTableScrolled=function(e){this.render()},F.prototype._onTableScrolledHorizontally=function(e){const t=this.p;t.header.scrollLeft=t.table.scrollLeft},F.prototype._getColumnByResizePosition=function(e){let t=this.o,l=this._isTableRtl(),o=_(e.target).closest("div."+t.tableClassName+"-header-cell,div."+t.cellPreviewClassName),r=o[0];r.__cell&&(r=r.__cell,o=_(r));let i=o[0].previousSibling;for(;i&&1!=i.nodeType;)i=i.previousSibling;let n=!i,s=((null!=e.pageX?e.pageX:e.originalEvent.pageX)||e.originalEvent.clientX)-o.offset().left;if(l){if(!n&&p.outerWidth(o)-s<=t.resizeAreaWidth/2)return i.columnName;if(s<=t.resizeAreaWidth/2)return r.columnName}else{if(!n&&s<=t.resizeAreaWidth/2)return i.columnName;if(p.outerWidth(o)-s<=t.resizeAreaWidth/2)return r.columnName}return null},F.prototype._onTouchStartColumnHeader=function(e){const t=this.p;if(t.currentTouchId)return;let o=e.originalEvent.changedTouches[0];t.currentTouchId=o.identifier;let r,i=_(e.currentTarget),n={x:o.pageX,y:o.pageY},s=n,a=function(){t.currentTouchId=null,i.off("touchend").off("touchcancel"),clearTimeout(r)},d=function(t){let l=_.Event(t),o=Array.prototype.slice.call(arguments,1);return _.each(["target","clientX","clientY","offsetX","offsetY","screenX","screenY","pageX","pageY","which"],(function(){l[this]=e[this];for(let e=0;e<o.length;e++)null!=o[e][this]&&(l[this]=o[e][this])})),l};i.trigger(d("mousedown",e.originalEvent.changedTouches[0],{which:1})),r=setTimeout(()=>{a(),i.one("touchend",e=>{e.preventDefault(),i.off("touchend").off("touchcancel")}).one("touchcancel",e=>{i.off("touchend").off("touchcancel")}),Math.sqrt(Math.pow(Math.abs(s.x-n.x),2)+Math.pow(Math.abs(s.y-n.y),2))<9&&(this.cancelColumnResize(),i.trigger(d("mouseup",e.originalEvent.changedTouches[0],{which:3})))},500),i.on("touchend",e=>{let o=l(e.originalEvent.changedTouches,e=>e.identifier===t.currentTouchId);o&&(a(),e.preventDefault(),s={x:o.pageX,y:o.pageY},(Math.sqrt(Math.pow(Math.abs(s.x-n.x),2)+Math.pow(Math.abs(s.y-n.y),2))<9||t.$resizer)&&(i.trigger(d("mouseup",o,{which:1})),i.trigger(d("click",o,{which:1}))))}).on("touchcancel",()=>{a()}).on("touchmove",e=>{let o=l(e.originalEvent.changedTouches,e=>e.identifier===t.currentTouchId);o&&(s={x:o.pageX,y:o.pageY},t.$resizer&&(e.preventDefault(),i.trigger(d("mousemove",o))))})},F.prototype._onMouseDownColumnHeader=function(e){if(1!==e.which)return this;let t=this.o,l=this.p,o=this._getColumnByResizePosition(e);if(o){let r=l.columns.get(o);if(!t.resizableColumns||!r||!r.resizable)return!1;let i=this._isTableRtl();l.$resizer&&_(l.$resizer).remove(),l.$resizer=_("<div></div>").addClass(t.resizerClassName).css({position:"absolute",display:"block","z-index":-1,visibility:"hidden",width:"2px",background:"#000",opacity:.7}).appendTo(this.$el);let n=r.element,s=l.$resizer.parent(),a=n.offset(),d=s.offset();8===W&&(a=n.offset()),d.left+=parseFloat(s.css("border-left-width"))||0,d.top+=parseFloat(s.css("border-top-width"))||0,a.left-=d.left,a.top-=d.top,a.top-=parseFloat(n.css("border-top-width"))||0;let h=p.outerWidth(l.$resizer);i?(a.left-=Math.ceil((parseFloat(n.css("border-left-width"))||0)/2),a.left-=Math.ceil(h/2)):(a.left+=p.outerWidth(n),a.left+=Math.ceil((parseFloat(n.css("border-right-width"))||0)/2),a.left-=Math.ceil(h/2)),l.$resizer.css({"z-index":"10",visibility:"visible",left:a.left,top:a.top,height:p.height(this.$el)})[0].columnName=n[0].columnName;try{l.$resizer[0].style.zIndex=""}catch(e){}_(document).on("mousemove.dgtable",l.onMouseMoveResizeAreaBound),_(document).on("mouseup.dgtable",l.onEndDragColumnHeaderBound),e.preventDefault()}},F.prototype._onMouseMoveColumnHeader=function(e){let t=this.o,l=this.p;if(t.resizableColumns){let o=this._getColumnByResizePosition(e),r=_(e.target).closest("div."+t.tableClassName+"-header-cell,div."+t.cellPreviewClassName)[0];o&&l.columns.get(o).resizable?r.style.cursor="e-resize":r.style.cursor=""}},F.prototype._onMouseUpColumnHeader=function(e){if(3===e.which){let t=this.o,l=_(e.target).closest("div."+t.tableClassName+"-header-cell,div."+t.cellPreviewClassName),o=l.offset();o.width=p.outerWidth(l),o.height=p.outerHeight(l),this.trigger("headercontextmenu",l[0].columnName,e.pageX,e.pageY,o)}return this},F.prototype._onMouseLeaveColumnHeader=function(e){let t=this.o;_(e.target).closest("div."+t.tableClassName+"-header-cell,div."+t.cellPreviewClassName)[0].style.cursor=""},F.prototype._onClickColumnHeader=function(e){if(!this._getColumnByResizePosition(e)){let t=this,l=t.o,o=t.p,r=_(e.target).closest("div."+l.tableClassName+"-header-cell,div."+l.cellPreviewClassName)[0];if(l.sortableColumns){let e=o.columns.get(r.columnName);e&&e.sortable&&this.sort(r.columnName,void 0,!0).render()}}},F.prototype._onStartDragColumnHeader=function(e){let t=this.o,l=this.p;if(t.movableColumns){let o=_(e.target).closest("div."+t.tableClassName+"-header-cell,div."+t.cellPreviewClassName),r=l.columns.get(o[0].columnName);r&&r.movable?(o[0].style.opacity=.35,l.dragId=161061273*Math.random(),e.originalEvent.dataTransfer.setData("text",JSON.stringify({dragId:l.dragId,column:r.name}))):e.preventDefault()}else e.preventDefault()},F.prototype._onMouseMoveResizeArea=function(e){let t=this.p,l=t.columns.get(t.$resizer[0].columnName),o=this._isTableRtl(),r=l.element,i=t.$resizer.parent(),n=r.offset(),s=i.offset();s.left+=parseFloat(i.css("border-left-width"))||0,n.left-=s.left;let a=p.outerWidth(t.$resizer),d="border-box"===r.css("box-sizing"),h=e.pageX-s.left,u=n.left;u-=Math.ceil(a/2),o?(u+=p.outerWidth(r),u-=l.ignoreMin?0:this.o.minColumnWidth,d||(u-=Math.ceil((parseFloat(r.css("border-left-width"))||0)/2),u-=this._horizontalPadding(r[0])),h>u&&(h=u)):(u+=l.ignoreMin?0:this.o.minColumnWidth,d||(u+=Math.ceil((parseFloat(r.css("border-right-width"))||0)/2),u+=this._horizontalPadding(r[0])),h<u&&(h=u)),t.$resizer.css("left",h+"px")},F.prototype._onEndDragColumnHeader=function(e){let t=this.o,l=this.p;if(l.$resizer){_(document).off("mousemove.dgtable",l.onMouseMoveResizeAreaBound).off("mouseup.dgtable",l.onEndDragColumnHeaderBound);let o=l.columns.get(l.$resizer[0].columnName),r=this._isTableRtl(),i=o.element,n=l.$resizer.parent(),s=i.offset(),a=n.offset();a.left+=parseFloat(n.css("border-left-width"))||0,s.left-=a.left;let d=p.outerWidth(l.$resizer),h="border-box"===i.css("box-sizing"),u=e.pageX-a.left,c=s.left,m=s.left,f=0;c-=Math.ceil(d/2),r?(h||(u+=this._horizontalPadding(i[0]),u+=parseFloat(i.css("border-left-width"))||0,u+=parseFloat(i.css("border-right-width"))||0),c+=p.outerWidth(i),m=c-(o.ignoreMin?0:this.o.minColumnWidth),u>m&&(u=m),f=c-u):(h||(u-=this._horizontalPadding(i[0]),u-=parseFloat(i.css("border-left-width"))||0,u-=parseFloat(i.css("border-right-width"))||0),m=c+(o.ignoreMin?0:this.o.minColumnWidth),u<m&&(u=m),f=u-c),l.$resizer.remove(),l.$resizer=null;let g=f;if(o.widthMode===S.RELATIVE){let e=this._calculateWidthAvailableForColumns(),r=0,i=0;for(let t=0;t<l.visibleColumns.length;t++){let n=l.visibleColumns[t];n.name!==o.name&&(n.widthMode==S.RELATIVE?(r+=n.width,i++):e-=n.actualWidth)}if(e=Math.max(1,e),g=f/e,i>0){let e=g/((1-g)/r);r+=g,(r<1&&t.relativeWidthGrowsToFillWidth||r>1&&t.relativeWidthShrinksToFillWidth)&&(g=e)}g*=100,g+="%"}this.setColumnWidth(o.name,g)}else e.target.style.opacity=null},F.prototype._onDragEnterColumnHeader=function(e){let t=this.o,l=this.p;if(t.movableColumns){let o=e.originalEvent.dataTransfer.getData("text");o=o?JSON.parse(o):null;let r=_(e.target).closest("div."+t.tableClassName+"-header-cell,div."+t.cellPreviewClassName);if(!o||l.dragId==o.dragId&&r.columnName!==o.column){let e=l.columns.get(r[0].columnName);e&&(e.movable||e!=l.visibleColumns[0])&&_(r).addClass("drag-over")}}},F.prototype._onDragOverColumnHeader=function(e){e.preventDefault()},F.prototype._onDragLeaveColumnHeader=function(e){let t=this.o,l=_(e.target).closest("div."+t.tableClassName+"-header-cell,div."+t.cellPreviewClassName);_(l[0].firstChild).has(e.originalEvent.relatedTarget).length||l.removeClass("drag-over")},F.prototype._onDropColumnHeader=function(e){e.preventDefault();let t=this.o,l=this.p,o=JSON.parse(e.originalEvent.dataTransfer.getData("text")),r=_(e.target).closest("div."+t.tableClassName+"-header-cell,div."+t.cellPreviewClassName);if(t.movableColumns&&o.dragId==l.dragId){let e=o.column,t=r[0].columnName,i=l.columns.get(e),n=l.columns.get(t);i&&n&&i.movable&&(n.movable||n!=l.visibleColumns[0])&&this.moveColumn(e,t)}_(r).removeClass("drag-over")},F.prototype._clearSortArrows=function(){let e=this.p;if(e.$table){let t=this.o.tableClassName,l=e.$headerRow.find(">div."+t+"-header-cell.sorted"),o=l.find(">div>.sort-arrow");for(let t of o){let l=e.columns.get(t.parentNode.parentNode.columnName);l&&(l.arrowProposedWidth=0)}o.remove(),l.removeClass("sorted").removeClass("desc")}return this},F.prototype._showSortArrow=function(e,t){let l=this.p.columns.get(e);if(!l)return!1;let o=T("span");return o.className="sort-arrow",l.element&&(l.element.addClass(t?"sorted desc":"sorted"),l.element[0].firstChild.insertBefore(o,l.element[0].firstChild.firstChild)),l.widthMode!=S.RELATIVE&&this.o.adjustColumnWidthForSortArrow&&(l.arrowProposedWidth=o.scrollWidth+(parseFloat(_(o).css("margin-right"))||0)+(parseFloat(_(o).css("margin-left"))||0)),this},F.prototype._resizeColumnElements=function(e){let t=this.p,l=t.$headerRow.find("div."+this.o.tableClassName+"-header-cell"),o=t.columns.get(l[e].columnName);if(o){l[e].style.width=(o.actualWidthConsideringScrollbarWidth||o.actualWidth)+"px";let r=(o.actualWidthConsideringScrollbarWidth||o.actualWidth)+"px",i=t.$tbody[0].childNodes;for(let t=0,l=i.length;t<l;t++){let l=i[t];1===l.nodeType&&(l.childNodes[e].style.width=r)}}return this},F.prototype._destroyHeaderCells=function(){let e=this.o,t=this.p;return t.$headerRow&&(this.trigger("headerrowdestroy",t.headerRow),t.$headerRow.find("div."+e.tableClassName+"-header-cell").remove(),t.$headerRow=null,t.headerRow=null),this},F.prototype._renderSkeletonBase=function(){let e=this,t=e.p,l=e.o;if(t.$table&&l.virtualTable){if(t.$table.remove(),t.$tbody){let l=t.$tbody[0].childNodes;for(let t=0,o=l.length;t<o;t++)e.trigger("rowdestroy",l[t]),e._unbindCellEventsForRow(l[t])}t.$table=t.table=t.$tbody=t.tbody=null}e._destroyHeaderCells(),t.currentTouchId=null,t.$header&&t.$header.remove();let o=l.tableClassName,r=T("div"),i=_(r),n=T("div"),s=_(n);return r.className=o+"-header",n.className=o+"-header-row",t.$header=i,t.header=r,t.$headerRow=s,t.headerRow=n,s.appendTo(t.$header),i.prependTo(this.$el),H(e.$el),l.width==F.Width.SCROLL?this.el.style.overflow="hidden":this.el.style.overflow="",!l.height&&l.virtualTable&&(l.height=p.innerHeight(this.$el)),this},F.prototype._renderSkeletonHeaderCells=function(){let e,t=this,l=t.p,o=t.o,r=o.allowCellPreview,i=o.allowHeaderCellPreview,n=o.tableClassName+"-header-cell",s=(l.header,l.$header,l.headerRow);l.$headerRow,N&&(e=function(e){return e.preventDefault(),this.dragDrop(),!1});let a=function(e){e.preventDefault()};for(let d=0;d<l.visibleColumns.length;d++){let h=l.visibleColumns[d];if(h.visible){let u=T("div"),c=_(u);u.draggable=!0,u.className=n,u.style.width=h.actualWidth+"px",o.sortableColumns&&h.sortable&&(u.className+=" sortable"),u.columnName=h.name,u.setAttribute("data-column",h.name);let p=T("div");p.innerHTML=o.headerCellFormatter(h.label,h.name),u.appendChild(p),r&&i&&l._bindCellHoverIn(u),s.appendChild(u),l.visibleColumns[d].element=c,c.on("mousedown.dgtable",t._onMouseDownColumnHeader.bind(t)).on("mousemove.dgtable",t._onMouseMoveColumnHeader.bind(t)).on("mouseup.dgtable",t._onMouseUpColumnHeader.bind(t)).on("mouseleave.dgtable",t._onMouseLeaveColumnHeader.bind(t)).on("touchstart.dgtable",t._onTouchStartColumnHeader.bind(t)).on("dragstart.dgtable",t._onStartDragColumnHeader.bind(t)).on("click.dgtable",t._onClickColumnHeader.bind(t)).on("contextmenu.dgtable",a),_(p).on("dragenter.dgtable",t._onDragEnterColumnHeader.bind(t)).on("dragover.dgtable",t._onDragOverColumnHeader.bind(t)).on("dragleave.dgtable",t._onDragLeaveColumnHeader.bind(t)).on("drop.dgtable",t._onDropColumnHeader.bind(t)),N&&c.on("selectstart.dgtable",e.bind(u)),c.css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none"})}}return this.trigger("headerrowcreate",s),this},F.prototype._renderSkeletonBody=function(){let e=this,t=e.p,l=e.o,o=l.tableClassName;if(l.virtualTable&&!t.virtualRowHeight){let l,r=function(){let e=T("div"),t=e.appendChild(T("div")),l=t.appendChild(T("div"));return e.className=o+"-row",t.className=o+"-cell",l.innerHTML="0",e.style.visibility="hidden",e.style.position="absolute",e},i=_("<div>").addClass(e.el.className).css({"z-index":-1,position:"absolute",left:"0",top:"-9999px",width:"1px",overflow:"hidden"}).append(_("<div>").addClass(o).append(l=_("<div>").addClass(o+"-body").css("width",99999)));i.appendTo(document.body);let n=r(),s=r(),a=r();l.append(n,s,a),t.virtualRowHeightFirst=p.outerHeight(n),t.virtualRowHeight=p.outerHeight(s),t.virtualRowHeightLast=p.outerHeight(a),t.virtualRowHeightMin=Math.min(Math.min(t.virtualRowHeightFirst,t.virtualRowHeight),t.virtualRowHeightLast),t.virtualRowHeightMax=Math.max(Math.max(t.virtualRowHeightFirst,t.virtualRowHeight),t.virtualRowHeightLast),i.remove()}if(!t.$table){let r=document.createDocumentFragment(),i=T("div"),n=_(i);i.className=o,l.virtualTable&&(i.className+=" virtual");let s=l.height-p.outerHeight(t.$headerRow);"border-box"!==n.css("box-sizing")&&(s-=parseFloat(n.css("border-top-width"))||0,s-=parseFloat(n.css("border-bottom-width"))||0,s-=parseFloat(n.css("padding-top"))||0,s-=parseFloat(n.css("padding-bottom"))||0),t.visibleHeight=s,i.style.height=l.height?s+"px":"auto",i.style.display="block",i.style.overflowY="auto",i.style.overflowX=l.width==F.Width.SCROLL?"auto":"hidden",r.appendChild(i);let a=T("div"),d=_(a);a.className=l.tableClassName+"-body",t.table=i,t.tbody=a,t.$table=n,t.$tbody=d,l.virtualTable&&(t.virtualVisibleRows=Math.ceil(t.visibleHeight/t.virtualRowHeightMin)),e._calculateVirtualHeight(),H(d),H(n),i.appendChild(a),e.el.appendChild(r)}return this},F.prototype._renderSkeleton=function(){return this},F.prototype._updateLastCellWidthFromScrollbar=function(e){const t=this.p;let l=t.table.offsetWidth-t.table.clientWidth;if(l!=t.scrollbarWidth||e){t.scrollbarWidth=l;for(let e=0;e<t.columns.length;e++)t.columns[e].actualWidthConsideringScrollbarWidth=null;if(t.scrollbarWidth>0&&t.visibleColumns.length>0){let e=t.visibleColumns.length-1;t.visibleColumns[e].actualWidthConsideringScrollbarWidth=t.visibleColumns[e].actualWidth-t.scrollbarWidth;let l=t.visibleColumns[e].actualWidthConsideringScrollbarWidth+"px",o=t.tbody.childNodes;for(let t=0,r=o.length;t<r;t++){let r=o[t];1===r.nodeType&&(r.childNodes[e].style.width=l)}t.headerRow.childNodes[e].style.width=l}}return this},F.prototype._updateTableWidth=function(e){const t=this.o,l=this.p;let o=this._calculateTbodyWidth();if(l.tbody.style.minWidth=o+"px",l.headerRow.style.minWidth=o+(l.scrollbarWidth||0)+"px",l.$table.off("scroll",l.onTableScrolledHorizontallyBound),t.width==F.Width.AUTO)p.width(l.$table,p.outerWidth(l.$tbody)),p.width(this.$el,p.outerWidth(l.$table));else if(t.width==F.Width.SCROLL){if(e){let e=l.table?l.table.scrollTop:0,t=l.table?l.table.scrollLeft:0;!function(e){let t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}(this.el),l.table.scrollTop=e,l.table.scrollLeft=t,l.header.scrollLeft=t}l.$table.on("scroll",l.onTableScrolledHorizontallyBound)}return this},F.prototype._isTableRtl=function(){return"rtl"===this.p.$table.css("direction")},F.prototype._serializeColumnWidth=function(e){return e.widthMode===S.AUTO?"auto":e.widthMode===S.RELATIVE?100*e.width+"%":e.width},F.prototype._cellMouseOverEvent=function(e){const t=this.o,l=this.p;let o=e.firstChild;if(o.scrollWidth-o.clientWidth>1||o.scrollHeight-o.clientHeight>1){this.hideCellPreview(),l.abortCellPreview=!1;let r=_(e),i=_(o),n=T("div"),s=_(n);n.innerHTML=e.innerHTML,n.className=t.cellPreviewClassName;let a=r.hasClass(t.tableClassName+"-header-cell");a&&(n.className+=" header",r.hasClass("sortable")&&(n.className+=" sortable"),n.draggable=!0,_(n).on("mousedown",this._onMouseDownColumnHeader.bind(this)).on("mousemove",this._onMouseMoveColumnHeader.bind(this)).on("mouseup",this._onMouseUpColumnHeader.bind(this)).on("mouseleave",this._onMouseLeaveColumnHeader.bind(this)).on("touchstart",this._onTouchStartColumnHeader.bind(this)).on("dragstart",this._onStartDragColumnHeader.bind(this)).on("click",this._onClickColumnHeader.bind(this)).on("contextmenu.dgtable",(function(e){e.preventDefault()})),_(n.firstChild).on("dragenter",this._onDragEnterColumnHeader.bind(this)).on("dragover",this._onDragOverColumnHeader.bind(this)).on("dragleave",this._onDragLeaveColumnHeader.bind(this)).on("drop",this._onDropColumnHeader.bind(this)),N&&_(n).on("selectstart",function(e){return e.preventDefault(),this.dragDrop(),!1}.bind(n)));let d=parseFloat(r.css("padding-left"))||0,h=parseFloat(r.css("padding-right"))||0,u=parseFloat(r.css("padding-top"))||0,c=parseFloat(r.css("padding-bottom"))||0,m=o.scrollWidth+(e.clientWidth-o.offsetWidth),f="border-box"===r.css("box-sizing");if(f?s.css("box-sizing","border-box"):(m-=d+h,s.css("margin-top",parseFloat(_(e).css("border-top-width"))||0)),!l.transparentBgColor1){let e=document.createElement("div");e.style.backgroundColor="transparent",l.transparentBgColor1=_(e).css("background-color"),e.style.backgroundColor="rgba(0,0,0,0)",l.transparentBgColor2=_(e).css("background-color")}let g={"box-sizing":f?"border-box":"content-box",width:m,"min-height":p.height(r),"padding-left":d,"padding-right":h,"padding-top":u,"padding-bottom":c,overflow:"hidden",position:"absolute","z-index":"-1",left:"0",top:"0",cursor:"default"};if(g){let t=_(e).css("background-color");t!==l.transparentBgColor1&&t!==l.transparentBgColor2||(t=_(e.parentNode).css("background-color")),t!==l.transparentBgColor1&&t!==l.transparentBgColor2||(t="#fff"),g["background-color"]=t}s.css(g),this.el.appendChild(n),_(n.firstChild).css({direction:i.css("direction"),"white-space":i.css("white-space")}),a&&s.css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none"}),n.rowIndex=e.parentNode.rowIndex;let v=n.physicalRowIndex=e.parentNode.physicalRowIndex;n.columnName=l.visibleColumns[y.call(e.parentNode.childNodes,e)].name;try{let t=b.saveSelection(e);t&&b.restoreSelection(n,t)}catch(e){}if(this.trigger("cellpreview",n.firstChild,null==v?null:v,n.columnName,null==v?null:l.rows[v],e),l.abortCellPreview)return void s.remove();let C=this.$el,w=C[0]===window?_(document):C,R=r.offset(),W=C.offset(),z="right"===r.css("float"),H=z?"right":"left";if(z){let e=_(window).width();R.right=e-(R.left+p.outerWidth(r)),W.right=e-(W.left+p.outerWidth(C))}R.left-=parseFloat(C.css("border-left-width"))||0,R.right-=parseFloat(C.css("border-right-width"))||0,R.top-=parseFloat(C.css("border-top-width"))||0,R[H]+=parseFloat(_(e).css("border-"+H+"-width"))||0,R.top+=parseFloat(_(e).css("border-top-width"))||parseFloat(_(e).css("border-bottom-width"))||0,R.left-=W.left,R.right-=W.right,R.top-=W.top;let F=0,S=C-p.outerWidth(s);R[H]=R[H]<F?F:R[H]>S?S:R[H];let M=p.outerHeight(r),x=w.scrollTop()+p.innerHeight(C)-M;R.top>x&&(R.top=Math.max(0,x));let E={top:R.top,"z-index":9999};E[H]=R[H],s.css(E),n.__cell=e,l.$cellPreviewCell=s,e.__previewCell=n,l._bindCellHoverOut(e),l._bindCellHoverOut(n),s.on("mousewheel",e=>{let t=e.originalEvent,o=t.wheelDelta||-t.detail,r=t.wheelDeltaX||(1==t.axis?o:0),i=t.wheelDeltaY||(2==t.axis?o:0);if(o&&this.hideCellPreview(),i&&l.table.scrollHeight>l.table.clientHeight){let e=-1*i+l.$table.scrollTop();l.$table.scrollTop(e)}if(r&&l.table.scrollWidth>l.table.clientWidth){let e=-1*r+l.$table.scrollLeft();l.$table.scrollLeft(e)}})}},F.prototype._cellMouseOutEvent=function(e){this.hideCellPreview()},F.prototype.hideCellPreview=function(){const e=this.p;if(e.$cellPreviewCell){let t,l=e.$cellPreviewCell[0],o=l.__cell;try{t=b.saveSelection(l)}catch(e){}e.$cellPreviewCell.remove(),e._unbindCellHoverOut(o),e._unbindCellHoverOut(l);try{t&&b.restoreSelection(o,t)}catch(e){}this.trigger("cellpreviewdestroy",l.firstChild,l.physicalRowIndex,l.columnName,o),o.__previewCell=null,l.__cell=null,e.$cellPreviewCell=null,e.abortCellPreview=!1}else e.abortCellPreview=!0;return this};const S={AUTO:0,ABSOLUTE:1,RELATIVE:2};F.Width={NONE:"none",AUTO:"auto",SCROLL:"scroll"},_.controls||(_.controls={}),_.controls.dgtable=F;export default F;

//# sourceMappingURL=jquery.dgtable.es6.min.js.map