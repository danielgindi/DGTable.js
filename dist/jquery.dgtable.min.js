/*!
 * jquery.dgtable 0.5.5
 * git://github.com/danielgindi/jquery.dgtable.git
 */

!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?exports.DGTable=b(require("jquery")):a.DGTable=b(a.jQuery)}(this,function(a){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0).default}([function(a,b,c){(function(a){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){var b=a.style.display;return a.style.display="none",a.offsetHeight,a.style.display=b,a}function f(a){(0,j.contains)(["relative","absolute","fixed"],a.css("position"))||a.css("position","relative")}Object.defineProperty(b,"__esModule",{value:!0});var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=c(1),i=d(h),j=c(2),k=c(3),l=d(k),m=c(4),n=d(m),o=c(5),q=d(o),r=i.default,s=navigator.userAgent,t=s.indexOf("MSIE ")!=-1?parseFloat(s.substr(s.indexOf("MSIE ")+5)):null,u=t&&t<10,v=(0,j.bind)(document.createElement,document),w=function a(){if(!(this instanceof a))return new(Function.prototype.bind.apply(a,[a].concat(Array.prototype.slice.call(arguments,0))));this.initialize.apply(this,arguments)};w.VERSION="0.5.5",w.prototype.VERSION=w.VERSION,w.prototype.initialize=function(a){var b=this;a=a||{};var c=b.o={},d=b.p={};d.events={},b.el=a.el&&a.el instanceof Element?a.el:document.createElement("div");var e=b.$el=r(b.el);b.el!==a.el&&e.addClass(a.className||"dgtable-wrapper"),e.data("control",b).data("dgtable",b),e.on("remove",function(){b.destroy()}),d.onMouseMoveResizeAreaBound=(0,j.bind)(this._onMouseMoveResizeArea,this),d.onEndDragColumnHeaderBound=(0,j.bind)(this._onEndDragColumnHeader,this),d.onTableScrolledHorizontallyBound=(0,j.bind)(this._onTableScrolledHorizontally,this),this.$el.on("dragend",d.onEndDragColumnHeaderBound),d.tableSkeletonNeedsRendering=!0,c.virtualTable=void 0===a.virtualTable||!!a.virtualTable,c.rowsBufferSize=a.rowsBufferSize||3,c.minColumnWidth=Math.max(a.minColumnWidth||35,0),c.resizeAreaWidth=a.resizeAreaWidth||8,c.resizableColumns=void 0===a.resizableColumns||!!a.resizableColumns,c.movableColumns=void 0===a.movableColumns||!!a.movableColumns,c.sortableColumns=void 0===a.sortableColumns?1:parseInt(a.sortableColumns,10)||1,c.adjustColumnWidthForSortArrow=void 0===a.adjustColumnWidthForSortArrow||!!a.adjustColumnWidthForSortArrow,c.convertColumnWidthsToRelative=void 0!==a.convertColumnWidthsToRelative&&!!a.convertColumnWidthsToRelative,c.cellClasses=void 0===a.cellClasses?"":a.cellClasses,c.resizerClassName=void 0===a.resizerClassName?"dgtable-resize":a.resizerClassName,c.tableClassName=void 0===a.tableClassName?"dgtable":a.tableClassName,c.allowCellPreview=void 0===a.allowCellPreview||a.allowCellPreview,c.allowHeaderCellPreview=void 0===a.allowHeaderCellPreview||a.allowHeaderCellPreview,c.cellPreviewClassName=void 0===a.cellPreviewClassName?"dgtable-cell-preview":a.cellPreviewClassName,c.cellPreviewAutoBackground=void 0===a.cellPreviewAutoBackground||a.cellPreviewAutoBackground,c.onComparatorRequired=void 0===a.onComparatorRequired?null:a.onComparatorRequired,c.onComparatorRequired||"function"!=typeof a.comparatorCallback||(c.onComparatorRequired=a.comparatorCallback),c.width=void 0===a.width?w.Width.NONE:a.width,c.relativeWidthGrowsToFillWidth=void 0===a.relativeWidthGrowsToFillWidth||!!a.relativeWidthGrowsToFillWidth,c.relativeWidthShrinksToFillWidth=void 0!==a.relativeWidthShrinksToFillWidth&&!!a.relativeWidthShrinksToFillWidth,c.cellFormatter=a.cellFormatter||function(a){return a},c.headerCellFormatter=a.headerCellFormatter||function(a){return a},c.height=a.height,b.setColumns(a.columns||[],!1);var f=[];if(a.sortColumn){var h=a.sortColumn;if(h&&"object"!==(void 0===h?"undefined":g(h))&&(h=[h]),h instanceof Array||"object"===(void 0===h?"undefined":g(h)))for(var i,k=0,m=h.length;k<m;k++){i=h[k],"string"==typeof i&&(i={column:i,descending:!1});var n=d.columns.get(i.column);f.push({column:i.column,comparePath:n.comparePath,descending:i.descending})}}d.rows=new l.default({sortColumn:f}),d.rows.onComparatorRequired=function(a,b){if(c.onComparatorRequired)return c.onComparatorRequired(a,b)},d.filteredRows=null;var o=function(a){a=a||event;var c=a.fromElement||a.relatedTarget;c==this||r.contains(this,c)||this.__previewEl&&(c==this.__previewEl||r.contains(this.__previewEl,c))||b._cellMouseOverEvent.call(b,this)},p=function(a){a=a||event;var c=a.toElement||a.relatedTarget;c==this||r.contains(this,c)||this.__previewEl&&(c==this.__previewEl||r.contains(this.__previewEl,c))||b._cellMouseOutEvent.call(b,this)};"addEventListener"in window?(d._bindCellHoverIn=function(a){a.__hoverIn||a.addEventListener("mouseover",a.__hoverIn=(0,j.bind)(o,a))},d._unbindCellHoverIn=function(a){a.__hoverIn&&(a.removeEventListener("mouseover",a.__hoverIn),a.__hoverIn=null)},d._bindCellHoverOut=function(a){return a.__hoverOut||a.addEventListener("mouseout",a.__hoverOut=(0,j.bind)(p,a.__cell||a)),this},d._unbindCellHoverOut=function(a){return a.__hoverOut&&(a.removeEventListener("mouseout",a.__hoverOut),a.__hoverOut=null),this}):(d._bindCellHoverIn=function(a){a.__hoverIn||a.attachEvent("mouseover",a.__hoverIn=(0,j.bind)(o,a))},d._unbindCellHoverIn=function(a){a.__hoverIn&&(a.detachEvent("mouseover",a.__hoverIn),a.__hoverIn=null)},d._bindCellHoverOut=function(a){a.__hoverOut||a.attachEvent("mouseout",a.__hoverOut=(0,j.bind)(p,a.__cell||a))},d._unbindCellHoverOut=function(a){return a.__hoverOut&&(a.detachEvent("mouseout",a.__hoverOut),a.__hoverOut=null),this})},w.prototype.on=function(a,b){var c=this,d=c.p.events;return"function"!=typeof b?c:(d.hasOwnProperty(a)||(d[a]=[]),d[a].push({cb:b,once:!1}),c)},w.prototype.once=function(a,b){var c=this,d=c.p.events;return"function"!=typeof b?c:(d.hasOwnProperty(a)||(d[a]=[]),d[a].push({cb:b,once:!0}),c)},w.prototype.off=function(a,b){var c=this,d=c.p.events;if(!d.hasOwnProperty(a))return c;for(var e,f=d[a],g=0;g<f.length;g++)e=f[g],b&&e.cb!==b||f.splice(g--,1);return c},w.prototype.trigger=function(a){var b=this,c=b.p.events;if(c.hasOwnProperty(a))for(var d,e=c[a],f=0;f<e.length;f++)d=e[f],d.once&&e.splice(f--,1),d.cb.apply(b,Array.prototype.slice.call(arguments,1));return b},w.prototype._parseColumnWidth=function(a,b){var c=parseFloat(a),d=x.AUTO;return c>0&&(a==c+"%"?(d=x.RELATIVE,c/=100):c>0&&c<1?d=x.RELATIVE:(c<b&&(c=b),d=x.ABSOLUTE)),{width:c,mode:d}},w.prototype._initColumnFromData=function(a){var b=this._parseColumnWidth(a.width,a.ignoreMin?0:this.o.minColumnWidth),c={name:a.name,label:void 0===a.label?a.name:a.label,width:b.width,widthMode:b.mode,resizable:void 0===a.resizable||a.resizable,sortable:void 0===a.sortable||a.sortable,movable:void 0===a.movable||a.movable,visible:void 0===a.visible||a.visible,cellClasses:void 0===a.cellClasses?this.o.cellClasses:a.cellClasses,ignoreMin:void 0!==a.ignoreMin&&!!a.ignoreMin};return c.dataPath=void 0===a.dataPath?c.name:a.dataPath,c.comparePath=void 0===a.comparePath?c.dataPath:a.comparePath,"string"==typeof c.dataPath&&(c.dataPath=c.dataPath.split(".")),"string"==typeof c.comparePath&&(c.comparePath=c.comparePath.split(".")),c},w.prototype.close=w.prototype.remove=w.prototype.destroy=function(){var a=this,b=a.p||{},c=a.$el;if(a.__removed)return a;if(b.$resizer&&(b.$resizer.remove(),b.$resizer=null),b.$tbody)for(var d=b.$tbody[0].childNodes,e=0,f=d.length;e<f;e++)a.trigger("rowdestroy",d[e]);if(w.__super__.remove.apply(this,arguments),this._destroyHeaderCells()._unbindCellEventsForTable(),b.$table&&b.$table.empty(),b.$tbody&&b.$tbody.empty(),b.workerListeners){for(var g,h=0;h<b.workerListeners.length;h++)g=b.workerListeners[h],g.worker.removeEventListener("message",g.listener,!1);b.workerListeners.length=0}b.rows.length=b.columns.length=0,b._deferredRender&&clearTimeout(b._deferredRender);for(var i in a)a.hasOwnProperty(i)&&(a[i]=null);return a.__removed=!0,c&&c.remove(),this},w.prototype._unbindCellEventsForTable=function(){var a,b,c,d,e,f,g,h=this,i=h.p;if(i.headerRow)for(a=0,b=i.headerRow.childNodes,c=b.length;a<c;a++)for(d=b[a],e=0,f=d.childNodes,g=f.length;e<g;e++)i._unbindCellHoverIn(f[e]);if(i.tbody)for(a=0,b=i.tbody.childNodes,c=b.length;a<c;a++)this._unbindCellEventsForRow(b[a]);return this},w.prototype._unbindCellEventsForRow=function(a){for(var b=this,c=b.p,d=0,e=a.childNodes,f=e.length;d<f;d++)c._unbindCellHoverIn(e[d]);return this},w.prototype.render=function(){var a=this,b=a.o,c=a.p;if(!this.el.offsetParent)return c._deferredRender||(c._deferredRender=setTimeout(function(){c._deferredRender=null,!a.__removed&&a.el.offsetParent&&a.render()})),a;var d,e;if(c.tableSkeletonNeedsRendering===!0){c.tableSkeletonNeedsRendering=!1,b.width==w.Width.AUTO&&a._clearSortArrows();var f=c.table?c.table.scrollTop:0,g=c.table?c.table.scrollLeft:0;if(a.tableWidthChanged(!0,!1)._renderSkeleton(),b.virtualTable)a._updateLastCellWidthFromScrollbar();else{e=(c.filteredRows||c.rows).length,d=a.renderRows(0,e-1),c.$tbody.html("").append(d),a._updateLastCellWidthFromScrollbar(!0)}c.table.scrollTop=f,c.table.scrollLeft=g,c.header.scrollLeft=g,this._updateTableWidth(!0);for(var h=0;h<c.rows.sortColumn.length;h++)this._showSortArrow(c.rows.sortColumn[h].column,c.rows.sortColumn[h].descending);b.adjustColumnWidthForSortArrow&&c.rows.sortColumn.length?this.tableWidthChanged(!0):b.virtualTable||this.tableWidthChanged(),this.trigger("renderskeleton"),b.virtualTable&&(c.$table.on("scroll",(0,j.bind)(this._onVirtualTableScrolled,this)),this.render())}else if(b.virtualTable){e=(c.filteredRows||c.rows).length;var i=c.table.scrollTop,k=Math.floor((i-c.virtualRowHeightFirst)/c.virtualRowHeight)+1-b.rowsBufferSize,l=Math.ceil((i-c.virtualRowHeightFirst+c.visibleHeight)/c.virtualRowHeight)+b.rowsBufferSize;k<0&&(k=0),l>=e&&(l=e-1);var m=-1,n=-1,o=c.tbody.childNodes;o.length&&(m=o[0].rowIndex,n=o[o.length-1].rowIndex);var p;if(m!==-1&&m<k){p=Math.min(n+1,k)-m;for(var h=0;h<p;h++)a.trigger("rowdestroy",o[0]),a._unbindCellEventsForRow(o[0]),c.tbody.removeChild(o[0]);m+=p,m>n&&(m=n=-1)}else if(n!==-1&&n>l){p=n-Math.max(m-1,l);for(var h=0;h<p;h++)a.trigger("rowdestroy",o[o.length-1]),a._unbindCellEventsForRow(o[o.length-1]),c.tbody.removeChild(o[o.length-1]);n<m&&(m=n=-1)}k<m&&(d=a.renderRows(k,Math.min(l,m-1)),c.$tbody.prepend(d)),(l>n||n===-1)&&(d=a.renderRows(n===-1?k:n+1,l),c.$tbody.append(d))}return this.trigger("render"),this},w.prototype.clearAndRender=function(a){return this.p.tableSkeletonNeedsRendering=!0,(void 0===a||a)&&this.render(),this},w.prototype.renderRows=function(a,b){for(var c,d,e,f,g,h,i=this,j=i.o,k=i.p,l=j.tableClassName,m=l+"-row",n=l+"-cell",o=k.filteredRows||k.rows,p=!!k.filteredRows,q=j.allowCellPreview,r=k.visibleColumns,s=j.cellFormatter,t=j.virtualTable,u=k.virtualRowHeightFirst,w=k.virtualRowHeight,x=r.length,y=0;y<x;y++)h=r[y],h._finalWidth=h.actualWidthConsideringScrollbarWidth||h.actualWidth;for(var z,A,B,C,D,E=document.createDocumentFragment(),F=this._isTableRtl(),G=F?"right":"left",H=a,I=o.length;H<I&&H<=b;H++){for(z=o[H],d=p?z.__i:H,A=v("div"),A.className=m,A.rowIndex=H,A.physicalRowIndex=d,y=0;y<x;y++){for(h=r[y],B=v("div"),B.columnName=h.name,B.setAttribute("data-column",h.name),B.className=n,B.style.width=h._finalWidth+"px",h.cellClasses&&(B.className+=" "+h.cellClasses),q&&k._bindCellHoverIn(B),C=B.appendChild(v("div")),e=h.dataPath,g=z[e[0]],f=1;f<e.length;f++)g=g&&g[e[f]];D=s(g,h.name,z),void 0===D&&(D=""),C.innerHTML=D,A.appendChild(B)}t&&(c=H>0?u+(H-1)*w:0,A.style.position="absolute",A.style[G]=0,A.style.top=c+"px"),E.appendChild(A),i.trigger("rowcreate",H,d,A,z)}return E},w.prototype._calculateVirtualHeight=function(){var a=this.p;if(a.tbody){var b=(a.filteredRows||a.rows).length,c=a.virtualRowHeight*b;b&&(c+=a.virtualRowHeightFirst-a.virtualRowHeight,c+=a.virtualRowHeightLast-a.virtualRowHeight),c<1&&(c=1),a.tbody.style.height=c+"px"}return this},w.prototype._calculateTbodyWidth=function(){var a,b,c,d=this,e=d.p,f=d.o.tableClassName,g=f+"-row",h=f+"-cell",i=e.visibleColumns,j=i.length,k=r("<div>").addClass(g).css("float","left");for(b=0;b<j;b++)c=i[b],a=v("div"),a.className=h,a.style.width=c.actualWidth+"px",c.cellClasses&&(a.className+=" "+c.cellClasses),a.appendChild(v("div")),k.append(a);var l=r("<div>").addClass(d.el.className).css({"z-index":-1,position:"absolute",left:"0",top:"-9999px",float:"left",width:"1px",overflow:"hidden"}).append(r("<div>").addClass(f).append(r("<div>").addClass(f+"-body").css("width",99999).append(k)));l.appendTo(document.body);var m=r('<div style="border:1.5px solid #000;width:0;height:0;position:absolute;left:0;top:-9999px">').appendTo(document.body),n=parseFloat(m.css("border-width"));n=Math.round(n)!=n,m.remove();var o=q.default.outerWidth(k);return o-=e.scrollbarWidth||0,n&&o++,l.remove(),o},w.prototype.setColumns=function(a,b){var c=this,d=c.p;a=a||[];for(var e=new n.default,f=0,g=0;f<a.length;f++){var h=a[f],i=c._initColumnFromData(h);void 0!==h.order?(h.order>g&&(g=h.order+1),i.order=h.order):i.order=g++,e.push(i)}return e.normalizeOrder(),d.columns=e,d.visibleColumns=e.getVisibleColumns(),c._ensureVisibleColumns().clearAndRender(b),c},w.prototype.addColumn=function(a,b,c){var d=this,e=d,f=e.columns;if(a&&!f.get(a.name)){var g=null;void 0!==b&&(g=f.get(b)||f.getByOrder(b));var h=this._initColumnFromData(a);h.order=g?g.order:f.getMaxOrder()+1;for(var i,j=f.getMaxOrder(),k=h.order;j>=k;j--)(i=f.getByOrder(j))&&i.order++;f.push(h),f.normalizeOrder(),e.visibleColumns=f.getVisibleColumns(),this._ensureVisibleColumns().clearAndRender(c),this.trigger("addcolumn",h.name)}return this},w.prototype.removeColumn=function(a,b){var c=this,d=c.p,e=d.columns,f=e.indexOf(a);return f>-1&&(e.splice(f,1),e.normalizeOrder(),d.visibleColumns=e.getVisibleColumns(),this._ensureVisibleColumns().clearAndRender(b),this.trigger("removecolumn",a)),this},w.prototype.filter=function(a,b,c){var d=this,e=d.p;if(e.columns.get(a)){var f=!!e.filteredRows;e.filteredRows&&(e.filteredRows=null),e.filteredRows=e.rows.filteredCollection(a,b,c),(f||e.filteredRows)&&(this.clearAndRender(),this.trigger("filter",a,b,c))}return this},w.prototype._refilter=function(){var a=this,b=a.p;return b.filteredRows&&(b.filteredRows=null,b.filteredRows=b.rows.filteredCollection(b.rows.filterColumn,b.rows.filterString,b.rows.filterCaseSensitive)),this},w.prototype.setColumnLabel=function(a,b){var c=this,d=c.p,e=d.columns.get(a);if(e&&(e.label=void 0===b?e.name:b,e.element))for(var f,g=0;g<e.element[0].firstChild.childNodes.length;g++)if(f=e.element[0].firstChild.childNodes[g],3===f.nodeType){f.textContent=e.label;break}return this},w.prototype.moveColumn=function(a,b){var c,d,e=this,f=e.o,g=e.p,h=g.columns;if("string"==typeof a?c=h.get(a):"number"==typeof a&&(c=g.visibleColumns[a]),"string"==typeof b?d=h.get(b):"number"==typeof b&&(d=g.visibleColumns[b]),c&&d&&a!==b){var i=c.order,j=d.order;if(g.visibleColumns=h.moveColumn(c,d).getVisibleColumns(),this._ensureVisibleColumns(),f.virtualTable)this.clearAndRender()._updateLastCellWidthFromScrollbar(!0);else{var k=g.$headerRow.find(">div."+f.tableClassName+"-header-cell"),l=i<j?j+1:j,m=i;k[0].parentNode.insertBefore(k[m],k[l]);var n=g.visibleColumns[i];n=(n.actualWidthConsideringScrollbarWidth||n.actualWidth)+"px";var o=g.visibleColumns[j];o=(o.actualWidthConsideringScrollbarWidth||o.actualWidth)+"px";for(var p,q=g.$tbody[0].childNodes,r=0,s=q.length;r<s;r++)p=q[r],1===p.nodeType&&(p.insertBefore(p.childNodes[m],p.childNodes[l]),p.childNodes[j].firstChild.style.width=o,p.childNodes[i].firstChild.style.width=n)}this.trigger("movecolumn",c.name,i,j)}return this},w.prototype.sort=function(a,b,c){var d,e=this,f=e.o,g=e.p,h=g.columns,i=h.get(a);if(i){var j=g.rows.sortColumn;if(j.length&&j[j.length-1].column==a&&(b=void 0===b?!j[j.length-1].descending:b),c){for(d=0;d<j.length;d++)if(j[d].column==i.name){d<j.length-1?j.length=0:j.splice(j.length-1,1);break}(f.sortableColumns>0&&j.length>=f.sortableColumns||j.length>=g.visibleColumns.length)&&(j.length=0)}else j.length=0;for(b=void 0!==b&&b,j.push({column:i.name,comparePath:i.comparePath,descending:!!b}),this._clearSortArrows(),d=0;d<j.length;d++)this._showSortArrow(j[d].column,j[d].descending);if(f.adjustColumnWidthForSortArrow&&!f._tableSkeletonNeedsRendering&&this.tableWidthChanged(!0),f.virtualTable)for(;g.tbody&&g.tbody.firstChild;)this.trigger("rowdestroy",g.tbody.firstChild),this._unbindCellEventsForRow(g.tbody.firstChild),g.tbody.removeChild(g.tbody.firstChild);else g.tableSkeletonNeedsRendering=!0;g.rows.sortColumn=j,g.rows.sort(!!g.filteredRows),this._refilter();var k=[];for(d=0;d<j.length;d++)k.push({column:j[d].column,descending:j[d].descending});this.trigger("sort",k)}return this},w.prototype.resort=function(){var a=this,b=a.p,c=b.rows.sortColumn;if(c.length){b.rows.sortColumn=c,b.rows.sort(!!b.filteredRows),this._refilter();for(var d=[],e=0;e<c.length;e++)d.push({column:c[e].column,descending:c[e].descending});this.trigger("sort",d)}return this},w.prototype._ensureVisibleColumns=function(){var a=this,b=a.p;return 0===b.visibleColumns.length&&b.columns.length&&(b.columns[0].visible=!0,b.visibleColumns.push(b.columns[0]),this.trigger("showcolumn",b.columns[0].name)),this},w.prototype.setColumnVisible=function(a,b){var c=this,d=c.p,e=d.columns.get(a);return b=!!b,e&&!!e.visible!=b&&(e.visible=b,d.visibleColumns=d.columns.getVisibleColumns(),this.trigger(b?"showcolumn":"hidecolumn",a),this._ensureVisibleColumns(),this.clearAndRender()),this},w.prototype.isColumnVisible=function(a){var b=this,c=b.p,d=c.columns.get(a);return!!d&&d.visible},w.prototype.setMinColumnWidth=function(a){var b=this.o;return a=Math.max(a,0),b.minColumnWidth!=a&&(b.minColumnWidth=a,this.tableWidthChanged(!0)),this},w.prototype.getMinColumnWidth=function(){return this.o.minColumnWidth},w.prototype.setSortableColumns=function(a){var b=this.o;if(b.sortableColumns!=a&&(b.sortableColumns=a,p.$table))for(var c=p.$headerRow.find(">div."+b.tableClassName+"-header-cell"),d=0;d<c.length;d++)r(c[0])[b.sortableColumns>0&&p.visibleColumns[d].sortable?"addClass":"removeClass"]("sortable");return this},w.prototype.getSortableColumns=function(){return this.o.sortableColumns},w.prototype.setMovableColumns=function(a){var b=this.o;return a=void 0===a||!!a,b.movableColumns!=a&&(b.movableColumns=a),this},w.prototype.getMovableColumns=function(){return this.o.movableColumns},w.prototype.setResizableColumns=function(a){var b=this.o;return a=void 0===a||!!a,b.resizableColumns!=a&&(b.resizableColumns=a),this},w.prototype.getResizableColumns=function(){return this.o.resizableColumns},w.prototype.setComparatorCallback=function(a){var b=this.o;return b.onComparatorRequired!=a&&(b.onComparatorRequired=a),this},w.prototype.setColumnWidth=function(a,b){var c=this,d=c.p,e=d.columns.get(a),f=this._parseColumnWidth(b,e.ignoreMin?0:this.o.minColumnWidth);if(e){var g=this._serializeColumnWidth(e);e.width=f.width,e.widthMode=f.mode;var h=this._serializeColumnWidth(e);g!=h&&this.tableWidthChanged(!0),this.trigger("columnwidth",e.name,g,h)}return this},w.prototype.getColumnWidth=function(a){var b=this,c=b.p,d=c.columns.get(a);return d?this._serializeColumnWidth(d):null},w.prototype.getColumnConfig=function(a){var b=this,c=b.p,d=c.columns.get(a);return d?{order:d.order,width:this._serializeColumnWidth(d),visible:d.visible,label:d.label}:null},w.prototype.getColumnsConfig=function(){for(var a=this,b=a.p,c={},d=0;d<b.columns.length;d++)c[b.columns[d].name]=this.getColumnConfig(b.columns[d].name);return c},w.prototype.getSortedColumns=function(){for(var a,b=this,c=b.p,d=[],e=0;e<c.rows.sortColumn.length;e++)a=c.rows.sortColumn[e],d.push({column:a.column,descending:a.descending});return d},w.prototype.getHtmlForCell=function(a,b){var c=this,d=c.p;if(a<0||a>d.rows.length-1)return null;var e=d.columns.get(b);if(!e)return null;for(var f=d.rows[a],g=e.dataPath,h=f[g[0]],i=1;i<g.length;i++)h=h[g[i]];var j=this.o.cellFormatter(h,e.name,f);return void 0===j&&(j=""),j},w.prototype.getDataForRow=function(a){var b=this,c=b.p;return a<0||a>c.rows.length-1?null:c.rows[a]},w.prototype.getRowCount=function(){var a=this,b=a.p;return b.rows?b.rows.length:0},w.prototype.getDataForFilteredRow=function(a){var b=this,c=b.p;return a<0||a>(c.filteredRows||c.rows).length-1?null:(c.filteredRows||c.rows)[a]},w.prototype.getHeaderRowElement=function(){return this.p.headerRow},w.prototype._horizontalPadding=function(a){return(parseFloat(r.css(a,"padding-left"))||0)+(parseFloat(r.css(a,"padding-right"))||0)},w.prototype._horizontalBorderWidth=function(a){return(parseFloat(r.css(a,"border-left"))||0)+(parseFloat(r.css(a,"border-right"))||0)},w.prototype._calculateWidthAvailableForColumns=function(){var a,b,c,d=this,e=d.o,f=d.p;f.$table&&(b=f.table?f.table.scrollTop:0,c=f.table?f.table.scrollLeft:0,e.virtualTable&&(a=f.$table[0].style.display,f.$table[0].style.display="none"));var g=q.default.width(this.$el);f.$table&&(e.virtualTable&&(f.$table[0].style.display=a),f.table.scrollTop=b,f.table.scrollLeft=c,f.header.scrollLeft=c);for(var h=e.tableClassName,i=r("<div>").addClass(d.el.className).css({"z-index":-1,position:"absolute",left:"0",top:"-9999px"}),j=r("<div>").addClass(h+"-header").appendTo(i),k=r("<div>").addClass(h+"-header-row").appendTo(j),l=0;l<f.visibleColumns.length;l++)k.append(r("<div><div></div></div>").addClass(h+"-header-cell").addClass(f.visibleColumns[l].cellClasses||""));i.appendTo(document.body),g-=this._horizontalBorderWidth(k[0]);for(var m,n=k.find(">div."+h+"-header-cell"),l=0;l<n.length;l++){m=r(n[l]);"border-box"===m.css("boxSizing")||(g-=(parseFloat(m.css("border-right-width"))||0)+(parseFloat(m.css("border-left-width"))||0)+this._horizontalPadding(m[0]))}return i&&i.remove(),g},w.prototype.tableWidthChanged=function(){var a=function(a){var b,c=this.o.tableClassName,d=r("<div>").addClass(this.$el).append(r("<div>").addClass(c+"-header").append(r("<div>").addClass(c+"-header-row").append(b=r("<div>").addClass(c+"-header-cell").append(r("<div>").text(a))))).css({position:"absolute",top:"-9999px",visibility:"hidden"});d.appendTo(document.body);var e=q.default.width(b);return d.remove(),e},b=null;return function(c,d){var e=this,f=e.o,g=e.p,h=this._calculateWidthAvailableForColumns(),i=h,j=0;d=void 0===d||d;var k=0;if(g.tbody||(d=!1),d&&(k=parseFloat(g.tbody.style.minWidth)||0),i!=b||c){b=h;var l,m,n,o=0,p=[],q=0;for(m=0;m<g.columns.length;m++)g.columns[m].actualWidthConsideringScrollbarWidth=null;for(m=0;m<g.visibleColumns.length;m++)n=g.visibleColumns[m],n.widthMode===x.ABSOLUTE?(l=n.width,l+=n.arrowProposedWidth||0,!n.ignoreMin&&l<f.minColumnWidth&&(l=f.minColumnWidth),i-=l,o+=l,l!==n.actualWidth&&(n.actualWidth=l,p.push(m))):n.widthMode===x.AUTO?(l=a.call(this,n.label)+20,l+=n.arrowProposedWidth||0,!n.ignoreMin&&l<f.minColumnWidth&&(l=f.minColumnWidth),i-=l,o+=l,l!==n.actualWidth&&(n.actualWidth=l,f.convertColumnWidthsToRelative||p.push(m))):n.widthMode===x.RELATIVE&&(q+=n.width,j++);if(f.convertColumnWidthsToRelative)for(m=0;m<g.visibleColumns.length;m++)n=g.visibleColumns[m],n.widthMode===x.AUTO&&(n.widthMode=x.RELATIVE,i+=n.actualWidth,n.width=n.actualWidth/o,q+=n.width,j++);if(j&&(q<1&&f.relativeWidthGrowsToFillWidth||q>1&&f.relativeWidthShrinksToFillWidth))for(m=0;m<g.visibleColumns.length;m++)n=g.visibleColumns[m],n.widthMode===x.RELATIVE&&(n.width/=q);h=i;var r=f.minColumnWidth/h;if(isNaN(r)&&(r=0),r>0){var s,t=0;for(m=0;m<g.visibleColumns.length;m++)n=g.visibleColumns[m],n.widthMode===x.RELATIVE&&!n.ignoreMin&&n.width<r&&(t+=r-n.width,n.width=r);for(m=0;m<g.visibleColumns.length;m++)n=g.visibleColumns[m],n.widthMode===x.RELATIVE&&!n.ignoreMin&&n.width>r&&t>0&&(s=Math.min(t,n.width-r),n.width-=s,t-=s)}for(m=0;m<g.visibleColumns.length;m++)n=g.visibleColumns[m],n.widthMode===x.RELATIVE&&(l=Math.round(h*n.width),i-=l,j--,0===j&&1===i&&(l++,i--),i===-1&&(l--,i++),l!==n.actualWidth&&(n.actualWidth=l,p.push(m)));if(g.visibleColumns.length&&(g.visibleColumns[g.visibleColumns.length-1].actualWidthConsideringScrollbarWidth=g.visibleColumns[g.visibleColumns.length-1].actualWidth-(g.scrollbarWidth||0)),d){var u=this._calculateTbodyWidth();for(k<u&&this._updateTableWidth(!1),m=0;m<p.length;m++)this._resizeColumnElements(p[m]);k>u&&this._updateTableWidth(!1)}}return this}}(),w.prototype.tableHeightChanged=function(){var a=this,b=a.o,c=a.p;if(!c.$table)return a;var d=q.default.innerHeight(a.$el)-(parseFloat(c.$table.css("border-top-width"))||0)-(parseFloat(c.$table.css("border-bottom-width"))||0);return d!=b.height&&(b.height=d,c.tbody&&(c.tbody.style.height=Math.max(b.height-q.default.outerHeight(c.$headerRow),1)+"px"),b.virtualTable&&a.clearAndRender()),a},w.prototype.addRows=function(a,b){var c=this,d=c.p;if(a){if(d.rows.add(a),c.o.virtualTable){for(;d.tbody.firstChild;)this.trigger("rowdestroy",d.tbody.firstChild),this._unbindCellEventsForRow(d.tbody.firstChild),d.tbody.removeChild(d.tbody.firstChild);b&&d.rows.sortColumn.length?this.resort():this._refilter(),this._calculateVirtualHeight()._updateLastCellWidthFromScrollbar()._updateTableWidth(!1),this.render()}else if(d.filteredRows){var e=d.filteredRows.length;this._refilter(),d.filteredRows&&d.filteredRows.length==e||this.clearAndRender()}else if(d.$tbody){var f=d.rows.length-a.length,g=f+a.length-1,h=c.renderRows(f,g);d.tbody.appendChild(h),c._updateLastCellWidthFromScrollbar()._updateTableWidth(!0)}this.trigger("addrows",a.length,!1)}return this},w.prototype.removeRow=function(a,b){var c=this,d=c.p;if(a<0||a>d.rows.length-1)return this;if(d.rows.splice(a,1),b=void 0===b||!!b,d.filteredRows)this._refilter(),d.tableSkeletonNeedsRendering=!0,b&&this.render();else if(b){var e=d.tbody.childNodes;if(this.o.virtualTable){for(var f=0;f<e.length;f++)e[f].rowIndex>=a&&(this.trigger("rowdestroy",e[f]),this._unbindCellEventsForRow(e[f]),d.tbody.removeChild(e[f]),f--);this._calculateVirtualHeight()._updateLastCellWidthFromScrollbar().render()._updateTableWidth(!1)}else{for(var f=0;f<e.length;f++)if(e[f].rowIndex===a){this.trigger("rowdestroy",e[f]),this._unbindCellEventsForRow(e[f]),d.tbody.removeChild(e[f]);break}this.render()._updateLastCellWidthFromScrollbar()._updateTableWidth(!0)}}return this},w.prototype.refreshRow=function(a){var b=this,c=b.p;if(a<0||a>c.rows.length-1)return this;var d=-1;if(c.filteredRows&&(d=(0,j.indexOf)(c.filteredRows,c.rows[a]))===-1)return this;d===-1&&(d=a);var e=c.tbody.childNodes;if(this.o.virtualTable){for(var f=!1,g=0;g<e.length;g++)if(e[g].physicalRowIndex===a){f=!0,this.trigger("rowdestroy",e[g]),this._unbindCellEventsForRow(e[g]),c.tbody.removeChild(e[g]);break}if(f){var h=this.renderRows(d,d);c.tbody.insertBefore(h,e[g]||null)}}else{this.trigger("rowdestroy",e[d]),this._unbindCellEventsForRow(e[d]),c.tbody.removeChild(e[d]);var h=this.renderRows(d,d);c.tbody.insertBefore(h,e[d]||null)}return this},w.prototype.getRowElement=function(a){var b=this,c=b.p;if(a<0||a>c.rows.length-1)return null;var d=-1;if(c.filteredRows&&(d=(0,j.indexOf)(c.filteredRows,c.rows[a]))===-1)return this;d===-1&&(d=a);var e=c.tbody.childNodes;if(!this.o.virtualTable)return e[d];for(var f=0;f<e.length;f++)if(e[f].physicalRowIndex===a)return e[f];return null},w.prototype.refreshAllVirtualRows=function(){var a=this,b=a.p;if(this.o.virtualTable){for(var c=[],d=b.tbody.childNodes,e=0,f=d.length;e<f;e++)c.push(d[e].physicalRowIndex),this.trigger("rowdestroy",d[e]),this._unbindCellEventsForRow(d[e]),b.tbody.removeChild(d[e]),e--,f--;for(var g,e=0;e<c.length;e++)g=this.renderRows(c[e],c[e]),b.tbody.appendChild(g)}return this},w.prototype.setRows=function(a,b){var c=this,d=c.p;return d.rows.reset(a),b&&d.rows.sortColumn.length?this.resort():this._refilter(),this.clearAndRender().trigger("addrows",a.length,!0),this},w.prototype.getUrlForElementContent=function(b){var c,d=document.getElementById(b);if(d){var e=d.textContent;if("function"==typeof Blob)c=new Blob([e]);else{var f=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||a.MSBlobBuilder;if(!f)return null;var g=new f;g.append(e),c=g.getBlob()}return(a.URL||a.webkitURL).createObjectURL(c)}return null},w.prototype.isWorkerSupported=function(){return a.Worker instanceof Function},w.prototype.createWebWorker=function(a,b,c){if(this.isWorkerSupported()){var d=this,e=d.p,f=new Worker(a),g=function(a){a.data.append?d.addRows(a.data.rows,c):d.setRows(a.data.rows,c)};return f.addEventListener("message",g,!1),e.workerListeners||(e.workerListeners=[]),e.workerListeners.push({worker:f,listener:g}),(b||void 0===b)&&f.postMessage(null),f}return null},w.prototype.unbindWebWorker=function(a){var b=this,c=b.p;if(c.workerListeners)for(var d=0;d<c.workerListeners.length;d++)c.workerListeners[d].worker==a&&(a.removeEventListener("message",c.workerListeners[d].listener,!1),c.workerListeners.splice(d,1),d--);return this},w.prototype.abortCellPreview=function(){return this.hideCellPreview(),this},w.prototype.cancelColumnResize=function(){var a=this,b=a.p;return b.$resizer&&(b.$resizer.remove(),b.$resizer=null,r(document).off("mousemove.dgtable",b.onMouseMoveResizeAreaBound).off("mouseup.dgtable",b.onEndDragColumnHeaderBound)),this},w.prototype._onVirtualTableScrolled=function(a){this.render()},w.prototype._onTableScrolledHorizontally=function(a){var b=this,c=b.p;c.header.scrollLeft=c.table.scrollLeft},w.prototype._getColumnByResizePosition=function(a){var b=this,c=b.o,d=(b.p,this._isTableRtl()),e=r(a.target).closest("div."+c.tableClassName+"-header-cell,div."+c.cellPreviewClassName),f=e[0];f.__cell&&(f=f.__cell,e=r(f));for(var g=e[0].previousSibling;g&&1!=g.nodeType;)g=g.previousSibling;var h=!g,i=((null!=a.pageX?a.pageX:a.originalEvent.pageX)||a.originalEvent.clientX)-e.offset().left;if(d){if(!h&&q.default.outerWidth(e)-i<=c.resizeAreaWidth/2)return g.columnName;if(i<=c.resizeAreaWidth/2)return f.columnName}else{if(!h&&i<=c.resizeAreaWidth/2)return g.columnName;if(q.default.outerWidth(e)-i<=c.resizeAreaWidth/2)return f.columnName}return null},w.prototype._onTouchStartColumnHeader=function(a){var b=this,c=b.p;if(!c.currentTouchId){var d=a.originalEvent.changedTouches[0];c.currentTouchId=d.identifier;var e=r(a.currentTarget),f={x:d.pageX,y:d.pageY},g=f,h=function(){c.currentTouchId=null,e.off("touchend").off("touchcancel"),clearTimeout(k)},i=function b(c){var b=r.Event(c),d=Array.prototype.slice.call(arguments,1);return r.each(["target","clientX","clientY","offsetX","offsetY","screenX","screenY","pageX","pageY","which"],function(){b[this]=a[this];for(var c=0;c<d.length;c++)null!=d[c][this]&&(b[this]=d[c][this])}),b};e.trigger(i("mousedown",a.originalEvent.changedTouches[0],{which:1}));var k=setTimeout(function(){h(),e.one("touchend",function(a){a.preventDefault(),e.off("touchend").off("touchcancel")}).one("touchcancel",function(a){e.off("touchend").off("touchcancel")}),Math.sqrt(Math.pow(Math.abs(g.x-f.x),2)+Math.pow(Math.abs(g.y-f.y),2))<9&&(b.cancelColumnResize(),e.trigger(i("mouseup",a.originalEvent.changedTouches[0],{which:3})))},500);e.on("touchend",function(a){var b=(0,j.find)(a.originalEvent.changedTouches,function(a){return a.identifier===c.currentTouchId});if(b){h(),a.preventDefault(),g={x:b.pageX,y:b.pageY};(Math.sqrt(Math.pow(Math.abs(g.x-f.x),2)+Math.pow(Math.abs(g.y-f.y),2))<9||c.$resizer)&&(e.trigger(i("mouseup",b,{which:1})),e.trigger(i("click",b,{which:1})))}}).on("touchcancel",function(){h()}).on("touchmove",function(a){var b=(0,j.find)(a.originalEvent.changedTouches,function(a){return a.identifier===c.currentTouchId});b&&(g={x:b.pageX,y:b.pageY},c.$resizer&&(a.preventDefault(),e.trigger(i("mousemove",b))))})}},w.prototype._onMouseDownColumnHeader=function(a){if(1!==a.which)return this;var b=this,c=b.o,d=b.p,e=this._getColumnByResizePosition(a);if(e){var f=d.columns.get(e);if(!c.resizableColumns||!f||!f.resizable)return!1;var g=this._isTableRtl()
;d.$resizer&&r(d.$resizer).remove(),d.$resizer=r("<div></div>").addClass(c.resizerClassName).css({position:"absolute",display:"block","z-index":-1,visibility:"hidden",width:"2px",background:"#000",opacity:.7}).appendTo(this.$el);var h=f.element,i=d.$resizer.parent(),j=h.offset(),k=i.offset();8===t&&(j=h.offset()),k.left+=parseFloat(i.css("border-left-width"))||0,k.top+=parseFloat(i.css("border-top-width"))||0,j.left-=k.left,j.top-=k.top,j.top-=parseFloat(h.css("border-top-width"))||0;var l=q.default.outerWidth(d.$resizer);g?(j.left-=Math.ceil((parseFloat(h.css("border-left-width"))||0)/2),j.left-=Math.ceil(l/2)):(j.left+=q.default.outerWidth(h),j.left+=Math.ceil((parseFloat(h.css("border-right-width"))||0)/2),j.left-=Math.ceil(l/2)),d.$resizer.css({"z-index":"10",visibility:"visible",left:j.left,top:j.top,height:q.default.height(this.$el)})[0].columnName=h[0].columnName;try{d.$resizer[0].style.zIndex=""}catch(a){}r(document).on("mousemove.dgtable",d.onMouseMoveResizeAreaBound),r(document).on("mouseup.dgtable",d.onEndDragColumnHeaderBound),a.preventDefault()}},w.prototype._onMouseMoveColumnHeader=function(a){var b=this,c=b.o,d=b.p;if(c.resizableColumns){var e=this._getColumnByResizePosition(a),f=r(a.target).closest("div."+c.tableClassName+"-header-cell,div."+c.cellPreviewClassName)[0];e&&d.columns.get(e).resizable?f.style.cursor="e-resize":f.style.cursor=""}},w.prototype._onMouseUpColumnHeader=function(a){if(3===a.which){var b=this.o,c=r(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName),d=c.offset();d.width=q.default.outerWidth(c),d.height=q.default.outerHeight(c),this.trigger("headercontextmenu",c[0].columnName,a.pageX,a.pageY,d)}return this},w.prototype._onMouseLeaveColumnHeader=function(a){var b=this.o;r(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName)[0].style.cursor=""},w.prototype._onClickColumnHeader=function(a){if(!this._getColumnByResizePosition(a)){var b=this,c=b.o,d=b.p,e=r(a.target).closest("div."+c.tableClassName+"-header-cell,div."+c.cellPreviewClassName)[0];if(c.sortableColumns){var f=d.columns.get(e.columnName);f&&f.sortable&&this.sort(e.columnName,void 0,!0).render()}}},w.prototype._onStartDragColumnHeader=function(a){var b=this,c=b.o,d=b.p;if(c.movableColumns){var e=r(a.target).closest("div."+c.tableClassName+"-header-cell,div."+c.cellPreviewClassName),f=d.columns.get(e[0].columnName);f&&f.movable?(e[0].style.opacity=.35,d.dragId=161061273*Math.random(),a.originalEvent.dataTransfer.setData("text",JSON.stringify({dragId:d.dragId,column:f.name}))):a.preventDefault()}else a.preventDefault()},w.prototype._onMouseMoveResizeArea=function(a){var b=this,c=b.p,d=c.columns.get(c.$resizer[0].columnName),e=this._isTableRtl(),f=d.element,g=c.$resizer.parent(),h=f.offset(),i=g.offset();i.left+=parseFloat(g.css("border-left-width"))||0,h.left-=i.left;var j=q.default.outerWidth(c.$resizer),k="border-box"===f.css("box-sizing"),l=a.pageX-i.left,m=h.left;m-=Math.ceil(j/2),e?(m+=q.default.outerWidth(f),m-=d.ignoreMin?0:this.o.minColumnWidth,k||(m-=Math.ceil((parseFloat(f.css("border-left-width"))||0)/2),m-=this._horizontalPadding(f[0])),l>m&&(l=m)):(m+=d.ignoreMin?0:this.o.minColumnWidth,k||(m+=Math.ceil((parseFloat(f.css("border-right-width"))||0)/2),m+=this._horizontalPadding(f[0])),l<m&&(l=m)),c.$resizer.css("left",l+"px")},w.prototype._onEndDragColumnHeader=function(a){var b=this,c=b.o,d=b.p;if(d.$resizer){r(document).off("mousemove.dgtable",d.onMouseMoveResizeAreaBound).off("mouseup.dgtable",d.onEndDragColumnHeaderBound);var e=d.columns.get(d.$resizer[0].columnName),f=this._isTableRtl(),g=e.element,h=d.$resizer.parent(),i=g.offset(),j=h.offset();j.left+=parseFloat(h.css("border-left-width"))||0,i.left-=j.left;var k=q.default.outerWidth(d.$resizer),l="border-box"===g.css("box-sizing"),m=a.pageX-j.left,n=i.left,o=i.left,p=0;n-=Math.ceil(k/2),f?(l||(m+=this._horizontalPadding(g[0]),m+=parseFloat(g.css("border-left-width"))||0,m+=parseFloat(g.css("border-right-width"))||0),n+=q.default.outerWidth(g),o=n-(e.ignoreMin?0:this.o.minColumnWidth),m>o&&(m=o),p=n-m):(l||(m-=this._horizontalPadding(g[0]),m-=parseFloat(g.css("border-left-width"))||0,m-=parseFloat(g.css("border-right-width"))||0),o=n+(e.ignoreMin?0:this.o.minColumnWidth),m<o&&(m=o),p=m-n),d.$resizer.remove(),d.$resizer=null;var s=p;if(e.widthMode===x.RELATIVE){for(var t,u=this._calculateWidthAvailableForColumns(),v=u,w=0,y=0,z=0;z<d.visibleColumns.length;z++)t=d.visibleColumns[z],t.name!==e.name&&(t.widthMode==x.RELATIVE?(w+=t.width,y++):v-=t.actualWidth);if(s=p/v,y>0){var A=s/((1-s)/w);w+=s,(w<1&&c.relativeWidthGrowsToFillWidth||w>1&&c.relativeWidthShrinksToFillWidth)&&(s=A)}s*=100,s+="%"}this.setColumnWidth(e.name,s)}else a.target.style.opacity=null},w.prototype._onDragEnterColumnHeader=function(a){var b=this,c=b.o,d=b.p;if(c.movableColumns){var e=a.originalEvent.dataTransfer.getData("text");e=e?JSON.parse(e):null;var f=r(a.target).closest("div."+c.tableClassName+"-header-cell,div."+c.cellPreviewClassName);if(!e||d.dragId==e.dragId&&f.columnName!==e.column){var g=d.columns.get(f[0].columnName);g&&(g.movable||g!=d.visibleColumns[0])&&r(f).addClass("drag-over")}}},w.prototype._onDragOverColumnHeader=function(a){a.preventDefault()},w.prototype._onDragLeaveColumnHeader=function(a){var b=this.o,c=r(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName);r(c[0].firstChild).has(a.originalEvent.relatedTarget).length||c.removeClass("drag-over")},w.prototype._onDropColumnHeader=function(a){a.preventDefault();var b=this,c=b.o,d=b.p,e=JSON.parse(a.originalEvent.dataTransfer.getData("text")),f=r(a.target).closest("div."+c.tableClassName+"-header-cell,div."+c.cellPreviewClassName);if(c.movableColumns&&e.dragId==d.dragId){var g=e.column,h=f[0].columnName,i=d.columns.get(g),j=d.columns.get(h);i&&j&&i.movable&&(j.movable||j!=d.visibleColumns[0])&&this.moveColumn(g,h)}r(f).removeClass("drag-over")},w.prototype._clearSortArrows=function(){var a=this,b=a.p;if(b.$table){var c=this.o.tableClassName,d=b.$headerRow.find(">div."+c+"-header-cell.sorted"),e=d.find(">div>.sort-arrow");(0,j.forEach)(e,(0,j.bind)(function(a){var c=b.columns.get(a.parentNode.parentNode.columnName);c&&(c.arrowProposedWidth=0)},this)),e.remove(),d.removeClass("sorted").removeClass("desc")}return this},w.prototype._showSortArrow=function(a,b){var c=this,d=c.p,e=d.columns.get(a),f=v("span");return f.className="sort-arrow",e.element&&(e.element.addClass(b?"sorted desc":"sorted"),e.element[0].firstChild.insertBefore(f,e.element[0].firstChild.firstChild)),e.widthMode!=x.RELATIVE&&this.o.adjustColumnWidthForSortArrow&&(e.arrowProposedWidth=f.scrollWidth+(parseFloat(r(f).css("margin-right"))||0)+(parseFloat(r(f).css("margin-left"))||0)),this},w.prototype._resizeColumnElements=function(a){var b=this,c=b.p,d=c.$headerRow.find("div."+this.o.tableClassName+"-header-cell"),e=c.columns.get(d[a].columnName);if(e){d[a].style.width=(e.actualWidthConsideringScrollbarWidth||e.actualWidth)+"px";for(var f,g=(e.actualWidthConsideringScrollbarWidth||e.actualWidth)+"px",h=c.$tbody[0].childNodes,i=0,j=h.length;i<j;i++)f=h[i],1===f.nodeType&&(f.childNodes[a].style.width=g)}return this},w.prototype._destroyHeaderCells=function(){var a=this,b=a.o,c=a.p;return c.$headerRow&&(this.trigger("headerrowdestroy",c.headerRow),c.$headerRow.find("div."+b.tableClassName+"-header-cell").remove(),c.$headerRow=null,c.headerRow=null),this},w.prototype._renderSkeleton=function(){var a=this,b=a.p;a._destroyHeaderCells(),b.currentTouchId=null;var c=a.o,d=c.allowCellPreview,e=c.allowHeaderCellPreview,g=c.tableClassName,h=g+"-header-cell",i=v("div"),k=r(i),l=v("div"),m=r(l);i.className=g+"-header",l.className=g+"-header-row";var n;u&&(n=function(a){return a.preventDefault(),this.dragDrop(),!1});for(var o,p,s,t,x=function(a){a.preventDefault()},y=0;y<b.visibleColumns.length;y++)o=b.visibleColumns[y],o.visible&&(p=v("div"),t=r(p),p.draggable=!0,p.className=h,p.style.width=o.actualWidth+"px",c.sortableColumns&&o.sortable&&(p.className+=" sortable"),p.columnName=o.name,p.setAttribute("data-column",o.name),s=v("div"),s.innerHTML=c.headerCellFormatter(o.label,o.name),p.appendChild(s),d&&e&&b._bindCellHoverIn(p),l.appendChild(p),b.visibleColumns[y].element=t,t.on("mousedown.dgtable",(0,j.bind)(a._onMouseDownColumnHeader,a)).on("mousemove.dgtable",(0,j.bind)(a._onMouseMoveColumnHeader,a)).on("mouseup.dgtable",(0,j.bind)(a._onMouseUpColumnHeader,a)).on("mouseleave.dgtable",(0,j.bind)(a._onMouseLeaveColumnHeader,a)).on("touchstart.dgtable",(0,j.bind)(a._onTouchStartColumnHeader,a)).on("dragstart.dgtable",(0,j.bind)(a._onStartDragColumnHeader,a)).on("click.dgtable",(0,j.bind)(a._onClickColumnHeader,a)).on("contextmenu.dgtable",x),r(s).on("dragenter.dgtable",(0,j.bind)(a._onDragEnterColumnHeader,a)).on("dragover.dgtable",(0,j.bind)(a._onDragOverColumnHeader,a)).on("dragleave.dgtable",(0,j.bind)(a._onDragLeaveColumnHeader,a)).on("drop.dgtable",(0,j.bind)(a._onDropColumnHeader,a)),u&&t.on("selectstart.dgtable",(0,j.bind)(n,p)),t.css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none"}));if(b.$header&&b.$header.remove(),b.$header=k,b.header=i,b.$headerRow=m,b.headerRow=l,m.appendTo(b.$header),k.prependTo(this.$el),this.trigger("headerrowcreate",l),c.width==w.Width.SCROLL?this.el.style.overflow="hidden":this.el.style.overflow="",b.$table&&c.virtualTable){if(b.$table.remove(),b.$tbody)for(var z=b.$tbody[0].childNodes,y=0,A=z.length;y<A;y++)a.trigger("rowdestroy",z[y]),a._unbindCellEventsForRow(z[y]);b.$table=b.table=b.$tbody=b.tbody=null}if(f(a.$el),!c.height&&c.virtualTable&&(c.height=q.default.innerHeight(this.$el)),c.virtualTable&&!b.virtualRowHeight){var B,C=function(){var a=v("div"),b=a.appendChild(v("div")),c=b.appendChild(v("div"));return a.className=g+"-row",b.className=g+"-cell",c.innerHTML="0",a.style.visibility="hidden",a.style.position="absolute",a},D=r("<div>").addClass(a.el.className).css({"z-index":-1,position:"absolute",left:"0",top:"-9999px",width:"1px",overflow:"hidden"}).append(r("<div>").addClass(g).append(B=r("<div>").addClass(g+"-body").css("width",99999)));D.appendTo(document.body);var E=C(),F=C(),G=C();B.append(E,F,G),b.virtualRowHeightFirst=q.default.outerHeight(E),b.virtualRowHeight=q.default.outerHeight(F),b.virtualRowHeightLast=q.default.outerHeight(G),b.virtualRowHeightMin=Math.min(Math.min(b.virtualRowHeightFirst,b.virtualRowHeight),b.virtualRowHeightLast),b.virtualRowHeightMax=Math.max(Math.max(b.virtualRowHeightFirst,b.virtualRowHeight),b.virtualRowHeightLast),D.remove()}if(!b.$table){var H=document.createDocumentFragment(),I=v("div"),J=r(I);I.className=c.tableClassName,c.virtualTable&&(I.className+=" virtual");var K=c.height-q.default.outerHeight(m);"border-box"!==J.css("box-sizing")&&(K-=parseFloat(J.css("border-top-width"))||0,K-=parseFloat(J.css("border-bottom-width"))||0,K-=parseFloat(J.css("padding-top"))||0,K-=parseFloat(J.css("padding-bottom"))||0),b.visibleHeight=K,I.style.height=c.height?K+"px":"auto",I.style.display="block",I.style.overflowY="auto",I.style.overflowX=c.width==w.Width.SCROLL?"auto":"hidden",H.appendChild(I);var L=v("div"),M=r(L);L.className=c.tableClassName+"-body",b.table=I,b.tbody=L,b.$table=J,b.$tbody=M,c.virtualTable&&(b.virtualVisibleRows=Math.ceil(b.visibleHeight/b.virtualRowHeightMin)),a._calculateVirtualHeight(),f(M),f(J),I.appendChild(L),a.el.appendChild(H)}return a},w.prototype._updateLastCellWidthFromScrollbar=function(a){var b=this,c=b.p,d=c.table.offsetWidth-c.table.clientWidth;if(d!=c.scrollbarWidth||a){c.scrollbarWidth=d;for(var e=0;e<c.columns.length;e++)c.columns[e].actualWidthConsideringScrollbarWidth=null;if(c.scrollbarWidth>0&&c.visibleColumns.length>0){var f=c.visibleColumns.length-1;c.visibleColumns[f].actualWidthConsideringScrollbarWidth=c.visibleColumns[f].actualWidth-c.scrollbarWidth;for(var g,h=c.visibleColumns[f].actualWidthConsideringScrollbarWidth+"px",i=c.tbody.childNodes,e=0,j=i.length;e<j;e++)g=i[e],1===g.nodeType&&(g.childNodes[f].style.width=h);c.headerRow.childNodes[f].style.width=h}}return this},w.prototype._updateTableWidth=function(a){var b=this,c=b.o,d=b.p,f=this._calculateTbodyWidth();if(d.tbody.style.minWidth=f+"px",d.headerRow.style.minWidth=f+(d.scrollbarWidth||0)+"px",d.$table.off("scroll",d.onTableScrolledHorizontallyBound),c.width==w.Width.AUTO)q.default.width(d.$table,q.default.outerWidth(d.$tbody)),q.default.width(this.$el,q.default.outerWidth(d.$table));else if(c.width==w.Width.SCROLL){if(a){var g=d.table?d.table.scrollTop:0,h=d.table?d.table.scrollLeft:0;e(this.el),d.table.scrollTop=g,d.table.scrollLeft=h,d.header.scrollLeft=h}d.$table.on("scroll",d.onTableScrolledHorizontallyBound)}return this},w.prototype._isTableRtl=function(){return"rtl"===this.p.$table.css("direction")},w.prototype._serializeColumnWidth=function(a){return a.widthMode===x.AUTO?"auto":a.widthMode===x.RELATIVE?100*a.width+"%":a.width},w.prototype._cellMouseOverEvent=function(a){var b=this,c=b.o,d=b.p;d.abortCellPreview=!1;var e=a.firstChild;if(e.scrollWidth-e.clientWidth>1||e.scrollHeight-e.clientHeight>1){b.hideCellPreview();var f=r(a),g=r(e),h=v("div"),i=r(h);h.innerHTML=a.innerHTML,h.className=c.cellPreviewClassName;var k=f.hasClass(c.tableClassName+"-header-cell");k&&(h.className+=" header",f.hasClass("sortable")&&(h.className+=" sortable"),h.draggable=!0,r(h).on("mousedown",(0,j.bind)(b._onMouseDownColumnHeader,b)).on("mousemove",(0,j.bind)(b._onMouseMoveColumnHeader,b)).on("mouseup",(0,j.bind)(b._onMouseUpColumnHeader,b)).on("mouseleave",(0,j.bind)(b._onMouseLeaveColumnHeader,b)).on("touchstart",(0,j.bind)(b._onTouchStartColumnHeader,b)).on("dragstart",(0,j.bind)(b._onStartDragColumnHeader,b)).on("click",(0,j.bind)(b._onClickColumnHeader,b)).on("contextmenu.dgtable",function(a){a.preventDefault()}),r(h.firstChild).on("dragenter",(0,j.bind)(b._onDragEnterColumnHeader,b)).on("dragover",(0,j.bind)(b._onDragOverColumnHeader,b)).on("dragleave",(0,j.bind)(b._onDragLeaveColumnHeader,b)).on("drop",(0,j.bind)(b._onDropColumnHeader,b)),u&&r(h).on("selectstart",(0,j.bind)(function(a){return a.preventDefault(),this.dragDrop(),!1},h)));var l=parseFloat(f.css("padding-left"))||0,m=parseFloat(f.css("padding-right"))||0,n=parseFloat(f.css("padding-top"))||0,o=parseFloat(f.css("padding-bottom"))||0,p=e.scrollWidth+(a.clientWidth-e.offsetWidth),s="border-box"===f.css("box-sizing");if(s?i.css("box-sizing","border-box"):(p-=l+m,i.css("margin-top",parseFloat(r(a).css("border-top-width"))||0)),!d.transparentBgColor1){var t=document.createElement("div");t.style.backgroundColor="transparent",d.transparentBgColor1=r(t).css("background-color"),t.style.backgroundColor="rgba(0,0,0,0)",d.transparentBgColor2=r(t).css("background-color")}var w={"box-sizing":s?"border-box":"content-box",width:p,"min-height":q.default.height(f),"padding-left":l,"padding-right":m,"padding-top":n,"padding-bottom":o,overflow:"hidden",position:"absolute","z-index":"-1",left:"0",top:"0",cursor:"default"};if(w){var x=r(a).css("background-color");x!==d.transparentBgColor1&&x!==d.transparentBgColor2||(x=r(a.parentNode).css("background-color")),x!==d.transparentBgColor1&&x!==d.transparentBgColor2||(x="#fff"),w["background-color"]=x}i.css(w),b.el.appendChild(h),r(h.firstChild).css({direction:g.css("direction"),"white-space":g.css("white-space")}),k&&i.css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none"}),h.rowIndex=a.parentNode.rowIndex;var y=h.physicalRowIndex=a.parentNode.physicalRowIndex;if(h.columnName=d.visibleColumns[(0,j.indexOf)(a.parentNode.childNodes,a)].name,b.trigger("cellpreview",h.firstChild,null==y?null:y,h.columnName,null==y?null:d.rows[y]),d.abortCellPreview)return void i.remove();var z=b.$el,A=z[0]===window?r(document):z,B=f.offset(),C=z.offset(),D="right"===f.css("float"),E=D?"right":"left";if(D){var F=r(window).width();B.right=F-(B.left+q.default.outerWidth(f)),C.right=F-(C.left+q.default.outerWidth(z))}B.left-=parseFloat(z.css("border-left-width"))||0,B.right-=parseFloat(z.css("border-right-width"))||0,B.top-=parseFloat(z.css("border-top-width"))||0,B[E]+=parseFloat(r(a).css("border-"+E+"-width"))||0,B.top+=parseFloat(r(a).css("border-top-width"))||parseFloat(r(a).css("border-bottom-width"))||0,B.left-=C.left,B.right-=C.right,B.top-=C.top;var G=z-q.default.outerWidth(i);B[E]=B[E]<0?0:B[E]>G?G:B[E];var H=q.default.outerHeight(f),I=A.scrollTop()+q.default.innerHeight(z)-H;B.top>I&&(B.top=Math.max(0,I));var J={top:B.top,"z-index":9999};J[E]=B[E],i.css(J),h.__cell=a,d.$cellPreviewEl=i,a.__previewEl=h,d._bindCellHoverOut(a),d._bindCellHoverOut(h),i.on("mousewheel",function(a){var c=a.originalEvent,e=c.wheelDelta||-c.detail,f=c.wheelDeltaX||(1==c.axis?e:0),g=c.wheelDeltaY||(2==c.axis?e:0);if(e&&b.hideCellPreview(),g&&d.table.scrollHeight>d.table.clientHeight){var h=g*-1+d.$table.scrollTop();d.$table.scrollTop(h)}if(f&&d.table.scrollWidth>d.table.clientWidth){var i=f*-1+d.$table.scrollLeft();d.$table.scrollLeft(i)}})}},w.prototype._cellMouseOutEvent=function(a){this.hideCellPreview()},w.prototype.hideCellPreview=function(){var a=this,b=a.p;if(b.$cellPreviewEl){var c=b.$cellPreviewEl[0];b.$cellPreviewEl.remove(),b._unbindCellHoverOut(c.__cell),b._unbindCellHoverOut(c),c.__cell.__previewEl=null,c.__cell=null,this.trigger("cellpreviewdestroy",c.firstChild,c.physicalRowIndex,c.columnName),b.$cellPreviewEl=null}return b.abortCellPreview=!1,this};var x={AUTO:0,ABSOLUTE:1,RELATIVE:2};w.Width={NONE:"none",AUTO:"auto",SCROLL:"scroll"},r.controls||(r.controls={}),r.controls.dgtable=w,b.default=w}).call(b,function(){return this}())},function(b,c){b.exports=a},function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var c=Function.prototype.bind,d=(b.bind=function(a,b){if(c)return a.bind(b);if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var d=Array.prototype.slice.call(arguments,1),e=this,f=function(){},g=function(){return e.apply(this instanceof f?this:b,d.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(f.prototype=this.prototype),g.prototype=new f,g},Function.prototype.indexOf),e=b.indexOf=function(a,b,c){if(d)return a.indexOf(b,c);var e;if(null==a)throw new TypeError('"this" is null or not defined');var f=a.length>>>0;if(0===f)return-1;var g=0|c;if(g>=f)return-1;for(e=Math.max(g>=0?g:f-Math.abs(g),0);e<f;){if(e in a&&a[e]===b)return e;e++}return-1},f=(b.contains=function(a,b){return e(a,b)>=0},b.find=function(a,b){for(var c=0,d=a.length;c>=0&&c<d;c+=1)if(b(a[c],c,a))return a[c]},Function.prototype.forEach);b.forEach=function(a,b,c){if(f)return a.forEach(b,c);var d,e;if(null===this)throw new TypeError(" this is null or not defined");var g=a.length>>>0;if("function"!=typeof b)throw new TypeError(b+" is not a function");for(arguments.length>1&&(d=c),e=0;e<g;){var h;e in a&&(h=a[e],b.call(d,h,e,a)),e++}}},function(a,b,c){"use strict";function d(){var a=[];return f(a,d.prototype),a.initialize.apply(a,arguments),a}function e(a,b){var c=a.column,d=a.comparePath||c;"string"==typeof d&&(d=d.split("."));var e,f=d.length,g=f>1,h=b?1:-1,i=b?-1:1;return function(a,b){var c=a[d[0]],j=b[d[0]];if(g)for(e=1;e<f;e++)c=c&&c[d[e]],j=j&&j[d[e]];return c<j?h:c>j?i:0}}Object.defineProperty(b,"__esModule",{value:!0});var f=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++){b=arguments[c];for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d])}return a},g=c(2);d.prototype=[],d.prototype.initialize=function(a){a=a||{},this.filterColumn=null,this.filterString=null,this.filterCaseSensitive=!1,this.sortColumn=null==a.sortColumn?[]:a.sortColumn},d.prototype.add=function(a,b){var c,d,e="splice"in a&&"length"in a;if(e)if(b)for(c=0,d=a.length;c<d;c++)this.splice(b++,0,a[c]);else for(c=0,d=a.length;c<d;c++)this.push(a[c]);else b?this.splice(b,0,a):this.push(a)},d.prototype.reset=function(a){this.length=0,a&&this.add(a)},d.prototype.filteredCollection=function(a,b,c){if((b=b.toString())&&null!=a){var e=new d({sortColumn:this.sortColumn});this.filterColumn=a,this.filterString=b,this.filterCaseSensitive=c;for(var f,g=0,h=this.length;g<h;g++)f=this[g],this.shouldBeVisible(f)&&(f.__i=g,e.push(f));return e}return this.filterColumn=null,this.filterString=null,null},d.prototype.shouldBeVisible=function(a){if(a&&this.filterColumn){var b=a[this.filterColumn];if(null==b)return!1;b=b.toString();var c=this.filterString;return this.filterCaseSensitive||(b=b.toUpperCase(),c=c.toUpperCase()),b.indexOf(c)!==-1}return!0},d.prototype.onComparatorRequired=null,d.prototype.onSort=null;var h=d.prototype.sort;d.prototype.sort=function(a){if(this.sortColumn.length){var b,c,d=[];for(b=0;b<this.sortColumn.length;b++)c=null,this.onComparatorRequired&&(c=this.onComparatorRequired(this.sortColumn[b].column,this.sortColumn[b].descending)),c||(c=e(this.sortColumn[b],this.sortColumn[b].descending)),d.push((0,g.bind)(c,this));if(1===d.length)h.call(this,d[0]);else{var f,i=d.length;c=function(a,c){for(b=0;b<i;b++)if(0!==(f=d[b](a,c)))return f;return f},h.call(this,c)}a||this.onSort&&this.onSort()}return this},b.default=d},function(a,b){"use strict";function c(){var a=[];return d(a,c.prototype),a.initialize.apply(a,arguments),a}Object.defineProperty(b,"__esModule",{value:!0});var d=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++){b=arguments[c];for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d])}return a};c.prototype=[],c.prototype.initialize=function(){},c.prototype.get=function(a){for(var b=0,c=this.length;b<c;b++)if(this[b].name==a)return this[b];return null},c.prototype.indexOf=function(a){for(var b=0,c=this.length;b<c;b++)if(this[b].name==a)return b;return-1},c.prototype.getByOrder=function(a){for(var b=0,c=this.length;b<c;b++)if(this[b].order==a)return this[b];return null},c.prototype.normalizeOrder=function(){var a,b=[];for(a=0;a<this.length;a++)b.push(this[a]);for(b.sort(function(a,b){return a.order<b.order?-1:a.order>b.order?1:0}),a=0;a<b.length;a++)b[a].order=a;return this},c.prototype.getVisibleColumns=function(){for(var a,b=[],c=0;c<this.length;c++)a=this[c],a.visible&&b.push(a);return b.sort(function(a,b){return a.order<b.order?-1:a.order>b.order?1:0}),b},c.prototype.getMaxOrder=function(){for(var a,b=0,c=0;c<this.length;c++)a=this[c],a.order>b&&(b=a.order);return b},c.prototype.moveColumn=function(a,b){if(a&&b){var c,d,e=a.order,f=b.order;if(e<f)for(c=e+1;c<=f;c++)d=this.getByOrder(c),d.order--;else for(c=e-1;c>=f;c--)d=this.getByOrder(c),d.order++;a.order=f}return this},b.default=c},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});for(var d=c(1),e=function(a){return a&&a.__esModule?a:{default:a}}(d),f=e.default,g=document.defaultView&&document.defaultView.getComputedStyle,h=f&&f.fn.jquery>="3",i={width:["Left","Right","Width"],height:["Top","Bottom","Height"]},j=["width","height"],k={},l=(function(a,b,c,d){return function(){var e=arguments[0],f=arguments[1];if(e&&!(e instanceof Element)&&"length"in e&&(e=e[0]),!e)return null;var h,i,j,k=g?document.defaultView.getComputedStyle(e):e.currentStyle,l="border-box"===k.boxSizing,m=d&&arguments[2]===!0||arguments[1]===!0;(l||d||c)&&(i=parseFloat(k["border"+b[0]+"Width"]||0)+parseFloat(k["border"+b[1]+"Width"]||0),j=parseFloat(k["padding"+b[0]]||0)+parseFloat(k["padding"+b[1]]||0));var n=m?parseFloat(k["margin"+b[0]]||0)+parseFloat(k["margin"+b[1]]||0):0;return void 0==f?(h=parseFloat(k[a]),l?(j+i>h&&(h=j+i),d?m&&(h+=n):h-=c?i:j+i):d?(h+=j+i,m&&(h+=n)):c&&(h+=j),h):(f=f||0,h=f,l?d?m&&(h-=n):h+=c?i:j+i:(d?(h-=j+i,m&&(h-=n)):c&&(h-=j),h<0&&(h=0)),e.style[a]=h+"px",f)}}),m=function(a){return function(){var b=arguments[0];f.isArray(b)||b instanceof f||(b=[b]);var c=f.fn[a].apply(b,Array.prototype.slice.call(arguments,1));return arguments.length>1?this:c}},n=0;n<j.length;n++){var o=j[n],p=i[o];h?(k[o]=m(o),k["inner"+p[2]]=m("inner"+p[2]),k["outer"+p[2]]=m("outer"+p[2])):(k[o]=l(o,p,!1,!1),k["inner"+p[2]]=l(o,p,!0,!1),k["outer"+p[2]]=l(o,p,!1,!0))}l=null,b.default=k}])});