'use strict';(function(k,e){function h(a){_.contains(["relative","absolute","fixed"],a.css("position"))||a.css("position","relative")}var g=navigator.userAgent,t=-1!=g.indexOf("MSIE ")?parseFloat(g.substr(g.indexOf("MSIE ")+5)):null,u=t&&10>t,v=_.bind(document.createElement,document),w=Backbone.View.extend({className:"dgtable-wrapper",tagName:"div",VERSION:"0.4.1",initialize:function(a){function b(a){a=a||event;a=a.toElement||a.relatedTarget;a==this||jQuery.contains(this,a)||this.__previewEl&&(a==
this.__previewEl||jQuery.contains(this.__previewEl,a))||g.Fa.call(g,this)}function c(a){a=a||event;a=a.fromElement||a.relatedTarget;a==this||jQuery.contains(this,a)||this.__previewEl&&(a==this.__previewEl||jQuery.contains(this.__previewEl,a))||g.Ga.call(g,this)}a=a||{};a.columns=a.columns||[];this.V=_.bind(this.Ka,this);this.K=_.bind(this.Ja,this);this.ta=_.bind(this.La,this);this.$el.on("dragend",this.K);this.w=!0;var d=this.a={};d.virtualTable=void 0===a.virtualTable?!0:!!a.virtualTable;d.rowsBufferSize=
a.rowsBufferSize||3;d.minColumnWidth=Math.max(a.minColumnWidth||35,0);d.resizeAreaWidth=a.resizeAreaWidth||8;d.resizableColumns=void 0===a.resizableColumns?!0:!!a.resizableColumns;d.movableColumns=void 0===a.movableColumns?!0:!!a.movableColumns;d.sortableColumns=void 0===a.sortableColumns?1:parseInt(a.sortableColumns,10)||1;d.adjustColumnWidthForSortArrow=void 0===a.adjustColumnWidthForSortArrow?!0:!!a.adjustColumnWidthForSortArrow;d.convertColumnWidthsToRelative=void 0===a.convertColumnWidthsToRelative?
!1:!!a.convertColumnWidthsToRelative;d.cellClasses=void 0===a.cellClasses?"":a.cellClasses;d.resizerClassName=void 0===a.resizerClassName?"dgtable-resize":a.resizerClassName;d.tableClassName=void 0===a.tableClassName?"dgtable":a.tableClassName;d.allowCellPreview=void 0===a.allowCellPreview?!0:a.allowCellPreview;d.allowHeaderCellPreview=void 0===a.allowHeaderCellPreview?!0:a.allowHeaderCellPreview;d.cellPreviewClassName=void 0===a.cellPreviewClassName?"dgtable-cell-preview":a.cellPreviewClassName;
d.comparatorCallback=void 0===a.comparatorCallback?null:a.comparatorCallback;d.width=void 0===a.width?w.Width.NONE:a.width;d.relativeWidthGrowsToFillWidth=void 0===a.relativeWidthGrowsToFillWidth?!0:!!a.relativeWidthGrowsToFillWidth;d.relativeWidthShrinksToFillWidth=void 0===a.relativeWidthShrinksToFillWidth?!1:!!a.relativeWidthShrinksToFillWidth;d.cellFormatter=a.cellFormatter||function(a){return a};d.headerCellFormatter=a.headerCellFormatter||function(a){return a};d.height=a.height;var s,f,e,h,
B=new w.Da;for(h=s=0;s<a.columns.length;s++)f=a.columns[s],e=this.ia(f),void 0!==f.order?(f.order>h&&(h=f.order+1),e.order=f.order):e.order=h++,B.push(e);B.ca();this.c=B;this.b=B.H();this._ensureVisibleColumns();if(void 0===a.sortColumn)a.sortColumn=null;else if("string"==typeof a.sortColumn)this.c.get(a.sortColumn)?a.sortColumn=[{column:a.sortColumn,descending:!1}]:a.sortColumn=null;else if(a.sortColumn instanceof Array){h=[];s=0;f=a.sortColumn.length;for(e;s<f&&(e=a.sortColumn[s],e=void 0!==e.column?
e:{column:e,descending:!1},(e=this.c.get(e.column))&&!_.contains(h,e.name)&&h.push(e.name),h.length!==d.sortableColumns&&h.length!=this.b.length);s++);a.sortColumn=h}else"object"==typeof a.sortColumn?this.c.get(a.sortColumn.column)||(a.sortColumn=null):a.sortColumn=null;this.d=new w.Ea({sortColumn:a.sortColumn,columns:this.columns});this.listenTo(this.d,"sort",this.render).listenTo(this.d,"requiresComparatorForColumn",_.bind(function(a,b,c){d.comparatorCallback&&(a.Ra=d.comparatorCallback(b,c))},
this));this.g=null;var g=this;"addEventListener"in window?(this.P=function(a){a.__hoverIn||a.addEventListener("mouseover",a.__hoverIn=_.bind(c,a));return this},this.X=function(a){a.__hoverIn&&(a.removeEventListener("mouseover",a.__hoverIn),a.__hoverIn=null);return this},this.Q=function(a){a.__hoverOut||a.addEventListener("mouseout",a.__hoverOut=_.bind(b,a.__cell||a));return this},this.Y=function(a){a.__hoverOut&&(a.removeEventListener("mouseout",a.__hoverOut),a.__hoverOut=null);return this}):(this.P=
function(a){a.__hoverIn||a.attachEvent("mouseover",a.__hoverIn=_.bind(c,a));return this},this.X=function(a){a.__hoverIn&&(a.detachEvent("mouseover",a.__hoverIn),a.__hoverIn=null);return this},this.Q=function(a){a.__hoverOut||a.attachEvent("mouseout",a.__hoverOut=_.bind(b,a.__cell||a));return this},this.Y=function(a){a.__hoverOut&&(a.detachEvent("mouseout",a.__hoverOut),a.__hoverOut=null);return this})},va:function(a,b){var c=parseFloat(a),d=q.AUTO;0<c&&(a==c+"%"?(d=q.RELATIVE,c/=100):0<c&&1>c?d=q.RELATIVE:
(c<b&&(c=b),d=q.ABSOLUTE));return{width:c,mode:d}},ia:function(a){var b=this.va(a.width,a.ignoreMin?0:this.a.minColumnWidth);return{name:a.name,label:void 0===a.label?a.name:a.label,width:b.width,k:b.mode,resizable:void 0===a.resizable?!0:a.resizable,sortable:void 0===a.sortable?!0:a.sortable,movable:void 0===a.movable?!0:a.movable,visible:void 0===a.visible?!0:a.visible,cellClasses:void 0===a.cellClasses?this.a.cellClasses:a.cellClasses,ignoreMin:void 0===a.ignoreMin?!1:!!a.ignoreMin}},close:function(){this.h&&
(this.h.remove(),this.h=null);if(this.l)for(var a=this.l[0].childNodes,b=0,c=a.length;b<c;b++)this.trigger("rowdestroy",a[b]);this.remove();this.ha().Pa();this.i.unbind();this.l.unbind();this.$el.unbind();this.unbind();if(this.m){for(a=0;a<this.m.length;a++)b=this.m[a],b.Ca.removeEventListener("message",b.Ba,!1);this.m.length=0}this.d.length=this.c.length=0;for(var d in this)this.hasOwnProperty(d)&&(this[d]=null)},Pa:function(){var a,b,c,d,e,f;if(this.r)for(a=0,b=this.r.childNodes,c=b.length;a<c;a++)for(d=
b[a],e=0,d=d.childNodes,f=d.length;e<f;e++)this.X(d[e]);if(this.e)for(a=0,b=this.e.childNodes,c=b.length;a<c;a++)for(d=b[a],e=0,d=d.childNodes,f=d.length;e<f;e++)this.Wa(d[e]);return this},n:function(a){var b=0;a=a.childNodes;for(var c=a.length;b<c;b++)this.X(a[b]);return this},render:function(){var a=this.a;if(!0===this.w){this.w=!1;a.width==w.Width.AUTO&&this.ga();var b=this.f?this.f.scrollTop:0,c=this.f?this.f.scrollLeft:0;this.tableWidthChanged(!0,!1).Na();if(a.virtualTable)this.s();else{var d=
(this.g||this.d).length,d=this.u(0,d-1);this.l.html("").append(d);this.s(!0)}this.f.scrollTop=b;this.f.scrollLeft=c;this.J.scrollLeft=c;this.t(!0);for(d=0;d<this.d.sortColumn.length;d++)this.wa(this.d.sortColumn[d].column,this.d.sortColumn[d].descending);a.adjustColumnWidthForSortArrow&&this.d.sortColumn.length&&this.tableWidthChanged(!0);this.trigger("renderskeleton");a.virtualTable&&(this.i.on("scroll",_.bind(this.Ma,this)),this.render())}else if(a.virtualTable){d=(this.g||this.d).length;c=this.f.scrollTop;
b=Math.floor((c-this.A)/this.p)+1-a.rowsBufferSize;a=Math.ceil((c-this.A+this.Qa)/this.p)+a.rowsBufferSize;0>b&&(b=0);a>=d&&(a=d-1);var e=-1,c=-1,f=this.e.childNodes;f.length&&(e=f[0].rowIndex,c=f[f.length-1].rowIndex);if(-1!==e&&e<b){for(var n=Math.min(c+1,b)-e,d=0;d<n;d++)this.trigger("rowdestroy",f[0]),this.n(f[0]),this.e.removeChild(f[0]);e+=n;e>c&&(e=c=-1)}else if(-1!==c&&c>a){n=c-Math.max(e-1,a);for(d=0;d<n;d++)this.trigger("rowdestroy",f[f.length-1]),this.n(f[f.length-1]),this.e.removeChild(f[f.length-
1]);c<e&&(e=c=-1)}b<e&&(d=this.u(b,Math.min(a,e-1)),this.l.prepend(d));if(a>c||-1===c)d=this.u(-1===c?b:c+1,a),this.l.append(d)}this.trigger("render");return this},clearAndRender:function(){this.w=!0;return this.render()},u:function(a,b){var c=this.a,d=c.tableClassName,e=d+"-row",d=d+"-cell",f=this.g||this.d,n=!!this.g,h=c.allowCellPreview,g=this.b,r=c.cellFormatter,c=c.virtualTable,p=this.A,l=this.p,m,k,t=g.length;m=0;for(var x;m<t;m++)x=g[m],x.Ha=x.q||x.j;for(var u=document.createDocumentFragment(),
q=this.D()?"right":"left",w=a,E=f.length,A,y,z,D;w<E&&w<=b;w++){A=f[w];k=n?A.__i:w;y=v("div");y.className=e;y.rowIndex=w;y.physicalRowIndex=k;for(m=0;m<t;m++)x=g[m],z=v("div"),z.columnName=x.name,z.setAttribute("data-column",x.name),z.className=d,z.style.width=x.Ha+"px",x.cellClasses&&(z.className+=" "+x.cellClasses),h&&this.P(z),D=z.appendChild(v("div")),x=r(A[x.name],x.name,A),void 0===x&&(x=""),D.innerHTML=x,y.appendChild(z);c&&(m=0<w?p+(w-1)*l:0,y.style.position="absolute",y.style[q]=0,y.style.top=
m+"px");u.appendChild(y);this.trigger("rowcreate",w,k,y,A)}return u},R:function(){if(this.e){var a=(this.g||this.d).length,b=this.p*a;a&&(b+=this.A-this.p,b+=this.Z-this.p);1>b&&(b=1);this.e.style.height=b+"px"}return this},ea:function(){var a=this.a.tableClassName,b=a+"-row",c=a+"-cell",d=this.b,s=d.length,f,n,h,b=e("<div>").addClass(b).css("float","left");for(n=0;n<s;n++)h=d[n],f=v("div"),f.className=c,f.style.width=h.j+"px",h.cellClasses&&(f.className+=" "+h.cellClasses),f.appendChild(v("div")),
b.append(f);a=e("<div>").addClass(this.className).css({"z-index":-1,position:"absolute",left:"0",top:"-9999px","float":"left",width:"1px",overflow:"hidden"}).append(e("<div>").addClass(a).append(e("<div>").addClass(a+"-body").css("width",99999).append(b)));a.appendTo(document.body);d=e('<div style="border:1px solid #000;width:0;height:0;position:absolute;left:0;top:-9999px">').appendTo(document.body);c=parseFloat(d.css("border-width"));c=Math.round(c)!=c;d.remove();b=b.outerWidth();b-=this.v||0;c&&
b++;a.remove();return b},addColumn:function(a,b){var c=this.c;if(a&&!c.get(a.name)){var d=null;void 0!==b&&(d=c.get(b)||c.N(b));var e=this.ia(a);e.order=d?d.order:c.Aa()+1;for(var d=c.Aa(),f=e.order,n;d>=f;d--)(n=c.N(d))&&n.order++;c.push(e);c.ca();this.w=!0;this.b=c.H();this._ensureVisibleColumns();this.render();this.trigger("addcolumn",e.name)}return this},removeColumn:function(a){var b=this.c,c=b.indexOf(a);-1<c&&(b.splice(c,1),b.ca(),this.b=b.H(),this._ensureVisibleColumns().clearAndRender(),
this.trigger("removecolumn",a));return this},filter:function(a,b,c){if(this.c.get(a)){var d=!!this.g;this.g&&(this.g=null);this.g=this.d.za(a,b,c);if(d||this.g)this.clearAndRender(),this.trigger("filter",a,b,c)}return this},F:function(){this.g&&(this.g=null,this.g=this.d.za(this.d.G,this.d.M,this.d.ba));return this},setColumnLabel:function(a,b){var c=this.c.get(a);if(c&&(c.label=void 0===b?c.name:b,c.element))for(var d=0;d<c.element[0].firstChild.childNodes.length;d++){var e=c.element[0].firstChild.childNodes[d];
if(3===e.nodeType){e.textContent=c.label;break}}return this},moveColumn:function(a,b){var c=this.a,d=this.c,e,f;"string"===typeof a?e=d.get(a):"number"===typeof a&&(e=this.b[a]);"string"===typeof b?f=d.get(b):"number"===typeof b&&(f=this.b[b]);if(e&&f&&a!==b){var n=e.order,h=f.order;this.b=d.moveColumn(e,f).H();this._ensureVisibleColumns();if(c.virtualTable)this.clearAndRender().s(!0);else{d=this.o.find(">div."+c.tableClassName+"-header-cell");c=n<h?h+1:h;d[0].parentNode.insertBefore(d[n],d[c]);d=
this.b[n];d=(d.q||d.j)+"px";f=this.b[h];f=(f.q||f.j)+"px";for(var g=this.l[0].childNodes,r=0,p=g.length,l;r<p;r++)l=g[r],1===l.nodeType&&(l.insertBefore(l.childNodes[n],l.childNodes[c]),l.childNodes[h].firstChild.style.width=f,l.childNodes[n].firstChild.style.width=d)}this.trigger("movecolumn",e.name,n,h)}return this},sort:function(a,b,c){var d=this.a,e=this.c.get(a);if(e){var f=this.d.sortColumn;f.length&&f[f.length-1].column==a&&(b=void 0===b?!f[f.length-1].descending:b);if(c){for(a=0;a<f.length;a++)if(f[a].column==
e.name){a<f.length-1?f.length=0:f.splice(f.length-1,1);break}if(0<d.sortableColumns&&f.length>=d.sortableColumns||f.length>=this.b.length)f.length=0}else f.length=0;f.push({column:e.name,descending:!(void 0===b||!b)});this.d.sortColumn=f;this.ga();for(a=0;a<f.length;a++)this.wa(f[a].column,f[a].descending);d.adjustColumnWidthForSortArrow&&this.tableWidthChanged(!0);if(d.virtualTable)for(;this.e.firstChild;)this.trigger("rowdestroy",this.e.firstChild),this.n(this.e.firstChild),this.e.removeChild(this.e.firstChild);
else this.w=!0;this.d.sort(!!this.g);this.F();this.g&&this.render();b=[];for(a=0;a<f.length;a++)b.push({column:f[a].column,descending:f[a].descending});this.trigger("sort",b)}return this},_ensureVisibleColumns:function(){0===this.b.length&&this.c.length&&(this.c[0].visible=!0,this.b.push(this.c[0]),this.trigger("showcolumn",this.c[0].name));return this},setColumnVisible:function(a,b){var c=this.c.get(a);c&&!!c.visible!=!!b&&(c.visible=!!b,this.b=this.c.H(),this.trigger(b?"showcolumn":"hidecolumn",
a),this._ensureVisibleColumns(),this.clearAndRender());return this},isColumnVisible:function(a){return(a=this.c.get(a))?a.visible:!1},setMinColumnWidth:function(a){var b=this.a;a=Math.max(a,0);b.minColumnWidth!=a&&(b.minColumnWidth=a,this.tableWidthChanged(!0));return this},getMinColumnWidth:function(){return this.a.minColumnWidth},setSortableColumns:function(a){var b=this.a;if(b.sortableColumns!=a&&(b.sortableColumns=a,this.i)){a=this.o.find(">div."+b.tableClassName+"-header-cell");for(var c=0;c<
a.length;c++)e(a[0])[0<b.sortableColumns&&this.b[c].sortable?"addClass":"removeClass"]("sortable")}return this},getSortableColumns:function(){return this.a.sortableColumns},setMovableColumns:function(a){var b=this.a;a=!!a;b.movableColumns!=a&&(b.movableColumns=a);return this},getMovableColumns:function(){return this.a.movableColumns},setResizableColumns:function(a){var b=this.a;a=!!a;b.resizableColumns!=a&&(b.resizableColumns=a);return this},getResizableColumns:function(){return this.a.resizableColumns},
setComparatorCallback:function(a){var b=this.a;b.comparatorCallback!=a&&(b.comparatorCallback=a);return this},setColumnWidth:function(a,b){var c=this.va(b,a.ignoreMin?0:this.a.minColumnWidth),d=this.c.get(a);if(d){var e=this.L(d);d.width=c.width;d.k=c.mode;c=this.L(d);e!=c&&this.tableWidthChanged(!0);this.trigger("columnwidth",d.name,e,c)}return this},getColumnWidth:function(a){return(a=this.c.get(a))?this.L(a):null},getColumnConfig:function(a){return(a=this.c.get(a))?{order:a.order,width:this.L(a),
visible:a.visible,label:a.label}:null},getColumnsConfig:function(){for(var a={},b=0;b<this.c.length;b++)a[this.c[b].name]=this.getColumnConfig(this.c[b].name);return a},getSortedColumns:function(){for(var a=[],b=0,c;b<this.d.sortColumn.length;b++)c=this.d.sortColumn[b],a.push({column:c.column,descending:c.descending});return a},getHtmlForCell:function(a,b){if(0>a||a>this.d.length-1||!this.c.get(b))return null;var c=this.d[a],c=this.a.cellFormatter(c[b],b,c);void 0===c&&(c="");return c},getDataForRow:function(a){return 0>
a||a>this.d.length-1?null:this.d[a]},getRowCount:function(){return this.d?this.d.length:0},getDataForFilteredRow:function(a){return 0>a||a>(this.g||this.d).length-1?null:(this.g||this.d)[a]},getHeaderRowElement:function(){return this.r},C:function(a){return(parseFloat(e.css(a,"padding-left"))||0)+(parseFloat(e.css(a,"padding-right"))||0)},Ia:function(a){return(parseFloat(e.css(a,"border-left"))||0)+(parseFloat(e.css(a,"border-right"))||0)},fa:function(){var a=this.a,b,c,d;this.i&&(c=this.f?this.f.scrollTop:
0,d=this.f?this.f.scrollLeft:0,b=this.i[0].style.display,this.i[0].style.display="none");var s=this.$el.width();this.i&&(this.i[0].style.display=b,this.f.scrollTop=c,this.f.scrollLeft=d,this.J.scrollLeft=d);var f;b=a.tableClassName;if(this.i)c=this.o;else{f=e("<div>").addClass(this.className).css({"z-index":-1,position:"absolute",left:"0",top:"-9999px"});a=e("<div>").addClass(b+"-header").appendTo(f);c=e("<div>").addClass(b+"-header-row").appendTo(a);for(a=0;a<this.b.length;a++)c.append(e("<div><div></div></div>").addClass(b+
"-header-cell").addClass(this.b[a].cellClasses||""));f.appendTo(document.body)}s-=this.Ia(c[0]);b=c.find(">div."+b+"-header-cell");for(a=0;a<b.length;a++)e(b[a].firstChild),c=e(b[a]),d="border-box"===c.css("boxSizing"),s-=(parseFloat(c.css("border-right-width"))||0)+(parseFloat(c.css("border-left-width"))||0)+(d?0:this.C(c[0]));f&&f.remove();return s},tableWidthChanged:function(){var a=null;return function(b,c){var d=this.a,s=this.fa(),f=s,n=0;c=void 0===c||c;var h=0;c&&(h=parseFloat(this.e.style.minWidth)||
0);if(f!=a||b){a=s;var g,s=0,r=[],p,l,m=0;for(p=0;p<this.c.length;p++)this.c[p].q=null;for(p=0;p<this.b.length;p++)if(l=this.b[p],l.k===q.ABSOLUTE)g=l.width,g+=l.aa||0,!l.ignoreMin&&g<d.minColumnWidth&&(g=d.minColumnWidth),f-=g,s+=g,g!==l.j&&(l.j=g,r.push(p));else if(l.k===q.AUTO){var k=l.label,t=this.a.tableClassName;g=void 0;k=e("<div>").addClass(this.$el).append(e("<div>").addClass(t+"-header").append(e("<div>").addClass(t+"-header-row").append(g=e("<div>").addClass(t+"-header-cell").append(e("<div>").text(k))))).css({position:"absolute",
top:"-9999px",visibility:"hidden"});k.appendTo(document.body);g=g.width();k.remove();g+=20;g+=l.aa||0;!l.ignoreMin&&g<d.minColumnWidth&&(g=d.minColumnWidth);f-=g;s+=g;g!==l.j&&(l.j=g,d.convertColumnWidthsToRelative||r.push(p))}else l.k===q.RELATIVE&&(m+=l.width,n++);if(d.convertColumnWidthsToRelative)for(p=0;p<this.b.length;p++)l=this.b[p],l.k===q.AUTO&&(l.k=q.RELATIVE,f+=l.j,l.width=l.j/s,m+=l.width,n++);if(n&&(1>m&&d.relativeWidthGrowsToFillWidth||1<m&&d.relativeWidthShrinksToFillWidth))for(p=0;p<
this.b.length;p++)l=this.b[p],l.k===q.RELATIVE&&(l.width/=m);s=f;d=d.minColumnWidth/s;isNaN(d)&&(d=0);if(0<d){for(p=m=0;p<this.b.length;p++)l=this.b[p],l.k===q.RELATIVE&&!l.ignoreMin&&l.width<d&&(m+=d-l.width,l.width=d);for(p=0;p<this.b.length;p++)l=this.b[p],l.k===q.RELATIVE&&!l.ignoreMin&&l.width>d&&0<m&&(g=Math.min(m,l.width-d),l.width-=g,m-=g)}for(p=0;p<this.b.length;p++)l=this.b[p],l.k===q.RELATIVE&&(g=Math.round(s*l.width),f-=g,n--,0===n&&1===f&&(g++,f--),-1===f&&(g--,f++),g!==l.j&&(l.j=g,r.push(p)));
this.b[this.b.length-1].q=this.b[this.b.length-1].j-(this.v||0);if(c){f=this.ea();h<f&&this.t(!1);for(p=0;p<r.length;p++)this.Oa(r[p]);h>f&&this.t(!1)}}return this}}(),tableHeightChanged:function(){var a=this.a,b=this.$el.innerHeight()-(parseFloat(this.i.css("border-top-width"))||0)-(parseFloat(this.i.css("border-bottom-width"))||0);b!=a.height&&(a.height=b,this.e&&(this.e.style.height=Math.max(a.height-this.o.outerHeight(),1)+"px"),a.virtualTable&&this.clearAndRender());return this},addRows:function(a){if(a){this.d.add(a);
if(this.a.virtualTable){for(;this.e.firstChild;)this.trigger("rowdestroy",this.e.firstChild),this.n(this.e.firstChild),this.e.removeChild(this.e.firstChild);this.g&&this.F();this.R().s().t(!1);this.render()}else if(this.g){var b=this.g.length;this.F();this.g&&this.g.length==b||this.clearAndRender()}else this.l&&(b=this.d.length-a.length,b=this.u(b,b+a.length-1),this.e.appendChild(b),this.s().t(!0));this.trigger("addrows",a.length,!1)}return this},removeRow:function(a,b){if(0>a||a>this.d.length-1)return this;
this.d.splice(a,1);b=void 0===b?!0:!!b;if(this.g)this.F(),this.w=!0,b&&this.render();else if(b){var c=this.e.childNodes;if(this.a.virtualTable){for(var d=0;d<c.length;d++)c[d].rowIndex>=a&&(this.trigger("rowdestroy",c[d]),this.n(c[d]),this.e.removeChild(c[d]),d--);this.R().s().render().t(!1)}else{for(d=0;d<c.length;d++)if(c[d].rowIndex===a){this.trigger("rowdestroy",c[d]);this.n(c[d]);this.e.removeChild(c[d]);break}this.render().s().t(!0)}}return this},refreshRow:function(a){if(0>a||a>this.d.length-
1)return this;var b=-1;if(this.g&&-1===(b=_.indexOf(this.g,this.d[a])))return this;-1===b&&(b=a);var c=this.e.childNodes;if(this.a.virtualTable){for(var d=!1,e=0;e<c.length;e++)if(c[e].physicalRowIndex===a){d=!0;this.trigger("rowdestroy",c[e]);this.n(c[e]);this.e.removeChild(c[e]);break}d&&(a=this.u(b,b),this.e.insertBefore(a,c[e]||null))}else this.trigger("rowdestroy",c[b]),this.n(c[b]),this.e.removeChild(c[b]),a=this.u(b,b),this.e.insertBefore(a,c[b]||null);return this},refreshAllVirtualRows:function(){if(this.a.virtualTable){for(var a=
[],b=this.e.childNodes,c=0,d=b.length;c<d;c++)a.push(b[c].physicalRowIndex),this.trigger("rowdestroy",b[c]),this.n(b[c]),this.e.removeChild(b[c]),c--,d--;for(c=0;c<a.length;c++)b=this.u(a[c],a[c]),this.e.appendChild(b)}return this},setRows:function(a){this.scrollTop=this.$el.find(".table").scrollTop();this.d.reset(a);this.F();this.clearAndRender().trigger("addrows",a.length,!0);return this},getUrlForElementContent:function(a){if(a=document.getElementById(a)){a=a.textContent;if("function"===typeof Blob)a=
new Blob([a]);else{var b=k.BlobBuilder||k.WebKitBlobBuilder||k.Va||k.Ua;if(!b)return null;b=new b;b.append(a);a=b.getBlob()}return(k.URL||k.webkitURL).createObjectURL(a)}return null},isWorkerSupported:function(){return k.Worker instanceof Function},createWebWorker:function(a,b){if(this.isWorkerSupported()){var c=this,d=new Worker(a),e=function(a){a.data.append?c.addRows(a.data.rows):c.setRows(a.data.rows)};d.addEventListener("message",e,!1);this.m||(this.m=[]);this.m.push({Ca:d,Ba:e});(b||void 0===
b)&&d.postMessage(null);return d}return null},unbindWebWorker:function(a){if(this.m)for(var b=0;b<this.m.length;b++)this.m[b].Ca==a&&(a.removeEventListener("message",this.m[b].Ba,!1),this.m.splice(b,1),b--);return this},abortCellPreview:function(){this.da=!0;return this},cancelColumnResize:function(){this.h&&(this.h.remove(),this.h=null,e(document).off("mousemove.dgtable",this.V).off("mouseup.dgtable",this.K));return this},Ma:function(){this.render()},La:function(){this.J.scrollLeft=this.f.scrollLeft},
T:function(a){var b=this.a,c=this.D(),d=e(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName),g=d[0];g.__cell&&(g=g.__cell,d=e(g));for(var f=d[0].previousSibling;f&&1!=f.nodeType;)f=f.previousSibling;var n=!f;a=((null!=a.pageX?a.pageX:a.originalEvent.pageX)||a.originalEvent.clientX)-d.offset().left;if(c){if(!n&&d.outerWidth()-a<=b.resizeAreaWidth/2)return f.columnName;if(a<=b.resizeAreaWidth/2)return g.columnName}else{if(!n&&a<=b.resizeAreaWidth/2)return f.columnName;
if(d.outerWidth()-a<=b.resizeAreaWidth/2)return g.columnName}return null},ua:function(a){var b=this;if(!b.B){var c=a.originalEvent.changedTouches[0];b.B=c.identifier;var d=e(a.currentTarget),g={x:c.pageX,y:c.pageY},f=g,n=function(){b.B=null;d.off("touchend").off("touchcancel");clearTimeout(k)},h=function(b){var c=e.Event(b),d=Array.prototype.slice.call(arguments,1);e.each("target clientX clientY offsetX offsetY screenX screenY pageX pageY which".split(" "),function(){c[this]=a[this];for(var b=0;b<
d.length;b++)null!=d[b][this]&&(c[this]=d[b][this])});return c};d.trigger(h("mousedown",a.originalEvent.changedTouches[0],{which:1}));var k=setTimeout(function(){n();d.one("touchend",function(a){a.preventDefault();d.off("touchend").off("touchcancel")}).one("touchcancel",function(){d.off("touchend").off("touchcancel")});9>Math.sqrt(Math.pow(Math.abs(f.x-g.x),2)+Math.pow(Math.abs(f.y-g.y),2))&&(b.cancelColumnResize(),d.trigger(h("mouseup",a.originalEvent.changedTouches[0],{which:3})))},500);d.on("touchend",
function(a){var c=_.find(a.originalEvent.changedTouches,function(a){return a.identifier===b.B});c&&(n(),a.preventDefault(),f={x:c.pageX,y:c.pageY},9>Math.sqrt(Math.pow(Math.abs(f.x-g.x),2)+Math.pow(Math.abs(f.y-g.y),2))||b.h)&&(d.trigger(h("mouseup",c,{which:1})),d.trigger(h("click",c,{which:1})))}).on("touchcancel",function(){n()}).on("touchmove",function(a){var c=_.find(a.originalEvent.changedTouches,function(a){return a.identifier===b.B});c&&(f={x:c.pageX,y:c.pageY},b.h&&(a.preventDefault(),d.trigger(h("mousemove",
c))))})}},oa:function(a){if(1!==a.which)return this;var b=this.a,c=this.T(a);if(c){var d=this.c.get(c);if(!b.resizableColumns||!d||!d.resizable)return!1;c=this.D();this.h&&e(this.h).remove();this.h=e("<div></div>").addClass(b.resizerClassName).css({position:"absolute",display:"block","z-index":-1,visibility:"hidden",width:"2px",background:"#000",opacity:0.7}).appendTo(this.$el);var b=d.element,g=this.h.parent(),d=b.offset(),f=g.offset();8===t&&(d=b.offset());f.left+=parseFloat(g.css("border-left-width"))||
0;f.top+=parseFloat(g.css("border-top-width"))||0;d.left-=f.left;d.top-=f.top;d.top-=parseFloat(b.css("border-top-width"))||0;g=this.h.outerWidth();c?d.left-=Math.ceil((parseFloat(b.css("border-left-width"))||0)/2):(d.left+=b.outerWidth(),d.left+=Math.ceil((parseFloat(b.css("border-right-width"))||0)/2));d.left-=Math.ceil(g/2);this.h.css({"z-index":"10",visibility:"visible",left:d.left,top:d.top,height:this.$el.height()})[0].columnName=b[0].columnName;try{this.h[0].style.zIndex=""}catch(n){}e(document).on("mousemove.dgtable",
this.V);e(document).on("mouseup.dgtable",this.K);a.preventDefault()}},qa:function(a){var b=this.a;if(b.resizableColumns){var c=this.T(a);a=e(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName)[0];c&&this.c.get(c).resizable?a.style.cursor="e-resize":a.style.cursor=""}},ra:function(a){if(3===a.which){var b=this.a,b=e(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName),c=b.offset();c.width=b.outerWidth();c.height=b.outerHeight();this.trigger("headercontextmenu",
b[0].columnName,a.pageX,a.pageY,c)}return this},pa:function(a){var b=this.a;e(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName)[0].style.cursor=""},ja:function(a){if(!this.T(a)){var b=this.a;a=e(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName)[0];b.sortableColumns&&(b=this.c.get(a.columnName))&&b.sortable&&this.sort(a.columnName,void 0,!0)}},sa:function(a){var b=this.a;if(b.movableColumns){var b=e(a.target).closest("div."+b.tableClassName+
"-header-cell,div."+b.cellPreviewClassName),c=this.c.get(b[0].columnName);c&&c.movable?(b[0].style.opacity=0.35,this.S=161061273*Math.random(),a.originalEvent.dataTransfer.setData("text",JSON.stringify({ya:this.S,column:c.name}))):a.preventDefault()}else a.preventDefault()},Ka:function(a){var b=this.c.get(this.h[0].columnName),c=this.D(),d=b.element,e=this.h.parent(),f=d.offset(),g=e.offset();g.left+=parseFloat(e.css("border-left-width"))||0;f.left-=g.left;e=this.h.outerWidth();a=a.pageX-g.left;f=
f.left;c?(f+=d.outerWidth(),f-=Math.ceil((parseFloat(d.css("border-right-width"))||0)/2),f-=Math.ceil(e/2),f-=b.ignoreMin?0:this.a.minColumnWidth,f-=this.C(d[0]),a>f&&(a=f)):(f+=Math.ceil((parseFloat(d.css("border-right-width"))||0)/2),f-=Math.ceil(e/2),f+=b.ignoreMin?0:this.a.minColumnWidth,f+=this.C(d[0]),a<f&&(a=f));this.h.css("left",a+"px")},Ja:function(a){if(this.h){e(document).off("mousemove.dgtable",this.V).off("mouseup.dgtable",this.K);var b=this.c.get(this.h[0].columnName),c=this.D(),d=b.element,
g=this.h.parent(),f=d.offset(),h=g.offset();h.left+=parseFloat(g.css("border-left-width"))||0;f.left-=h.left;g=this.h.outerWidth();a=a.pageX-h.left;f=h=f.left;f=0;c?(a+=this.C(d[0]),h+=d.outerWidth(),h-=Math.ceil((parseFloat(d.css("border-right-width"))||0)/2),h-=Math.ceil(g/2),f=h-(b.ignoreMin?0:this.a.minColumnWidth),a>f&&(a=f),f=h-a):(a-=this.C(d[0]),h+=Math.ceil((parseFloat(d.css("border-right-width"))||0)/2),h-=Math.ceil(g/2),f=h+(b.ignoreMin?0:this.a.minColumnWidth),a<f&&(a=f),f=a-h);this.h.remove();
this.h=null;c=f;if(b.k===q.RELATIVE){c=this.fa();for(d=0;d<this.b.length;d++)g=this.b[d],g.k!=q.RELATIVE&&(c-=g.j);c=f/c*100;c+="%"}this.setColumnWidth(b.name,c)}else a.target.style.opacity=null},ka:function(a){var b=this.a;if(b.movableColumns){var c=a.originalEvent.dataTransfer.getData("text"),c=c?JSON.parse(c):null;a=e(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName);(!c||this.S==c.ya&&a.columnName!==c.column)&&(c=this.c.get(a[0].columnName))&&(c.movable||c!=
this.b[0])&&e(a).addClass("drag-over")}},ma:function(a){a.preventDefault()},la:function(a){var b=this.a,b=e(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName);e(b[0].firstChild).has(a.originalEvent.relatedTarget).length||b.removeClass("drag-over")},na:function(a){a.preventDefault();var b=this.a,c=JSON.parse(a.originalEvent.dataTransfer.getData("text"));a=e(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName);if(b.movableColumns&&
c.ya==this.S){var b=c.column,c=a[0].columnName,d=this.c.get(b),g=this.c.get(c);d&&g&&d.movable&&(g.movable||g!=this.b[0])&&this.moveColumn(b,c)}e(a).removeClass("drag-over")},ga:function(){if(this.i){var a=this.o.find(">div."+this.a.tableClassName+"-header-cell.sorted"),b=a.find(">div>.sort-arrow");_.forEach(b,_.bind(function(a){if(a=this.c.get(a.parentNode.parentNode.columnName))a.aa=0},this));b.remove();a.removeClass("sorted").removeClass("desc")}return this},wa:function(a,b){var c=this.c.get(a),
d=v("span");d.className="sort-arrow";c.element.addClass(b?"sorted desc":"sorted");c.element[0].firstChild.insertBefore(d,c.element[0].firstChild.firstChild);c.k!=q.RELATIVE&&this.a.adjustColumnWidthForSortArrow&&(c.aa=d.scrollWidth+(parseFloat(e(d).css("margin-right"))||0)+(parseFloat(e(d).css("margin-left"))||0));return this},Oa:function(a){var b=this.o.find("div."+this.a.tableClassName+"-header-cell"),c=this.c.get(b[a].columnName);if(c){b[a].style.width=(c.q||c.j)+"px";for(var b=(c.q||c.j)+"px",
c=this.l[0].childNodes,d=0,e=c.length,f;d<e;d++)f=c[d],1===f.nodeType&&(f.childNodes[a].style.width=b)}return this},ha:function(){this.o&&(this.trigger("headerrowdestroy",this.r),this.o.find("div."+this.a.tableClassName+"-header-cell").remove(),this.r=this.o=null);return this},Na:function(){function a(a){a.preventDefault()}this.ha();this.B=null;var b=this.a,c=b.allowCellPreview,d=b.allowHeaderCellPreview,g=b.tableClassName,f=g+"-header-cell",n=v("div"),k=e(n),t=v("div"),r=e(t);n.className=g+"-header";
t.className=g+"-header-row";var p;u&&(p=function(a){a.preventDefault();this.Sa();return!1});for(var l=0,m,q,C,x;l<this.b.length;l++)if(m=this.b[l],m.visible){q=v("div");x=e(q);q.draggable=!0;q.className=f;q.style.width=m.j+"px";b.sortableColumns&&m.sortable&&(q.className+=" sortable");q.columnName=m.name;q.setAttribute("data-column",m.name);C=v("div");C.innerHTML=b.headerCellFormatter(m.label,m.name);q.appendChild(C);c&&d&&this.P(q);t.appendChild(q);this.b[l].element=x;x.on("mousedown.dgtable",_.bind(this.oa,
this)).on("mousemove.dgtable",_.bind(this.qa,this)).on("mouseup.dgtable",_.bind(this.ra,this)).on("mouseleave.dgtable",_.bind(this.pa,this)).on("touchstart.dgtable",_.bind(this.ua,this)).on("dragstart.dgtable",_.bind(this.sa,this)).on("click.dgtable",_.bind(this.ja,this)).on("contextmenu.dgtable",a);e(C).on("dragenter.dgtable",_.bind(this.ka,this)).on("dragover.dgtable",_.bind(this.ma,this)).on("dragleave.dgtable",_.bind(this.la,this)).on("drop.dgtable",_.bind(this.na,this));if(u)x.on("selectstart.dgtable",
_.bind(p,q));x.css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none"})}this.O&&this.O.remove();this.O=k;this.J=n;this.o=r;this.r=t;r.appendTo(this.O);k.prependTo(this.$el);this.trigger("headerrowcreate",t);this.el.style.overflow=b.width==w.Width.SCROLL?"hidden":"";if(this.i&&b.virtualTable){this.i.remove();if(this.l)for(c=this.l[0].childNodes,l=0,d=c.length;l<d;l++)this.trigger("rowdestroy",
c[l]),this.n(c[l]);this.i=this.f=this.l=this.e=null}h(this.$el);!b.height&&b.virtualTable&&(b.height=this.$el.innerHeight());b.virtualTable&&!this.p&&(n=function(){var a=v("div"),b=a.appendChild(v("div")),c=b.appendChild(v("div"));a.className=g+"-row";b.className=g+"-cell";c.innerHTML="0";a.style.visibility="hidden";a.style.position="absolute";return a},c=e("<div>").addClass(this.className).css({"z-index":-1,position:"absolute",left:"0",top:"-9999px",width:"1px",overflow:"hidden"}).append(e("<div>").addClass(g).append(l=
e("<div>").addClass(g+"-body").css("width",99999))),c.appendTo(document.body),d=n(),f=n(),n=n(),l.append(d,f,n),this.A=e(d).outerHeight(),this.p=e(f).outerHeight(),this.Z=e(n).outerHeight(),Math.min(Math.min(this.A,this.p),this.Z),Math.max(Math.max(this.A,this.p),this.Z),c.remove());this.i||(l=document.createDocumentFragment(),c=v("div"),d=e(c),c.className=b.tableClassName,b.virtualTable&&(c.className+=" virtual"),r=b.height-r.outerHeight(),"border-box"!==d.css("box-sizing")&&(r-=parseFloat(d.css("border-top-width"))||
0,r-=parseFloat(d.css("border-bottom-width"))||0,r-=parseFloat(d.css("padding-top"))||0,r-=parseFloat(d.css("padding-bottom"))||0),this.Qa=r,c.style.height=b.height?r+"px":"auto",c.style.display="block",c.style.overflowY="auto",c.style.overflowX=b.width==w.Width.SCROLL?"auto":"hidden",l.appendChild(c),r=v("div"),f=e(r),r.className=b.tableClassName+"-body",this.f=c,this.e=r,this.i=d,this.l=f,this.R(),h(f),h(d),c.appendChild(r),this.el.appendChild(l));return this},s:function(a){var b=this.f.offsetWidth-
this.f.clientWidth;if(b!=this.v||a){this.v=b;for(a=0;a<this.c.length;a++)this.c[a].q=null;if(0<this.v){b=this.b.length-1;this.b[b].q=this.b[b].j-this.v;var c=this.b[b].q+"px",d=this.e.childNodes;a=0;for(var e=d.length,f;a<e;a++)f=d[a],1===f.nodeType&&(f.childNodes[b].style.width=c);this.r.childNodes[b].style.width=c}}return this},t:function(a){var b=this.a,c=this.ea();this.e.style.minWidth=c+"px";this.r.style.minWidth=c+(this.v||0)+"px";this.i.off("scroll",this.ta);if(b.width==w.Width.AUTO)this.$el.width(this.i.width(this.l.outerWidth()).outerWidth());
else if(b.width==w.Width.SCROLL){if(a){a=this.f?this.f.scrollTop:0;var b=this.f?this.f.scrollLeft:0,c=this.el,d=c.style.display;c.style.display="none";c.offsetHeight;c.style.display=d;this.f.scrollTop=a;this.f.scrollLeft=b;this.J.scrollLeft=b}this.i.on("scroll",this.ta)}return this},D:function(){return"rtl"===this.i.css("direction")},L:function(a){return a.k===q.AUTO?"auto":a.k===q.RELATIVE?100*a.width+"%":a.width},Ga:function(a){var b=this,c=b.a;this.da=!1;var d=a.firstChild;if(1<d.scrollWidth-d.clientWidth||
1<d.scrollHeight-d.clientHeight){b.U();var g=e(a),f=e(d),h=v("div"),k=e(h);h.innerHTML=a.innerHTML;h.className=c.cellPreviewClassName;if(c=g.hasClass(c.tableClassName+"-header-cell"))if(h.className+=" header",g.hasClass("sortable")&&(h.className+=" sortable"),h.draggable=!0,e(h).on("mousedown",_.bind(b.oa,b)).on("mousemove",_.bind(b.qa,b)).on("mouseup",_.bind(b.ra,b)).on("mouseleave",_.bind(b.pa,b)).on("touchstart",_.bind(b.ua,b)).on("dragstart",_.bind(b.sa,b)).on("click",_.bind(b.ja,b)).on("contextmenu.dgtable",
function(a){a.preventDefault()}),e(h.firstChild).on("dragenter",_.bind(b.ka,b)).on("dragover",_.bind(b.ma,b)).on("dragleave",_.bind(b.la,b)).on("drop",_.bind(b.na,b)),u)e(h).on("selectstart",_.bind(function(a){a.preventDefault();this.Sa();return!1},h));var t=parseFloat(g.css("padding-left"))||0,q=parseFloat(g.css("padding-right"))||0,p=parseFloat(g.css("padding-top"))||0,l=parseFloat(g.css("padding-bottom"))||0,d=d.scrollWidth+a.clientWidth-d.offsetWidth;"border-box"===g.css("boxSizing")?(d-=parseFloat(e(a).css("border-left-width"))||
0,d-=parseFloat(e(a).css("border-right-width"))||0,k.css("box-sizing","border-box")):(d-=t+q,k.css({"margin-top":parseFloat(e(a).css("border-top-width"))||0}));if(!b.W){var m=document.createElement("div");m.style.backgroundColor="transparent";b.W=e(m).css("background-color");m.style.backgroundColor="rgba(0,0,0,0)";b.xa=e(m).css("background-color")}m=e(a).css("background-color");if(m===b.W||m===b.xa)m=e(a.parentNode).css("background-color");if(m===b.W||m===b.xa)m="#fff";k.css({"box-sizing":"content-box",
width:d+"px","min-height":g.height()+"px","padding-left":t,"padding-right":q,"padding-top":p,"padding-bottom":l,overflow:"hidden",position:"absolute",zIndex:"-1",left:"0",top:"0","background-color":m,cursor:"default"});document.body.appendChild(h);e(h.firstChild).css({direction:f.css("direction"),"white-space":f.css("white-space")});c&&k.css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none"});
h.rowIndex=a.parentNode.rowIndex;f=h.physicalRowIndex=a.parentNode.physicalRowIndex;h.columnName=b.b[_.indexOf(a.parentNode.childNodes,a)].name;b.trigger("cellpreview",h.firstChild,null==f?null:f,h.columnName,null==f?null:b.d[f]);this.da?k.remove():(f=g.offset(),"right"===g.css("float")?(c=k.outerWidth(),t=g.outerWidth(),f.left-=c-t,f.left-=parseFloat(e(a).css("border-right-width"))||0):f.left+=parseFloat(e(a).css("border-left-width"))||0,f.top+=parseFloat(e(a).css("border-top-width"))||parseFloat(e(a).css("border-bottom-width"))||
0,c=e(window).width()-k.outerWidth(),f.left=0>f.left?0:f.left>c?c:f.left,g=g.outerHeight(),g=e(document).scrollTop()+e(window).innerHeight()-g,f.top>g&&(f.top=Math.max(0,g)),k.css({left:f.left,top:f.top,"z-index":9999}),h.__cell=a,b.I=k,a.__previewEl=h,b.Q(a),b.Q(h),k.on("mousewheel",function(a){var c=a.originalEvent,d=c.wheelDelta||-c.detail;a=c.wheelDeltaX||(1==c.axis?d:0);c=c.wheelDeltaY||(2==c.axis?d:0);d&&b.U();c&&b.f.scrollHeight>b.f.clientHeight&&(d=-1*c+b.i.scrollTop(),b.i.scrollTop(d));a&&
b.f.scrollWidth>b.f.clientWidth&&(a=-1*a+b.i.scrollLeft(),b.i.scrollLeft(a))}))}},Fa:function(){this.U()},U:function(){if(this.I){var a=this.I[0];this.I.remove();this.Y(a.__cell);this.Y(a);a.__cell.__previewEl=null;a.__cell=null;this.trigger("cellpreviewdestroy",a.firstChild,a.physicalRowIndex,a.columnName);this.I=null}return this}}),q={AUTO:0,ABSOLUTE:1,RELATIVE:2};w.Width={NONE:"none",AUTO:"auto",SCROLL:"SCROLL"};k.DGTable=w})(this,jQuery);
DGTable.Da=function(){function k(){var e=[];_.extend(e,k.prototype);e.initialize.apply(e,arguments);return e}k.prototype=[];k.prototype.initialize=function(){};k.prototype.get=function(e){for(var h=0,g=this.length;h<g;h++)if(this[h].name==e)return this[h];return null};k.prototype.indexOf=function(e){for(var h=0,g=this.length;h<g;h++)if(this[h].name==e)return h;return-1};k.prototype.N=function(e){for(var h=0,g=this.length;h<g;h++)if(this[h].order==e)return this[h];return null};k.prototype.ca=function(){var e=
[],h;for(h=0;h<this.length;h++)e.push(this[h]);e.sort(function(e,h){return e.order<h.order?-1:e.order>h.order?1:0});for(h=0;h<e.length;h++)e[h].order=h};k.prototype.H=function(){for(var e=[],h=0,g;h<this.length;h++)g=this[h],g.visible&&e.push(g);e.sort(function(e,g){return e.order<g.order?-1:e.order>g.order?1:0});return e};k.prototype.Aa=function(){for(var e=0,h=0,g;h<this.length;h++)g=this[h],g.order>e&&(e=g.order);return e};k.prototype.moveColumn=function(e,h){if(e&&h){var g=e.order,k=h.order,u;
if(g<k)for(g+=1;g<=k;g++)u=this.N(g),u.order--;else for(g-=1;g>=k;g--)u=this.N(g),u.order++;e.order=k}return this};return k}();
DGTable.Ea=function(){function k(){var e=[];_.extend(e,k.prototype);e.initialize.apply(e,arguments);return e}k.prototype=[];_.extend(k.prototype,Backbone.Events);k.prototype.initialize=function(e){e=e||{};this.M=this.G=null;this.ba=!1;this.sortColumn=null==e.sortColumn?[]:e.sortColumn};k.prototype.add=function(e,h){var g,k;if("splice"in e&&"length"in e)if(h)for(g=0,k=e.length;g<k;g++)this.splice(h++,0,e[g]);else for(g=0,k=e.length;g<k;g++)this.push(e[g]);else h?this.splice(h,0,e):this.push(e)};k.prototype.reset=
function(e){this.length=0;e&&this.add(e)};k.prototype.za=function(e,h,g){if((h=h.toString())&&null!=e){var t=new k({sortColumn:this.sortColumn});this.G=e;this.M=h;this.ba=g;e=0;for(h=this.length;e<h;e++)g=this[e],this.Ta(g)&&(g.__i=e,t.push(g));return t}return this.M=this.G=null};k.prototype.Ta=function(e){if(e&&this.G){e=e[this.G];if(null==e)return!1;e=e.toString();var h=this.M;this.ba||(e=e.toUpperCase(),h=h.toUpperCase());return-1!==e.indexOf(h)}return!0};(function(){function e(e,h){var k=h?1:
-1,v=h?-1:1;return function(h,q){var a=h[e],b=q[e];return a<b?k:a>b?v:0}}var h=k.prototype.sort;k.prototype.sort=function(g){if(this.sortColumn.length){var k=[],u,v;for(u=0;u<this.sortColumn.length;u++)v={},this.trigger("requiresComparatorForColumn",v,this.sortColumn[u].column,this.sortColumn[u].descending),k.push(_.bind(v.Ra||e(this.sortColumn[u].column,this.sortColumn[u].descending),this));if(1===k.length)h.call(this,k[0]);else{var w=k.length,q;h.call(this,function(a,b){for(u=0;u<w&&(q=k[u](a,b),
0===q);u++);return q})}g||this.trigger("sort")}return this}})();return k}();
//# sourceMappingURL=DGTable.min.js.map