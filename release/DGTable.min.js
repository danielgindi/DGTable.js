'use strict';var j=void 0,l=!0,p=null,q=!1,s=this,u=jQuery;function v(a){_.contains(["relative","absolute","fixed"],a.css("position"))||a.css("position","relative")}
var y=navigator.userAgent,z=-1!=y.indexOf("MSIE ")?parseFloat(y.substr(y.indexOf("MSIE ")+5)):p,A=z&&10>z,F=_.bind(document.createElement,document),I=p,J=Backbone.View.extend({className:"dgtable-wrapper",tagName:"div",VERSION:"0.4.9",initialize:function(a){function b(a){a=a||event;a=a.toElement||a.relatedTarget;a==this||jQuery.contains(this,a)||(!this.__previewEl||!(a==this.__previewEl||jQuery.contains(this.__previewEl,a)))&&i.Ga.call(i,this)}function c(a){a=a||event;a=a.fromElement||a.relatedTarget;
a==this||jQuery.contains(this,a)||(!this.__previewEl||!(a==this.__previewEl||jQuery.contains(this.__previewEl,a)))&&i.Ha.call(i,this)}a=a||{};a.columns=a.columns||[];this.U=_.bind(this.La,this);this.K=_.bind(this.Ka,this);this.ta=_.bind(this.Ma,this);this.$el.on("dragend",this.K);this.s=l;var d=this.a={};d.virtualTable=a.virtualTable===j?l:!!a.virtualTable;d.rowsBufferSize=a.rowsBufferSize||3;d.minColumnWidth=Math.max(a.minColumnWidth||35,0);d.resizeAreaWidth=a.resizeAreaWidth||8;d.resizableColumns=
a.resizableColumns===j?l:!!a.resizableColumns;d.movableColumns=a.movableColumns===j?l:!!a.movableColumns;d.sortableColumns=a.sortableColumns===j?1:parseInt(a.sortableColumns,10)||1;d.adjustColumnWidthForSortArrow=a.adjustColumnWidthForSortArrow===j?l:!!a.adjustColumnWidthForSortArrow;d.convertColumnWidthsToRelative=a.convertColumnWidthsToRelative===j?q:!!a.convertColumnWidthsToRelative;d.cellClasses=a.cellClasses===j?"":a.cellClasses;d.resizerClassName=a.resizerClassName===j?"dgtable-resize":a.resizerClassName;
d.tableClassName=a.tableClassName===j?"dgtable":a.tableClassName;d.allowCellPreview=a.allowCellPreview===j?l:a.allowCellPreview;d.allowHeaderCellPreview=a.allowHeaderCellPreview===j?l:a.allowHeaderCellPreview;d.cellPreviewClassName=a.cellPreviewClassName===j?"dgtable-cell-preview":a.cellPreviewClassName;d.cellPreviewAutoBackground=a.cellPreviewAutoBackground===j?l:a.cellPreviewAutoBackground;d.comparatorCallback=a.comparatorCallback===j?p:a.comparatorCallback;d.width=a.width===j?J.Width.NONE:a.width;
d.relativeWidthGrowsToFillWidth=a.relativeWidthGrowsToFillWidth===j?l:!!a.relativeWidthGrowsToFillWidth;d.relativeWidthShrinksToFillWidth=a.relativeWidthShrinksToFillWidth===j?q:!!a.relativeWidthShrinksToFillWidth;d.cellFormatter=a.cellFormatter||function(a){return a};d.headerCellFormatter=a.headerCellFormatter||function(a){return a};d.height=a.height;var f,e,g,h,m=new J.Ea;for(h=f=0;f<a.columns.length;f++)g=a.columns[f],e=this.ia(g),g.order!==j?(g.order>h&&(h=g.order+1),e.order=g.order):e.order=
h++,m.push(e);m.ba();this.d=m;this.b=m.G();this._ensureVisibleColumns();g=[];if(a.sortColumn&&((h=a.sortColumn)&&"object"!==typeof h&&(h=[h]),h instanceof Array||"object"===typeof h)){f=0;a=h.length;for(e;f<a;f++)m=h[f],"string"===typeof m&&(m={column:m,descending:q}),e=this.d.get(m.column),g.push({column:m.column,comparePath:e.comparePath,descending:m.descending})}this.c=new J.Fa({sortColumn:g,columns:this.columns});this.listenTo(this.c,"requiresComparatorForColumn",_.bind(function(a,b,c){d.comparatorCallback&&
(a.Sa=d.comparatorCallback(b,c))},this));this.h=p;var i=this;"addEventListener"in window?(this.P=function(a){a.__hoverIn||a.addEventListener("mouseover",a.__hoverIn=_.bind(c,a));return this},this.W=function(a){a.__hoverIn&&(a.removeEventListener("mouseover",a.__hoverIn),a.__hoverIn=p);return this},this.Q=function(a){a.__hoverOut||a.addEventListener("mouseout",a.__hoverOut=_.bind(b,a.__cell||a));return this},this.X=function(a){a.__hoverOut&&(a.removeEventListener("mouseout",a.__hoverOut),a.__hoverOut=
p);return this}):(this.P=function(a){a.__hoverIn||a.attachEvent("mouseover",a.__hoverIn=_.bind(c,a));return this},this.W=function(a){a.__hoverIn&&(a.detachEvent("mouseover",a.__hoverIn),a.__hoverIn=p);return this},this.Q=function(a){a.__hoverOut||a.attachEvent("mouseout",a.__hoverOut=_.bind(b,a.__cell||a));return this},this.X=function(a){a.__hoverOut&&(a.detachEvent("mouseout",a.__hoverOut),a.__hoverOut=p);return this})},va:function(a,b){var c=parseFloat(a),d=K.AUTO;0<c&&(a==c+"%"?(d=K.RELATIVE,c/=
100):0<c&&1>c?d=K.RELATIVE:(c<b&&(c=b),d=K.ABSOLUTE));return{width:c,mode:d}},ia:function(a){var b=this.va(a.width,a.ignoreMin?0:this.a.minColumnWidth),b={name:a.name,label:a.label===j?a.name:a.label,width:b.width,k:b.mode,resizable:a.resizable===j?l:a.resizable,sortable:a.sortable===j?l:a.sortable,movable:a.movable===j?l:a.movable,visible:a.visible===j?l:a.visible,cellClasses:a.cellClasses===j?this.a.cellClasses:a.cellClasses,ignoreMin:a.ignoreMin===j?q:!!a.ignoreMin};b.dataPath=a.dataPath===j?b.name:
a.dataPath;b.comparePath=a.comparePath===j?b.dataPath:a.comparePath;"string"===typeof b.dataPath&&(b.dataPath=b.dataPath.split("."));"string"===typeof b.comparePath&&(b.comparePath=b.comparePath.split("."));return b},remove:function(){if(this.ca)return this;this.i&&(this.i.remove(),this.i=p);if(this.l)for(var a=this.l[0].childNodes,b=0,c=a.length;b<c;b++)this.trigger("rowdestroy",a[b]);J.__super__.remove.apply(this,arguments);this.ha().Qa();this.g&&this.g.empty();this.l&&this.l.empty();if(this.n){for(a=
0;a<this.n.length;a++)b=this.n[a],b.Da.removeEventListener("message",b.Ca,q);this.n.length=0}this.c.length=this.d.length=0;this.I&&clearTimeout(this.I);for(var d in this)this.hasOwnProperty(d)&&(this[d]=p);this.ca=l;return this},close:function(){return this.remove()},Qa:function(){var a,b,c,d,f,e;if(this.r){a=0;b=this.r.childNodes;for(c=b.length;a<c;a++){d=b[a];f=0;d=d.childNodes;for(e=d.length;f<e;f++)this.W(d[f])}}if(this.e){a=0;b=this.e.childNodes;for(c=b.length;a<c;a++)this.m(b[a])}return this},
m:function(a){for(var b=0,a=a.childNodes,c=a.length;b<c;b++)this.W(a[b]);return this},render:function(){var a=this,b=this.a;if(!this.el.offsetParent)return this.I||(this.I=setTimeout(function(){this.I=p;!a.ca&&a.el.offsetParent&&a.render()})),a;if(this.s===l){this.s=q;b.width==J.Width.AUTO&&a.ga();var c=a.f?a.f.scrollTop:0,d=a.f?a.f.scrollLeft:0;a.tableWidthChanged(l,q).Oa();if(b.virtualTable)a.t();else{var f=(a.h||a.c).length,f=a.v(0,f-1);a.l.html("").append(f);a.t(l)}a.f.scrollTop=c;a.f.scrollLeft=
d;a.J.scrollLeft=d;this.u(l);for(f=0;f<this.c.sortColumn.length;f++)this.wa(this.c.sortColumn[f].column,this.c.sortColumn[f].descending);b.adjustColumnWidthForSortArrow&&this.c.sortColumn.length?this.tableWidthChanged(l):b.virtualTable||this.tableWidthChanged();this.trigger("renderskeleton");b.virtualTable&&(this.g.on("scroll",_.bind(this.Na,this)),this.render())}else if(b.virtualTable){f=(a.h||a.c).length;d=this.f.scrollTop;c=Math.floor((d-this.A)/this.p)+1-b.rowsBufferSize;b=Math.ceil((d-this.A+
this.ya)/this.p)+b.rowsBufferSize;0>c&&(c=0);b>=f&&(b=f-1);var e=-1,d=-1,g=a.e.childNodes;g.length&&(e=g[0].rowIndex,d=g[g.length-1].rowIndex);if(-1!==e&&e<c){for(var h=Math.min(d+1,c)-e,f=0;f<h;f++)a.trigger("rowdestroy",g[0]),a.m(g[0]),a.e.removeChild(g[0]);e+=h;e>d&&(e=d=-1)}else if(-1!==d&&d>b){h=d-Math.max(e-1,b);for(f=0;f<h;f++)a.trigger("rowdestroy",g[g.length-1]),a.m(g[g.length-1]),a.e.removeChild(g[g.length-1]);d<e&&(e=d=-1)}c<e&&(f=a.v(c,Math.min(b,e-1)),a.l.prepend(f));if(b>d||-1===d)f=
a.v(-1===d?c:d+1,b),a.l.append(f)}this.trigger("render");return this},clearAndRender:function(){this.s=l;return this.render()},v:function(a,b){var c=this.a,d=c.tableClassName,f=d+"-row",d=d+"-cell",e=this.h||this.c,g=!!this.h,h=c.allowCellPreview,m=this.b,i=c.cellFormatter,c=c.virtualTable,k=this.A,n=this.p,r,t,w,B,G,N=m.length;r=0;for(var x;r<N;r++)x=m[r],x.Ia=x.q||x.j;for(var O=document.createDocumentFragment(),R=this.D()?"right":"left",E=a,S=e.length,H,C,D,P;E<S&&E<=b;E++){H=e[E];t=g?H.__i:E;C=
F("div");C.className=f;C.rowIndex=E;C.physicalRowIndex=t;for(r=0;r<N;r++){x=m[r];D=F("div");D.columnName=x.name;D.setAttribute("data-column",x.name);D.className=d;D.style.width=x.Ia+"px";x.cellClasses&&(D.className+=" "+x.cellClasses);h&&this.P(D);P=D.appendChild(F("div"));w=x.dataPath;G=H[w[0]];for(B=1;B<w.length;B++)G=G&&G[w[B]];w=i(G,x.name,H);w===j&&(w="");P.innerHTML=w;C.appendChild(D)}c&&(r=0<E?k+(E-1)*n:0,C.style.position="absolute",C.style[R]=0,C.style.top=r+"px");O.appendChild(C);this.trigger("rowcreate",
E,t,C,H)}return O},R:function(){if(this.e){var a=(this.h||this.c).length,b=this.p*a;a&&(b+=this.A-this.p,b+=this.Y-this.p);1>b&&(b=1);this.e.style.height=b+"px"}return this},ea:function(){var a=this.a.tableClassName,b=a+"-cell",c=this.b,d=c.length,f,e,g,h=u("<div>").addClass(a+"-row").css("float","left");for(e=0;e<d;e++)g=c[e],f=F("div"),f.className=b,f.style.width=g.j+"px",g.cellClasses&&(f.className+=" "+g.cellClasses),f.appendChild(F("div")),h.append(f);a=u("<div>").addClass(this.className).css({"z-index":-1,
position:"absolute",left:"0",top:"-9999px","float":"left",width:"1px",overflow:"hidden"}).append(u("<div>").addClass(a).append(u("<div>").addClass(a+"-body").css("width",99999).append(h)));a.appendTo(document.body);c=u('<div style="border:1px solid #000;width:0;height:0;position:absolute;left:0;top:-9999px">').appendTo(document.body);b=parseFloat(c.css("border-width"));b=Math.round(b)!=b;c.remove();h=h.outerWidth();h-=this.z||0;b&&h++;a.remove();return h},addColumn:function(a,b){var c=this.d;if(a&&
!c.get(a.name)){var d=p;b!==j&&(d=c.get(b)||c.N(b));var f=this.ia(a);f.order=d?d.order:c.Ba()+1;for(var d=c.Ba(),e=f.order,g;d>=e;d--)(g=c.N(d))&&g.order++;c.push(f);c.ba();this.s=l;this.b=c.G();this._ensureVisibleColumns();this.render();this.trigger("addcolumn",f.name)}return this},removeColumn:function(a){var b=this.d,c=b.indexOf(a);-1<c&&(b.splice(c,1),b.ba(),this.b=b.G(),this._ensureVisibleColumns().clearAndRender(),this.trigger("removecolumn",a));return this},filter:function(a,b,c){if(this.d.get(a)){var d=
!!this.h;this.h&&(this.h=p);this.h=this.c.Aa(a,b,c);if(d||this.h)this.clearAndRender(),this.trigger("filter",a,b,c)}return this},w:function(){this.h&&(this.h=p,this.h=this.c.Aa(this.c.F,this.c.M,this.c.aa));return this},setColumnLabel:function(a,b){var c=this.d.get(a);if(c&&(c.label=b===j?c.name:b,c.element))for(var d=0;d<c.element[0].firstChild.childNodes.length;d++){var f=c.element[0].firstChild.childNodes[d];if(3===f.nodeType){f.textContent=c.label;break}}return this},moveColumn:function(a,b){var c=
this.a,d=this.d,f,e;"string"===typeof a?f=d.get(a):"number"===typeof a&&(f=this.b[a]);"string"===typeof b?e=d.get(b):"number"===typeof b&&(e=this.b[b]);if(f&&e&&a!==b){var g=f.order,h=e.order;this.b=d.moveColumn(f,e).G();this._ensureVisibleColumns();if(c.virtualTable)this.clearAndRender().t(l);else{d=this.o.find(">div."+c.tableClassName+"-header-cell");c=g<h?h+1:h;d[0].parentNode.insertBefore(d[g],d[c]);d=this.b[g];d=(d.q||d.j)+"px";e=this.b[h];e=(e.q||e.j)+"px";for(var m=this.l[0].childNodes,i=0,
k=m.length,n;i<k;i++)n=m[i],1===n.nodeType&&(n.insertBefore(n.childNodes[g],n.childNodes[c]),n.childNodes[h].firstChild.style.width=e,n.childNodes[g].firstChild.style.width=d)}this.trigger("movecolumn",f.name,g,h)}return this},sort:function(a,b,c){var d=this.a,f=this.d.get(a);if(f){var e=this.c.sortColumn;e.length&&e[e.length-1].column==a&&(b=b===j?!e[e.length-1].descending:b);if(c){for(a=0;a<e.length;a++)if(e[a].column==f.name){a<e.length-1?e.length=0:e.splice(e.length-1,1);break}if(0<d.sortableColumns&&
e.length>=d.sortableColumns||e.length>=this.b.length)e.length=0}else e.length=0;e.push({column:f.name,comparePath:f.comparePath,descending:!!(b===j?q:b)});this.ga();for(a=0;a<e.length;a++)this.wa(e[a].column,e[a].descending);d.adjustColumnWidthForSortArrow&&!d.s&&this.tableWidthChanged(l);if(d.virtualTable)for(;this.e&&this.e.firstChild;)this.trigger("rowdestroy",this.e.firstChild),this.m(this.e.firstChild),this.e.removeChild(this.e.firstChild);else this.s=l;this.c.sortColumn=e;this.c.sort(!!this.h);
this.w();b=[];for(a=0;a<e.length;a++)b.push({column:e[a].column,descending:e[a].descending});this.trigger("sort",b)}return this},resort:function(){var a=this.c.sortColumn;if(a.length){this.c.sortColumn=a;this.c.sort(!!this.h);this.w();for(var b=[],c=0;c<a.length;c++)b.push({column:a[c].column,descending:a[c].descending});this.trigger("sort",b)}return this},_ensureVisibleColumns:function(){0===this.b.length&&this.d.length&&(this.d[0].visible=l,this.b.push(this.d[0]),this.trigger("showcolumn",this.d[0].name));
return this},setColumnVisible:function(a,b){var c=this.d.get(a);c&&!!c.visible!=!!b&&(c.visible=!!b,this.b=this.d.G(),this.trigger(b?"showcolumn":"hidecolumn",a),this._ensureVisibleColumns(),this.clearAndRender());return this},isColumnVisible:function(a){return(a=this.d.get(a))?a.visible:q},setMinColumnWidth:function(a){var b=this.a,a=Math.max(a,0);b.minColumnWidth!=a&&(b.minColumnWidth=a,this.tableWidthChanged(l));return this},getMinColumnWidth:function(){return this.a.minColumnWidth},setSortableColumns:function(a){var b=
this.a;if(b.sortableColumns!=a&&(b.sortableColumns=a,this.g))for(var a=this.o.find(">div."+b.tableClassName+"-header-cell"),c=0;c<a.length;c++)u(a[0])[0<b.sortableColumns&&this.b[c].sortable?"addClass":"removeClass"]("sortable");return this},getSortableColumns:function(){return this.a.sortableColumns},setMovableColumns:function(a){var b=this.a,a=!!a;b.movableColumns!=a&&(b.movableColumns=a);return this},getMovableColumns:function(){return this.a.movableColumns},setResizableColumns:function(a){var b=
this.a,a=!!a;b.resizableColumns!=a&&(b.resizableColumns=a);return this},getResizableColumns:function(){return this.a.resizableColumns},setComparatorCallback:function(a){var b=this.a;b.comparatorCallback!=a&&(b.comparatorCallback=a);return this},setColumnWidth:function(a,b){var c=this.va(b,a.ignoreMin?0:this.a.minColumnWidth),d=this.d.get(a);if(d){var f=this.L(d);d.width=c.width;d.k=c.mode;c=this.L(d);f!=c&&this.tableWidthChanged(l);this.trigger("columnwidth",d.name,f,c)}return this},getColumnWidth:function(a){return(a=
this.d.get(a))?this.L(a):p},getColumnConfig:function(a){return(a=this.d.get(a))?{order:a.order,width:this.L(a),visible:a.visible,label:a.label}:p},getColumnsConfig:function(){for(var a={},b=0;b<this.d.length;b++)a[this.d[b].name]=this.getColumnConfig(this.d[b].name);return a},getSortedColumns:function(){for(var a=[],b=0,c;b<this.c.sortColumn.length;b++)c=this.c.sortColumn[b],a.push({column:c.column,descending:c.descending});return a},getHtmlForCell:function(a,b){if(0>a||a>this.c.length-1)return p;
var c=this.d.get(b);if(!c)return p;for(var d=this.c[a],f=c.dataPath,e=d[f[0]],g=1;g<f.length;g++)e=e[f[g]];c=this.a.cellFormatter(e,c.name,d);c===j&&(c="");return c},getDataForRow:function(a){return 0>a||a>this.c.length-1?p:this.c[a]},getRowCount:function(){return this.c?this.c.length:0},getDataForFilteredRow:function(a){return 0>a||a>(this.h||this.c).length-1?p:(this.h||this.c)[a]},getHeaderRowElement:function(){return this.r},C:function(a){return(parseFloat(u.css(a,"padding-left"))||0)+(parseFloat(u.css(a,
"padding-right"))||0)},Ja:function(a){return(parseFloat(u.css(a,"border-left"))||0)+(parseFloat(u.css(a,"border-right"))||0)},fa:function(){var a=this.a,b,c,d;this.g&&(c=this.f?this.f.scrollTop:0,d=this.f?this.f.scrollLeft:0,a.virtualTable&&(b=this.g[0].style.display,this.g[0].style.display="none"));var f=this.$el.width();this.g&&(a.virtualTable&&(this.g[0].style.display=b),this.f.scrollTop=c,this.f.scrollLeft=d,this.J.scrollLeft=d);var e;b=a.tableClassName;if(this.g)c=this.o;else{e=u("<div>").addClass(this.className).css({"z-index":-1,
position:"absolute",left:"0",top:"-9999px"});a=u("<div>").addClass(b+"-header").appendTo(e);c=u("<div>").addClass(b+"-header-row").appendTo(a);for(a=0;a<this.b.length;a++)c.append(u("<div><div></div></div>").addClass(b+"-header-cell").addClass(this.b[a].cellClasses||""));e.appendTo(document.body)}f-=this.Ja(c[0]);b=c.find(">div."+b+"-header-cell");for(a=0;a<b.length;a++)u(b[a].firstChild),c=u(b[a]),d="border-box"===c.css("boxSizing"),f-=(parseFloat(c.css("border-right-width"))||0)+(parseFloat(c.css("border-left-width"))||
0)+(d?0:this.C(c[0]));e&&e.remove();return f},tableWidthChanged:function(a,b){var c=this.a,d=this.fa(),f=d,e=0,b=b===j||b,g=0;this.e||(b=q);b&&(g=parseFloat(this.e.style.minWidth)||0);if(f!=I||a){I=d;var h,d=0,m=[],i,k,n=0;for(i=0;i<this.d.length;i++)this.d[i].q=p;for(i=0;i<this.b.length;i++)if(k=this.b[i],k.k===K.ABSOLUTE)h=k.width,h+=k.Z||0,!k.ignoreMin&&h<c.minColumnWidth&&(h=c.minColumnWidth),f-=h,d+=h,h!==k.j&&(k.j=h,m.push(i));else if(k.k===K.AUTO){var r=k.label,t=this.a.tableClassName;h=j;
r=u("<div>").addClass(this.$el).append(u("<div>").addClass(t+"-header").append(u("<div>").addClass(t+"-header-row").append(h=u("<div>").addClass(t+"-header-cell").append(u("<div>").text(r))))).css({position:"absolute",top:"-9999px",visibility:"hidden"});r.appendTo(document.body);h=h.width();r.remove();h+=20;h+=k.Z||0;!k.ignoreMin&&h<c.minColumnWidth&&(h=c.minColumnWidth);f-=h;d+=h;h!==k.j&&(k.j=h,c.convertColumnWidthsToRelative||m.push(i))}else k.k===K.RELATIVE&&(n+=k.width,e++);if(c.convertColumnWidthsToRelative)for(i=
0;i<this.b.length;i++)k=this.b[i],k.k===K.AUTO&&(k.k=K.RELATIVE,f+=k.j,k.width=k.j/d,n+=k.width,e++);if(e&&(1>n&&c.relativeWidthGrowsToFillWidth||1<n&&c.relativeWidthShrinksToFillWidth))for(i=0;i<this.b.length;i++)k=this.b[i],k.k===K.RELATIVE&&(k.width/=n);d=f;c=c.minColumnWidth/d;isNaN(c)&&(c=0);if(0<c){for(i=n=0;i<this.b.length;i++)k=this.b[i],k.k===K.RELATIVE&&(!k.ignoreMin&&k.width<c)&&(n+=c-k.width,k.width=c);for(i=0;i<this.b.length;i++)k=this.b[i],k.k===K.RELATIVE&&(!k.ignoreMin&&k.width>c&&
0<n)&&(h=Math.min(n,k.width-c),k.width-=h,n-=h)}for(i=0;i<this.b.length;i++)k=this.b[i],k.k===K.RELATIVE&&(h=Math.round(d*k.width),f-=h,e--,0===e&&1===f&&(h++,f--),-1===f&&(h--,f++),h!==k.j&&(k.j=h,m.push(i)));this.b[this.b.length-1].q=this.b[this.b.length-1].j-(this.z||0);if(b){f=this.ea();g<f&&this.u(q);for(i=0;i<m.length;i++)this.Pa(m[i]);g>f&&this.u(q)}}return this},tableHeightChanged:function(){var a=this.a;if(!this.g)return this;var b=this.$el.innerHeight()-(parseFloat(this.g.css("border-top-width"))||
0)-(parseFloat(this.g.css("border-bottom-width"))||0);b!=a.height&&(a.height=b,this.e&&(this.e.style.height=Math.max(a.height-this.o.outerHeight(),1)+"px"),a.virtualTable&&this.clearAndRender());return this},addRows:function(a,b){if(a){this.c.add(a);if(this.a.virtualTable){for(;this.e.firstChild;)this.trigger("rowdestroy",this.e.firstChild),this.m(this.e.firstChild),this.e.removeChild(this.e.firstChild);b&&this.c.sortColumn.length?this.resort():this.w();this.R().t().u(q);this.render()}else if(this.h){var c=
this.h.length;this.w();(!this.h||this.h.length!=c)&&this.clearAndRender()}else this.l&&(c=this.c.length-a.length,c=this.v(c,c+a.length-1),this.e.appendChild(c),this.t().u(l));this.trigger("addrows",a.length,q)}return this},removeRow:function(a,b){if(0>a||a>this.c.length-1)return this;this.c.splice(a,1);b=b===j?l:!!b;if(this.h)this.w(),this.s=l,b&&this.render();else if(b){var c=this.e.childNodes;if(this.a.virtualTable){for(var d=0;d<c.length;d++)c[d].rowIndex>=a&&(this.trigger("rowdestroy",c[d]),this.m(c[d]),
this.e.removeChild(c[d]),d--);this.R().t().render().u(q)}else{for(d=0;d<c.length;d++)if(c[d].rowIndex===a){this.trigger("rowdestroy",c[d]);this.m(c[d]);this.e.removeChild(c[d]);break}this.render().t().u(l)}}return this},refreshRow:function(a){if(0>a||a>this.c.length-1)return this;var b=-1;if(this.h&&-1===(b=_.indexOf(this.h,this.c[a])))return this;-1===b&&(b=a);var c=this.e.childNodes;if(this.a.virtualTable){for(var d=q,f=0;f<c.length;f++)if(c[f].physicalRowIndex===a){d=l;this.trigger("rowdestroy",
c[f]);this.m(c[f]);this.e.removeChild(c[f]);break}d&&(a=this.v(b,b),this.e.insertBefore(a,c[f]||p))}else this.trigger("rowdestroy",c[b]),this.m(c[b]),this.e.removeChild(c[b]),a=this.v(b,b),this.e.insertBefore(a,c[b]||p);return this},getRowElement:function(a){if(0>a||a>this.c.length-1)return p;var b=-1;if(this.h&&-1===(b=_.indexOf(this.h,this.c[a])))return this;-1===b&&(b=a);var c=this.e.childNodes;if(this.a.virtualTable)for(b=0;b<c.length;b++){if(c[b].physicalRowIndex===a)return c[b]}else return c[b];
return p},refreshAllVirtualRows:function(){if(this.a.virtualTable){for(var a=[],b=this.e.childNodes,c=0,d=b.length;c<d;c++)a.push(b[c].physicalRowIndex),this.trigger("rowdestroy",b[c]),this.m(b[c]),this.e.removeChild(b[c]),c--,d--;for(c=0;c<a.length;c++)b=this.v(a[c],a[c]),this.e.appendChild(b)}return this},setRows:function(a,b){this.scrollTop=this.$el.find(".table").scrollTop();this.c.reset(a);b&&this.c.sortColumn.length?this.resort():this.w();this.clearAndRender().trigger("addrows",a.length,l);
return this},getUrlForElementContent:function(a){if(a=document.getElementById(a)){a=a.textContent;if("function"===typeof Blob)a=new Blob([a]);else{var b=s.BlobBuilder||s.WebKitBlobBuilder||s.Wa||s.Va;if(!b)return p;b=new b;b.append(a);a=b.getBlob()}return(s.URL||s.webkitURL).createObjectURL(a)}return p},isWorkerSupported:function(){return s.Worker instanceof Function},createWebWorker:function(a,b,c){if(this.isWorkerSupported()){var d=this,a=new Worker(a),f=function(a){a.data.append?d.addRows(a.data.rows,
c):d.setRows(a.data.rows,c)};a.addEventListener("message",f,q);this.n||(this.n=[]);this.n.push({Da:a,Ca:f});(b||b===j)&&a.postMessage(p);return a}return p},unbindWebWorker:function(a){if(this.n)for(var b=0;b<this.n.length;b++)this.n[b].Da==a&&(a.removeEventListener("message",this.n[b].Ca,q),this.n.splice(b,1),b--);return this},abortCellPreview:function(){this.hideCellPreview();return this},cancelColumnResize:function(){this.i&&(this.i.remove(),this.i=p,u(document).off("mousemove.dgtable",this.U).off("mouseup.dgtable",
this.K));return this},Na:function(){this.render()},Ma:function(){this.J.scrollLeft=this.f.scrollLeft},T:function(a){var b=this.a,c=this.D(),d=u(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName),f=d[0];f.__cell&&(f=f.__cell,d=u(f));for(var e=d[0].previousSibling;e&&1!=e.nodeType;)e=e.previousSibling;var g=!e,a=((a.pageX!=p?a.pageX:a.originalEvent.pageX)||a.originalEvent.clientX)-d.offset().left;if(c){if(!g&&d.outerWidth()-a<=b.resizeAreaWidth/2)return e.columnName;
if(a<=b.resizeAreaWidth/2)return f.columnName}else{if(!g&&a<=b.resizeAreaWidth/2)return e.columnName;if(d.outerWidth()-a<=b.resizeAreaWidth/2)return f.columnName}return p},ua:function(a){var b=this;if(!b.B){var c=a.originalEvent.changedTouches[0];b.B=c.identifier;var d=u(a.currentTarget),f={x:c.pageX,y:c.pageY},e=f,g=function(){b.B=p;d.off("touchend").off("touchcancel");clearTimeout(m)},h=function(b){var c=u.Event(b),d=Array.prototype.slice.call(arguments,1);u.each("target clientX clientY offsetX offsetY screenX screenY pageX pageY which".split(" "),
function(){c[this]=a[this];for(var b=0;b<d.length;b++)d[b][this]!=p&&(c[this]=d[b][this])});return c};d.trigger(h("mousedown",a.originalEvent.changedTouches[0],{which:1}));var m=setTimeout(function(){g();d.one("touchend",function(a){a.preventDefault();d.off("touchend").off("touchcancel")}).one("touchcancel",function(){d.off("touchend").off("touchcancel")});9>Math.sqrt(Math.pow(Math.abs(e.x-f.x),2)+Math.pow(Math.abs(e.y-f.y),2))&&(b.cancelColumnResize(),d.trigger(h("mouseup",a.originalEvent.changedTouches[0],
{which:3})))},500);d.on("touchend",function(a){var c=_.find(a.originalEvent.changedTouches,function(a){return a.identifier===b.B});if(c&&(g(),a.preventDefault(),e={x:c.pageX,y:c.pageY},9>Math.sqrt(Math.pow(Math.abs(e.x-f.x),2)+Math.pow(Math.abs(e.y-f.y),2))||b.i))d.trigger(h("mouseup",c,{which:1})),d.trigger(h("click",c,{which:1}))}).on("touchcancel",function(){g()}).on("touchmove",function(a){var c=_.find(a.originalEvent.changedTouches,function(a){return a.identifier===b.B});c&&(e={x:c.pageX,y:c.pageY},
b.i&&(a.preventDefault(),d.trigger(h("mousemove",c))))})}},oa:function(a){if(1!==a.which)return this;var b=this.a,c=this.T(a);if(c){var d=this.d.get(c);if(!b.resizableColumns||!d||!d.resizable)return q;c=this.D();this.i&&u(this.i).remove();this.i=u("<div></div>").addClass(b.resizerClassName).css({position:"absolute",display:"block","z-index":-1,visibility:"hidden",width:"2px",background:"#000",opacity:0.7}).appendTo(this.$el);var b=d.element,f=this.i.parent(),d=b.offset(),e=f.offset();8===z&&(d=b.offset());
e.left+=parseFloat(f.css("border-left-width"))||0;e.top+=parseFloat(f.css("border-top-width"))||0;d.left-=e.left;d.top-=e.top;d.top-=parseFloat(b.css("border-top-width"))||0;f=this.i.outerWidth();c?d.left-=Math.ceil((parseFloat(b.css("border-left-width"))||0)/2):(d.left+=b.outerWidth(),d.left+=Math.ceil((parseFloat(b.css("border-right-width"))||0)/2));d.left-=Math.ceil(f/2);this.i.css({"z-index":"10",visibility:"visible",left:d.left,top:d.top,height:this.$el.height()})[0].columnName=b[0].columnName;
try{this.i[0].style.zIndex=""}catch(g){}u(document).on("mousemove.dgtable",this.U);u(document).on("mouseup.dgtable",this.K);a.preventDefault()}},qa:function(a){var b=this.a;if(b.resizableColumns){var c=this.T(a);u(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName)[0].style.cursor=!c||!this.d.get(c).resizable?"":"e-resize"}},ra:function(a){if(3===a.which){var b=this.a,b=u(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName),c=b.offset();
c.width=b.outerWidth();c.height=b.outerHeight();this.trigger("headercontextmenu",b[0].columnName,a.pageX,a.pageY,c)}return this},pa:function(a){var b=this.a;u(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName)[0].style.cursor=""},ja:function(a){if(!this.T(a)){var b=this.a,a=u(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName)[0];b.sortableColumns&&(b=this.d.get(a.columnName))&&b.sortable&&this.sort(a.columnName,j,l).render()}},
sa:function(a){var b=this.a;if(b.movableColumns){var b=u(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName),c=this.d.get(b[0].columnName);c&&c.movable?(b[0].style.opacity=0.35,this.S=161061273*Math.random(),a.originalEvent.dataTransfer.setData("text",JSON.stringify({za:this.S,column:c.name}))):a.preventDefault()}else a.preventDefault()},La:function(a){var b=this.d.get(this.i[0].columnName),c=this.D(),d=b.element,f=this.i.parent(),e=d.offset(),g=f.offset();g.left+=
parseFloat(f.css("border-left-width"))||0;e.left-=g.left;f=this.i.outerWidth();a=a.pageX-g.left;e=e.left;c?(e+=d.outerWidth(),e-=Math.ceil((parseFloat(d.css("border-right-width"))||0)/2),e-=Math.ceil(f/2),e-=b.ignoreMin?0:this.a.minColumnWidth,e-=this.C(d[0]),a>e&&(a=e)):(e+=Math.ceil((parseFloat(d.css("border-right-width"))||0)/2),e-=Math.ceil(f/2),e+=b.ignoreMin?0:this.a.minColumnWidth,e+=this.C(d[0]),a<e&&(a=e));this.i.css("left",a+"px")},Ka:function(a){if(this.i){u(document).off("mousemove.dgtable",
this.U).off("mouseup.dgtable",this.K);var b=this.d.get(this.i[0].columnName),c=this.D(),d=b.element,f=this.i.parent(),e=d.offset(),g=f.offset();g.left+=parseFloat(f.css("border-left-width"))||0;e.left-=g.left;f=this.i.outerWidth();a=a.pageX-g.left;e=g=e.left;e=0;c?(a+=this.C(d[0]),g+=d.outerWidth(),g-=Math.ceil((parseFloat(d.css("border-right-width"))||0)/2),g-=Math.ceil(f/2),e=g-(b.ignoreMin?0:this.a.minColumnWidth),a>e&&(a=e),e=g-a):(a-=this.C(d[0]),g+=Math.ceil((parseFloat(d.css("border-right-width"))||
0)/2),g-=Math.ceil(f/2),e=g+(b.ignoreMin?0:this.a.minColumnWidth),a<e&&(a=e),e=a-g);this.i.remove();this.i=p;c=e;if(b.k===K.RELATIVE){c=this.fa();for(d=0;d<this.b.length;d++)f=this.b[d],f.k!=K.RELATIVE&&(c-=f.j);c=100*(e/c);c+="%"}this.setColumnWidth(b.name,c)}else a.target.style.opacity=p},ka:function(a){var b=this.a;if(b.movableColumns){var c=a.originalEvent.dataTransfer.getData("text"),c=c?JSON.parse(c):p,a=u(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName);
if(!c||this.S==c.za&&a.columnName!==c.column)(c=this.d.get(a[0].columnName))&&(c.movable||c!=this.b[0])&&u(a).addClass("drag-over")}},ma:function(a){a.preventDefault()},la:function(a){var b=this.a,b=u(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName);u(b[0].firstChild).has(a.originalEvent.relatedTarget).length||b.removeClass("drag-over")},na:function(a){a.preventDefault();var b=this.a,c=JSON.parse(a.originalEvent.dataTransfer.getData("text")),a=u(a.target).closest("div."+
b.tableClassName+"-header-cell,div."+b.cellPreviewClassName);if(b.movableColumns&&c.za==this.S){var b=c.column,c=a[0].columnName,d=this.d.get(b),f=this.d.get(c);d&&(f&&d.movable&&(f.movable||f!=this.b[0]))&&this.moveColumn(b,c)}u(a).removeClass("drag-over")},ga:function(){if(this.g){var a=this.o.find(">div."+this.a.tableClassName+"-header-cell.sorted"),b=a.find(">div>.sort-arrow");_.forEach(b,_.bind(function(a){if(a=this.d.get(a.parentNode.parentNode.columnName))a.Z=0},this));b.remove();a.removeClass("sorted").removeClass("desc")}return this},
wa:function(a,b){var c=this.d.get(a),d=F("span");d.className="sort-arrow";c.element&&(c.element.addClass(b?"sorted desc":"sorted"),c.element[0].firstChild.insertBefore(d,c.element[0].firstChild.firstChild));c.k!=K.RELATIVE&&this.a.adjustColumnWidthForSortArrow&&(c.Z=d.scrollWidth+(parseFloat(u(d).css("margin-right"))||0)+(parseFloat(u(d).css("margin-left"))||0));return this},Pa:function(a){var b=this.o.find("div."+this.a.tableClassName+"-header-cell"),c=this.d.get(b[a].columnName);if(c){b[a].style.width=
(c.q||c.j)+"px";for(var b=(c.q||c.j)+"px",c=this.l[0].childNodes,d=0,f=c.length,e;d<f;d++)e=c[d],1===e.nodeType&&(e.childNodes[a].style.width=b)}return this},ha:function(){this.o&&(this.trigger("headerrowdestroy",this.r),this.o.find("div."+this.a.tableClassName+"-header-cell").remove(),this.r=this.o=p);return this},Oa:function(){function a(a){a.preventDefault()}this.ha();this.B=p;var b=this.a,c=b.allowCellPreview,d=b.allowHeaderCellPreview,f=b.tableClassName,e=f+"-header-cell",g=F("div"),h=u(g),m=
F("div"),i=u(m);g.className=f+"-header";m.className=f+"-header-row";var k;A&&(k=function(a){a.preventDefault();this.Ta();return q});for(var n=0,r,t,w,B;n<this.b.length;n++)if(r=this.b[n],r.visible){t=F("div");B=u(t);t.draggable=l;t.className=e;t.style.width=r.j+"px";b.sortableColumns&&r.sortable&&(t.className+=" sortable");t.columnName=r.name;t.setAttribute("data-column",r.name);w=F("div");w.innerHTML=b.headerCellFormatter(r.label,r.name);t.appendChild(w);c&&d&&this.P(t);m.appendChild(t);this.b[n].element=
B;B.on("mousedown.dgtable",_.bind(this.oa,this)).on("mousemove.dgtable",_.bind(this.qa,this)).on("mouseup.dgtable",_.bind(this.ra,this)).on("mouseleave.dgtable",_.bind(this.pa,this)).on("touchstart.dgtable",_.bind(this.ua,this)).on("dragstart.dgtable",_.bind(this.sa,this)).on("click.dgtable",_.bind(this.ja,this)).on("contextmenu.dgtable",a);u(w).on("dragenter.dgtable",_.bind(this.ka,this)).on("dragover.dgtable",_.bind(this.ma,this)).on("dragleave.dgtable",_.bind(this.la,this)).on("drop.dgtable",_.bind(this.na,
this));if(A)B.on("selectstart.dgtable",_.bind(k,t));B.css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none"})}this.O&&this.O.remove();this.O=h;this.J=g;this.o=i;this.r=m;i.appendTo(this.O);h.prependTo(this.$el);this.trigger("headerrowcreate",m);this.el.style.overflow=b.width==J.Width.SCROLL?"hidden":"";if(this.g&&b.virtualTable){this.g.remove();if(this.l){c=this.l[0].childNodes;n=0;for(d=c.length;n<
d;n++)this.trigger("rowdestroy",c[n]),this.m(c[n])}this.g=this.f=this.l=this.e=p}v(this.$el);!b.height&&b.virtualTable&&(b.height=this.$el.innerHeight());b.virtualTable&&!this.p&&(g=function(){var a=F("div"),b=a.appendChild(F("div")),c=b.appendChild(F("div"));a.className=f+"-row";b.className=f+"-cell";c.innerHTML="0";a.style.visibility="hidden";a.style.position="absolute";return a},c=u("<div>").addClass(this.className).css({"z-index":-1,position:"absolute",left:"0",top:"-9999px",width:"1px",overflow:"hidden"}).append(u("<div>").addClass(f).append(n=
u("<div>").addClass(f+"-body").css("width",99999))),c.appendTo(document.body),d=g(),e=g(),g=g(),n.append(d,e,g),this.A=u(d).outerHeight(),this.p=u(e).outerHeight(),this.Y=u(g).outerHeight(),this.Ra=Math.min(Math.min(this.A,this.p),this.Y),this.Xa=Math.max(Math.max(this.A,this.p),this.Y),c.remove());this.g||(n=document.createDocumentFragment(),c=F("div"),d=u(c),c.className=b.tableClassName,b.virtualTable&&(c.className+=" virtual"),i=b.height-i.outerHeight(),"border-box"!==d.css("box-sizing")&&(i-=
parseFloat(d.css("border-top-width"))||0,i-=parseFloat(d.css("border-bottom-width"))||0,i-=parseFloat(d.css("padding-top"))||0,i-=parseFloat(d.css("padding-bottom"))||0),this.ya=i,c.style.height=b.height?i+"px":"auto",c.style.display="block",c.style.overflowY="auto",c.style.overflowX=b.width==J.Width.SCROLL?"auto":"hidden",n.appendChild(c),i=F("div"),e=u(i),i.className=b.tableClassName+"-body",this.f=c,this.e=i,this.g=d,this.l=e,b.virtualTable&&(this.Ya=Math.ceil(this.ya/this.Ra)),this.R(),v(e),v(d),
c.appendChild(i),this.el.appendChild(n));return this},t:function(a){var b=this.f.offsetWidth-this.f.clientWidth;if(b!=this.z||a){this.z=b;for(a=0;a<this.d.length;a++)this.d[a].q=p;if(0<this.z){b=this.b.length-1;this.b[b].q=this.b[b].j-this.z;for(var c=this.b[b].q+"px",d=this.e.childNodes,a=0,f=d.length,e;a<f;a++)e=d[a],1===e.nodeType&&(e.childNodes[b].style.width=c);this.r.childNodes[b].style.width=c}}return this},u:function(a){var b=this.a,c=this.ea();this.e.style.minWidth=c+"px";this.r.style.minWidth=
c+(this.z||0)+"px";this.g.off("scroll",this.ta);if(b.width==J.Width.AUTO)this.$el.width(this.g.width(this.l.outerWidth()).outerWidth());else if(b.width==J.Width.SCROLL){if(a){var a=this.f?this.f.scrollTop:0,b=this.f?this.f.scrollLeft:0,c=this.el,d=c.style.display;c.style.display="none";c.offsetHeight;c.style.display=d;this.f.scrollTop=a;this.f.scrollLeft=b;this.J.scrollLeft=b}this.g.on("scroll",this.ta)}return this},D:function(){return"rtl"===this.g.css("direction")},L:function(a){return a.k===K.AUTO?
"auto":a.k===K.RELATIVE?100*a.width+"%":a.width},Ha:function(a){var b=this,c=b.a;this.da=q;var d=a.firstChild;if(1<d.scrollWidth-d.clientWidth||1<d.scrollHeight-d.clientHeight){b.hideCellPreview();var f=u(a),e=u(d),g=F("div"),h=u(g);g.innerHTML=a.innerHTML;g.className=c.cellPreviewClassName;if(c=f.hasClass(c.tableClassName+"-header-cell"))if(g.className+=" header",f.hasClass("sortable")&&(g.className+=" sortable"),g.draggable=l,u(g).on("mousedown",_.bind(b.oa,b)).on("mousemove",_.bind(b.qa,b)).on("mouseup",
_.bind(b.ra,b)).on("mouseleave",_.bind(b.pa,b)).on("touchstart",_.bind(b.ua,b)).on("dragstart",_.bind(b.sa,b)).on("click",_.bind(b.ja,b)).on("contextmenu.dgtable",function(a){a.preventDefault()}),u(g.firstChild).on("dragenter",_.bind(b.ka,b)).on("dragover",_.bind(b.ma,b)).on("dragleave",_.bind(b.la,b)).on("drop",_.bind(b.na,b)),A)u(g).on("selectstart",_.bind(function(a){a.preventDefault();this.Ta();return q},g));var m=parseFloat(f.css("padding-left"))||0,i=parseFloat(f.css("padding-right"))||0,k=
parseFloat(f.css("padding-top"))||0,n=parseFloat(f.css("padding-bottom"))||0,d=d.scrollWidth+a.clientWidth-d.offsetWidth;"border-box"===f.css("boxSizing")?(d-=parseFloat(u(a).css("border-left-width"))||0,d-=parseFloat(u(a).css("border-right-width"))||0,h.css("box-sizing","border-box")):(d-=m+i,h.css({"margin-top":parseFloat(u(a).css("border-top-width"))||0}));if(!b.V){var r=document.createElement("div");r.style.backgroundColor="transparent";b.V=u(r).css("background-color");r.style.backgroundColor=
"rgba(0,0,0,0)";b.xa=u(r).css("background-color")}m={"box-sizing":"content-box",width:d+"px","min-height":f.height()+"px","padding-left":m,"padding-right":i,"padding-top":k,"padding-bottom":n,overflow:"hidden",position:"absolute",zIndex:"-1",left:"0",top:"0",cursor:"default"};i=u(a).css("background-color");if(i===b.V||i===b.xa)i=u(a.parentNode).css("background-color");if(i===b.V||i===b.xa)i="#fff";m["background-color"]=i;h.css(m);b.el.appendChild(g);u(g.firstChild).css({direction:e.css("direction"),
"white-space":e.css("white-space")});c&&h.css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none"});g.rowIndex=a.parentNode.rowIndex;e=g.physicalRowIndex=a.parentNode.physicalRowIndex;g.columnName=b.b[_.indexOf(a.parentNode.childNodes,a)].name;b.trigger("cellpreview",g.firstChild,e==p?p:e,g.columnName,e==p?p:b.c[e]);this.da?h.remove():(m=b.$el,i=m[0]===window?u(document):m,e=f.offset(),k=m.offset(),
c=(n="right"===f.css("float"))?"right":"left",n&&(n=u(window).width(),e.right=n-(e.left+f.outerWidth()),k.right=n-(k.left+m.outerWidth())),e.left-=parseFloat(m.css("border-left-width"))||0,e.right-=parseFloat(m.css("border-right-width"))||0,e.top-=parseFloat(m.css("border-top-width"))||0,e[c]+=parseFloat(u(a).css("border-"+c+"-width"))||0,e.top+=parseFloat(u(a).css("border-top-width"))||parseFloat(u(a).css("border-bottom-width"))||0,e.left-=k.left,e.right-=k.right,e.top-=k.top,k=m-h.outerWidth(),
e[c]=0>e[c]?0:e[c]>k?k:e[c],f=f.outerHeight(),f=i.scrollTop()+m.innerHeight()-f,e.top>f&&(e.top=Math.max(0,f)),f={top:e.top,"z-index":9999},f[c]=e[c],h.css(f),g.__cell=a,b.H=h,a.__previewEl=g,b.Q(a),b.Q(g),h.on("mousewheel",function(a){var c=a.originalEvent,d=c.wheelDelta||-c.detail,a=c.wheelDeltaX||(1==c.axis?d:0),c=c.wheelDeltaY||(2==c.axis?d:0);d&&b.hideCellPreview();c&&b.f.scrollHeight>b.f.clientHeight&&(d=-1*c+b.g.scrollTop(),b.g.scrollTop(d));a&&b.f.scrollWidth>b.f.clientWidth&&(a=-1*a+b.g.scrollLeft(),
b.g.scrollLeft(a))}))}},Ga:function(){this.hideCellPreview()},hideCellPreview:function(){if(this.H){var a=this.H[0];this.H.remove();this.X(a.__cell);this.X(a);a.__cell.__previewEl=p;a.__cell=p;this.trigger("cellpreviewdestroy",a.firstChild,a.physicalRowIndex,a.columnName);this.H=p}this.da=q;return this}}),K={AUTO:0,ABSOLUTE:1,RELATIVE:2};J.Width={NONE:"none",AUTO:"auto",SCROLL:"SCROLL"};s.DGTable=J;var L=DGTable;
function M(){var a=[];_.extend(a,M.prototype);a.initialize.apply(a,arguments);return a}M.prototype=[];M.prototype.initialize=function(){};M.prototype.get=function(a){for(var b=0,c=this.length;b<c;b++)if(this[b].name==a)return this[b];return p};M.prototype.indexOf=function(a){for(var b=0,c=this.length;b<c;b++)if(this[b].name==a)return b;return-1};M.prototype.N=function(a){for(var b=0,c=this.length;b<c;b++)if(this[b].order==a)return this[b];return p};
M.prototype.ba=function(){var a=[],b;for(b=0;b<this.length;b++)a.push(this[b]);a.sort(function(a,b){return a.order<b.order?-1:a.order>b.order?1:0});for(b=0;b<a.length;b++)a[b].order=b};M.prototype.G=function(){for(var a=[],b=0,c;b<this.length;b++)c=this[b],c.visible&&a.push(c);a.sort(function(a,b){return a.order<b.order?-1:a.order>b.order?1:0});return a};M.prototype.Ba=function(){for(var a=0,b=0,c;b<this.length;b++)c=this[b],c.order>a&&(a=c.order);return a};
M.prototype.moveColumn=function(a,b){if(a&&b){var c=a.order,d=b.order,f;if(c<d)for(c+=1;c<=d;c++)f=this.N(c),f.order--;else for(c-=1;c>=d;c--)f=this.N(c),f.order++;a.order=d}return this};L.Ea=M;var Q=DGTable;function T(){var a=[];_.extend(a,T.prototype);a.initialize.apply(a,arguments);return a}T.prototype=[];_.extend(T.prototype,Backbone.Events);T.prototype.initialize=function(a){a=a||{};this.M=this.F=p;this.aa=q;this.sortColumn=a.sortColumn==p?[]:a.sortColumn};
T.prototype.add=function(a,b){var c,d;if("splice"in a&&"length"in a)if(b){c=0;for(d=a.length;c<d;c++)this.splice(b++,0,a[c])}else{c=0;for(d=a.length;c<d;c++)this.push(a[c])}else b?this.splice(b,0,a):this.push(a)};T.prototype.reset=function(a){this.length=0;a&&this.add(a)};
T.prototype.Aa=function(a,b,c){if((b=b.toString())&&a!=p){var d=new T({sortColumn:this.sortColumn});this.F=a;this.M=b;this.aa=c;a=0;for(b=this.length;a<b;a++)c=this[a],this.Ua(c)&&(c.__i=a,d.push(c));return d}return this.M=this.F=p};T.prototype.Ua=function(a){if(a&&this.F){a=a[this.F];if(a==p)return q;var a=a.toString(),b=this.M;this.aa||(a=a.toUpperCase(),b=b.toUpperCase());return-1!==a.indexOf(b)}return l};
function U(a,b){var c=a.column,d=a.comparePath||c;"string"===typeof d&&(d=d.split("."));var f=d.length,e=1<f,g,h=b?1:-1,m=b?-1:1;return function(a,b){var c=a[d[0]],r=b[d[0]];if(e)for(g=1;g<f;g++)c=c&&c[d[g]],r=r&&r[d[g]];return c<r?h:c>r?m:0}}var V=T.prototype.sort;
T.prototype.sort=function(a){if(this.sortColumn.length){var b=[],c,d;for(c=0;c<this.sortColumn.length;c++)d={},this.trigger("requiresComparatorForColumn",d,this.sortColumn[c].column,this.sortColumn[c].descending),b.push(_.bind(d.Sa||U(this.sortColumn[c],this.sortColumn[c].descending),this));if(1===b.length)V.call(this,b[0]);else{var f=b.length,e;V.call(this,function(a,d){for(c=0;c<f&&!(e=b[c](a,d),0!==e);c++);return e})}a||this.trigger("sort")}return this};Q.Fa=T;
//# sourceMappingURL=DGTable.min.js.map