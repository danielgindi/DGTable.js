'use strict';(function(l,e){function g(a){_.contains(["relative","absolute","fixed"],a.css("position"))||a.css("position","relative")}var h=navigator.userAgent,q=-1!=h.indexOf("MSIE ")?parseFloat(h.substr(h.indexOf("MSIE ")+5)):null,t=q&&10>q,u=_.bind(document.createElement,document),v=Backbone.View.extend({className:"dgtable-wrapper",tagName:"div",VERSION:"0.4.8",initialize:function(a){function b(a){a=a||event;a=a.toElement||a.relatedTarget;a==this||jQuery.contains(this,a)||this.__previewEl&&(a==
this.__previewEl||jQuery.contains(this.__previewEl,a))||B.Ga.call(B,this)}function c(a){a=a||event;a=a.fromElement||a.relatedTarget;a==this||jQuery.contains(this,a)||this.__previewEl&&(a==this.__previewEl||jQuery.contains(this.__previewEl,a))||B.Ha.call(B,this)}a=a||{};a.columns=a.columns||[];this.V=_.bind(this.La,this);this.L=_.bind(this.Ka,this);this.ua=_.bind(this.Ma,this);this.$el.on("dragend",this.L);this.s=!0;var d=this.a={};d.virtualTable=void 0===a.virtualTable?!0:!!a.virtualTable;d.rowsBufferSize=
a.rowsBufferSize||3;d.minColumnWidth=Math.max(a.minColumnWidth||35,0);d.resizeAreaWidth=a.resizeAreaWidth||8;d.resizableColumns=void 0===a.resizableColumns?!0:!!a.resizableColumns;d.movableColumns=void 0===a.movableColumns?!0:!!a.movableColumns;d.sortableColumns=void 0===a.sortableColumns?1:parseInt(a.sortableColumns,10)||1;d.adjustColumnWidthForSortArrow=void 0===a.adjustColumnWidthForSortArrow?!0:!!a.adjustColumnWidthForSortArrow;d.convertColumnWidthsToRelative=void 0===a.convertColumnWidthsToRelative?
!1:!!a.convertColumnWidthsToRelative;d.cellClasses=void 0===a.cellClasses?"":a.cellClasses;d.resizerClassName=void 0===a.resizerClassName?"dgtable-resize":a.resizerClassName;d.tableClassName=void 0===a.tableClassName?"dgtable":a.tableClassName;d.allowCellPreview=void 0===a.allowCellPreview?!0:a.allowCellPreview;d.allowHeaderCellPreview=void 0===a.allowHeaderCellPreview?!0:a.allowHeaderCellPreview;d.cellPreviewClassName=void 0===a.cellPreviewClassName?"dgtable-cell-preview":a.cellPreviewClassName;
d.cellPreviewAutoBackground=void 0===a.cellPreviewAutoBackground?!0:a.cellPreviewAutoBackground;d.comparatorCallback=void 0===a.comparatorCallback?null:a.comparatorCallback;d.width=void 0===a.width?v.Width.NONE:a.width;d.relativeWidthGrowsToFillWidth=void 0===a.relativeWidthGrowsToFillWidth?!0:!!a.relativeWidthGrowsToFillWidth;d.relativeWidthShrinksToFillWidth=void 0===a.relativeWidthShrinksToFillWidth?!1:!!a.relativeWidthShrinksToFillWidth;d.cellFormatter=a.cellFormatter||function(a){return a};d.headerCellFormatter=
a.headerCellFormatter||function(a){return a};d.height=a.height;var k,f,e,g,n=new v.Ea;for(g=k=0;k<a.columns.length;k++)e=a.columns[k],f=this.ja(e),void 0!==e.order?(e.order>g&&(g=e.order+1),f.order=e.order):f.order=g++,n.push(f);n.ca();this.d=n;this.b=n.H();this._ensureVisibleColumns();e=[];if(a.sortColumn&&((g=a.sortColumn)&&"object"!==typeof g&&(g=[g]),g instanceof Array||"object"===typeof g))for(k=0,a=g.length,f;k<a;k++)n=g[k],"string"===typeof n&&(n={column:n,descending:!1}),f=this.d.get(n.column),
e.push({column:n.column,comparePath:f.comparePath,descending:n.descending});this.c=new v.Fa({sortColumn:e,columns:this.columns});this.listenTo(this.c,"requiresComparatorForColumn",_.bind(function(a,b,c){d.comparatorCallback&&(a.Sa=d.comparatorCallback(b,c))},this));this.g=null;var B=this;"addEventListener"in window?(this.Q=function(a){a.__hoverIn||a.addEventListener("mouseover",a.__hoverIn=_.bind(c,a));return this},this.X=function(a){a.__hoverIn&&(a.removeEventListener("mouseover",a.__hoverIn),a.__hoverIn=
null);return this},this.R=function(a){a.__hoverOut||a.addEventListener("mouseout",a.__hoverOut=_.bind(b,a.__cell||a));return this},this.Y=function(a){a.__hoverOut&&(a.removeEventListener("mouseout",a.__hoverOut),a.__hoverOut=null);return this}):(this.Q=function(a){a.__hoverIn||a.attachEvent("mouseover",a.__hoverIn=_.bind(c,a));return this},this.X=function(a){a.__hoverIn&&(a.detachEvent("mouseover",a.__hoverIn),a.__hoverIn=null);return this},this.R=function(a){a.__hoverOut||a.attachEvent("mouseout",
a.__hoverOut=_.bind(b,a.__cell||a));return this},this.Y=function(a){a.__hoverOut&&(a.detachEvent("mouseout",a.__hoverOut),a.__hoverOut=null);return this})},wa:function(a,b){var c=parseFloat(a),d=r.AUTO;0<c&&(a==c+"%"?(d=r.RELATIVE,c/=100):0<c&&1>c?d=r.RELATIVE:(c<b&&(c=b),d=r.ABSOLUTE));return{width:c,mode:d}},ja:function(a){var b=this.wa(a.width,a.ignoreMin?0:this.a.minColumnWidth),b={name:a.name,label:void 0===a.label?a.name:a.label,width:b.width,k:b.mode,resizable:void 0===a.resizable?!0:a.resizable,
sortable:void 0===a.sortable?!0:a.sortable,movable:void 0===a.movable?!0:a.movable,visible:void 0===a.visible?!0:a.visible,cellClasses:void 0===a.cellClasses?this.a.cellClasses:a.cellClasses,ignoreMin:void 0===a.ignoreMin?!1:!!a.ignoreMin};b.dataPath=void 0===a.dataPath?b.name:a.dataPath;b.comparePath=void 0===a.comparePath?b.dataPath:a.comparePath;"string"===typeof b.dataPath&&(b.dataPath=b.dataPath.split("."));"string"===typeof b.comparePath&&(b.comparePath=b.comparePath.split("."));return b},remove:function(){if(this.da)return this;
this.i&&(this.i.remove(),this.i=null);if(this.l)for(var a=this.l[0].childNodes,b=0,c=a.length;b<c;b++)this.trigger("rowdestroy",a[b]);v.__super__.remove.apply(this,arguments);this.ia().Qa();this.h.empty();this.l.empty();if(this.n){for(a=0;a<this.n.length;a++)b=this.n[a],b.Da.removeEventListener("message",b.Ca,!1);this.n.length=0}this.c.length=this.d.length=0;this.J&&clearTimeout(this.J);for(var d in this)this.hasOwnProperty(d)&&(this[d]=null);this.da=!0;return this},close:function(){return this.remove()},
Qa:function(){var a,b,c,d,k,f;if(this.r)for(a=0,b=this.r.childNodes,c=b.length;a<c;a++)for(d=b[a],k=0,d=d.childNodes,f=d.length;k<f;k++)this.X(d[k]);if(this.e)for(a=0,b=this.e.childNodes,c=b.length;a<c;a++)this.m(b[a]);return this},m:function(a){var b=0;a=a.childNodes;for(var c=a.length;b<c;b++)this.X(a[b]);return this},render:function(){var a=this,b=this.a;if(!this.el.offsetParent)return this.J||(this.J=setTimeout(function(){this.J=null;!a.da&&a.el.offsetParent&&a.render()})),a;if(!0===this.s){this.s=
!1;b.width==v.Width.AUTO&&a.ha();var c=a.f?a.f.scrollTop:0,d=a.f?a.f.scrollLeft:0;a.tableWidthChanged(!0,!1).Oa();if(b.virtualTable)a.t();else{var k=(a.g||a.c).length,k=a.v(0,k-1);a.l.html("").append(k);a.t(!0)}a.f.scrollTop=c;a.f.scrollLeft=d;a.K.scrollLeft=d;this.u(!0);for(k=0;k<this.c.sortColumn.length;k++)this.xa(this.c.sortColumn[k].column,this.c.sortColumn[k].descending);b.adjustColumnWidthForSortArrow&&this.c.sortColumn.length?this.tableWidthChanged(!0):b.virtualTable||this.tableWidthChanged();
this.trigger("renderskeleton");b.virtualTable&&(this.h.on("scroll",_.bind(this.Na,this)),this.render())}else if(b.virtualTable){k=(a.g||a.c).length;d=this.f.scrollTop;c=Math.floor((d-this.B)/this.p)+1-b.rowsBufferSize;b=Math.ceil((d-this.B+this.Ra)/this.p)+b.rowsBufferSize;0>c&&(c=0);b>=k&&(b=k-1);var f=-1,d=-1,e=a.e.childNodes;e.length&&(f=e[0].rowIndex,d=e[e.length-1].rowIndex);if(-1!==f&&f<c){for(var g=Math.min(d+1,c)-f,k=0;k<g;k++)a.trigger("rowdestroy",e[0]),a.m(e[0]),a.e.removeChild(e[0]);f+=
g;f>d&&(f=d=-1)}else if(-1!==d&&d>b){g=d-Math.max(f-1,b);for(k=0;k<g;k++)a.trigger("rowdestroy",e[e.length-1]),a.m(e[e.length-1]),a.e.removeChild(e[e.length-1]);d<f&&(f=d=-1)}c<f&&(k=a.v(c,Math.min(b,f-1)),a.l.prepend(k));if(b>d||-1===d)k=a.v(-1===d?c:d+1,b),a.l.append(k)}this.trigger("render");return this},clearAndRender:function(){this.s=!0;return this.render()},v:function(a,b){var c=this.a,d=c.tableClassName,e=d+"-row",d=d+"-cell",f=this.g||this.c,s=!!this.g,g=c.allowCellPreview,n=this.b,B=c.cellFormatter,
c=c.virtualTable,p=this.B,m=this.p,h,l,q,t,r,v=n.length;h=0;for(var x;h<v;h++)x=n[h],x.Ia=x.q||x.j;for(var F=document.createDocumentFragment(),H=this.F()?"right":"left",A=a,I=f.length,D,y,z,G;A<I&&A<=b;A++){D=f[A];l=s?D.__i:A;y=u("div");y.className=e;y.rowIndex=A;y.physicalRowIndex=l;for(h=0;h<v;h++){x=n[h];z=u("div");z.columnName=x.name;z.setAttribute("data-column",x.name);z.className=d;z.style.width=x.Ia+"px";x.cellClasses&&(z.className+=" "+x.cellClasses);g&&this.Q(z);G=z.appendChild(u("div"));
q=x.dataPath;r=D[q[0]];for(t=1;t<q.length;t++)r=r&&r[q[t]];q=B(r,x.name,D);void 0===q&&(q="");G.innerHTML=q;y.appendChild(z)}c&&(h=0<A?p+(A-1)*m:0,y.style.position="absolute",y.style[H]=0,y.style.top=h+"px");F.appendChild(y);this.trigger("rowcreate",A,l,y,D)}return F},S:function(){if(this.e){var a=(this.g||this.c).length,b=this.p*a;a&&(b+=this.B-this.p,b+=this.Z-this.p);1>b&&(b=1);this.e.style.height=b+"px"}return this},fa:function(){var a=this.a.tableClassName,b=a+"-row",c=a+"-cell",d=this.b,k=d.length,
f,s,g,b=e("<div>").addClass(b).css("float","left");for(s=0;s<k;s++)g=d[s],f=u("div"),f.className=c,f.style.width=g.j+"px",g.cellClasses&&(f.className+=" "+g.cellClasses),f.appendChild(u("div")),b.append(f);a=e("<div>").addClass(this.className).css({"z-index":-1,position:"absolute",left:"0",top:"-9999px","float":"left",width:"1px",overflow:"hidden"}).append(e("<div>").addClass(a).append(e("<div>").addClass(a+"-body").css("width",99999).append(b)));a.appendTo(document.body);d=e('<div style="border:1px solid #000;width:0;height:0;position:absolute;left:0;top:-9999px">').appendTo(document.body);
c=parseFloat(d.css("border-width"));c=Math.round(c)!=c;d.remove();b=b.outerWidth();b-=this.A||0;c&&b++;a.remove();return b},addColumn:function(a,b){var c=this.d;if(a&&!c.get(a.name)){var d=null;void 0!==b&&(d=c.get(b)||c.O(b));var e=this.ja(a);e.order=d?d.order:c.Ba()+1;for(var d=c.Ba(),f=e.order,s;d>=f;d--)(s=c.O(d))&&s.order++;c.push(e);c.ca();this.s=!0;this.b=c.H();this._ensureVisibleColumns();this.render();this.trigger("addcolumn",e.name)}return this},removeColumn:function(a){var b=this.d,c=b.indexOf(a);
-1<c&&(b.splice(c,1),b.ca(),this.b=b.H(),this._ensureVisibleColumns().clearAndRender(),this.trigger("removecolumn",a));return this},filter:function(a,b,c){if(this.d.get(a)){var d=!!this.g;this.g&&(this.g=null);this.g=this.c.Aa(a,b,c);if(d||this.g)this.clearAndRender(),this.trigger("filter",a,b,c)}return this},w:function(){this.g&&(this.g=null,this.g=this.c.Aa(this.c.G,this.c.N,this.c.ba));return this},setColumnLabel:function(a,b){var c=this.d.get(a);if(c&&(c.label=void 0===b?c.name:b,c.element))for(var d=
0;d<c.element[0].firstChild.childNodes.length;d++){var e=c.element[0].firstChild.childNodes[d];if(3===e.nodeType){e.textContent=c.label;break}}return this},moveColumn:function(a,b){var c=this.a,d=this.d,e,f;"string"===typeof a?e=d.get(a):"number"===typeof a&&(e=this.b[a]);"string"===typeof b?f=d.get(b):"number"===typeof b&&(f=this.b[b]);if(e&&f&&a!==b){var s=e.order,g=f.order;this.b=d.moveColumn(e,f).H();this._ensureVisibleColumns();if(c.virtualTable)this.clearAndRender().t(!0);else{d=this.o.find(">div."+
c.tableClassName+"-header-cell");c=s<g?g+1:g;d[0].parentNode.insertBefore(d[s],d[c]);d=this.b[s];d=(d.q||d.j)+"px";f=this.b[g];f=(f.q||f.j)+"px";for(var n=this.l[0].childNodes,h=0,p=n.length,m;h<p;h++)m=n[h],1===m.nodeType&&(m.insertBefore(m.childNodes[s],m.childNodes[c]),m.childNodes[g].firstChild.style.width=f,m.childNodes[s].firstChild.style.width=d)}this.trigger("movecolumn",e.name,s,g)}return this},sort:function(a,b,c){var d=this.a,e=this.d.get(a);if(e){var f=this.c.sortColumn;f.length&&f[f.length-
1].column==a&&(b=void 0===b?!f[f.length-1].descending:b);if(c){for(a=0;a<f.length;a++)if(f[a].column==e.name){a<f.length-1?f.length=0:f.splice(f.length-1,1);break}if(0<d.sortableColumns&&f.length>=d.sortableColumns||f.length>=this.b.length)f.length=0}else f.length=0;f.push({column:e.name,comparePath:e.comparePath,descending:!(void 0===b||!b)});this.ha();for(a=0;a<f.length;a++)this.xa(f[a].column,f[a].descending);d.adjustColumnWidthForSortArrow&&!d.s&&this.tableWidthChanged(!0);if(d.virtualTable)for(;this.e&&
this.e.firstChild;)this.trigger("rowdestroy",this.e.firstChild),this.m(this.e.firstChild),this.e.removeChild(this.e.firstChild);else this.s=!0;this.c.sortColumn=f;this.c.sort(!!this.g);this.w();b=[];for(a=0;a<f.length;a++)b.push({column:f[a].column,descending:f[a].descending});this.trigger("sort",b)}return this},resort:function(){var a=this.c.sortColumn;if(a.length){this.c.sortColumn=a;this.c.sort(!!this.g);this.w();for(var b=[],c=0;c<a.length;c++)b.push({column:a[c].column,descending:a[c].descending});
this.trigger("sort",b)}return this},_ensureVisibleColumns:function(){0===this.b.length&&this.d.length&&(this.d[0].visible=!0,this.b.push(this.d[0]),this.trigger("showcolumn",this.d[0].name));return this},setColumnVisible:function(a,b){var c=this.d.get(a);c&&!!c.visible!=!!b&&(c.visible=!!b,this.b=this.d.H(),this.trigger(b?"showcolumn":"hidecolumn",a),this._ensureVisibleColumns(),this.clearAndRender());return this},isColumnVisible:function(a){return(a=this.d.get(a))?a.visible:!1},setMinColumnWidth:function(a){var b=
this.a;a=Math.max(a,0);b.minColumnWidth!=a&&(b.minColumnWidth=a,this.tableWidthChanged(!0));return this},getMinColumnWidth:function(){return this.a.minColumnWidth},setSortableColumns:function(a){var b=this.a;if(b.sortableColumns!=a&&(b.sortableColumns=a,this.h)){a=this.o.find(">div."+b.tableClassName+"-header-cell");for(var c=0;c<a.length;c++)e(a[0])[0<b.sortableColumns&&this.b[c].sortable?"addClass":"removeClass"]("sortable")}return this},getSortableColumns:function(){return this.a.sortableColumns},
setMovableColumns:function(a){var b=this.a;a=!!a;b.movableColumns!=a&&(b.movableColumns=a);return this},getMovableColumns:function(){return this.a.movableColumns},setResizableColumns:function(a){var b=this.a;a=!!a;b.resizableColumns!=a&&(b.resizableColumns=a);return this},getResizableColumns:function(){return this.a.resizableColumns},setComparatorCallback:function(a){var b=this.a;b.comparatorCallback!=a&&(b.comparatorCallback=a);return this},setColumnWidth:function(a,b){var c=this.wa(b,a.ignoreMin?
0:this.a.minColumnWidth),d=this.d.get(a);if(d){var e=this.M(d);d.width=c.width;d.k=c.mode;c=this.M(d);e!=c&&this.tableWidthChanged(!0);this.trigger("columnwidth",d.name,e,c)}return this},getColumnWidth:function(a){return(a=this.d.get(a))?this.M(a):null},getColumnConfig:function(a){return(a=this.d.get(a))?{order:a.order,width:this.M(a),visible:a.visible,label:a.label}:null},getColumnsConfig:function(){for(var a={},b=0;b<this.d.length;b++)a[this.d[b].name]=this.getColumnConfig(this.d[b].name);return a},
getSortedColumns:function(){for(var a=[],b=0,c;b<this.c.sortColumn.length;b++)c=this.c.sortColumn[b],a.push({column:c.column,descending:c.descending});return a},getHtmlForCell:function(a,b){if(0>a||a>this.c.length-1)return null;var c=this.d.get(b);if(!c)return null;for(var d=this.c[a],e=c.dataPath,f=d[e[0]],s=1;s<e.length;s++)f=f[e[s]];c=this.a.cellFormatter(f,c.name,d);void 0===c&&(c="");return c},getDataForRow:function(a){return 0>a||a>this.c.length-1?null:this.c[a]},getRowCount:function(){return this.c?
this.c.length:0},getDataForFilteredRow:function(a){return 0>a||a>(this.g||this.c).length-1?null:(this.g||this.c)[a]},getHeaderRowElement:function(){return this.r},D:function(a){return(parseFloat(e.css(a,"padding-left"))||0)+(parseFloat(e.css(a,"padding-right"))||0)},Ja:function(a){return(parseFloat(e.css(a,"border-left"))||0)+(parseFloat(e.css(a,"border-right"))||0)},ga:function(){var a=this.a,b,c,d;this.h&&(c=this.f?this.f.scrollTop:0,d=this.f?this.f.scrollLeft:0,a.virtualTable&&(b=this.h[0].style.display,
this.h[0].style.display="none"));var k=this.$el.width();this.h&&(a.virtualTable&&(this.h[0].style.display=b),this.f.scrollTop=c,this.f.scrollLeft=d,this.K.scrollLeft=d);var f;b=a.tableClassName;if(this.h)c=this.o;else{f=e("<div>").addClass(this.className).css({"z-index":-1,position:"absolute",left:"0",top:"-9999px"});a=e("<div>").addClass(b+"-header").appendTo(f);c=e("<div>").addClass(b+"-header-row").appendTo(a);for(a=0;a<this.b.length;a++)c.append(e("<div><div></div></div>").addClass(b+"-header-cell").addClass(this.b[a].cellClasses||
""));f.appendTo(document.body)}k-=this.Ja(c[0]);b=c.find(">div."+b+"-header-cell");for(a=0;a<b.length;a++)e(b[a].firstChild),c=e(b[a]),d="border-box"===c.css("boxSizing"),k-=(parseFloat(c.css("border-right-width"))||0)+(parseFloat(c.css("border-left-width"))||0)+(d?0:this.D(c[0]));f&&f.remove();return k},tableWidthChanged:function(){var a=null;return function(b,c){var d=this.a,k=this.ga(),f=k,s=0;c=void 0===c||c;var g=0;this.e||(c=!1);c&&(g=parseFloat(this.e.style.minWidth)||0);if(f!=a||b){a=k;var n,
k=0,h=[],p,m,q=0;for(p=0;p<this.d.length;p++)this.d[p].q=null;for(p=0;p<this.b.length;p++)if(m=this.b[p],m.k===r.ABSOLUTE)n=m.width,n+=m.aa||0,!m.ignoreMin&&n<d.minColumnWidth&&(n=d.minColumnWidth),f-=n,k+=n,n!==m.j&&(m.j=n,h.push(p));else if(m.k===r.AUTO){var l=m.label,t=this.a.tableClassName;n=void 0;l=e("<div>").addClass(this.$el).append(e("<div>").addClass(t+"-header").append(e("<div>").addClass(t+"-header-row").append(n=e("<div>").addClass(t+"-header-cell").append(e("<div>").text(l))))).css({position:"absolute",
top:"-9999px",visibility:"hidden"});l.appendTo(document.body);n=n.width();l.remove();n+=20;n+=m.aa||0;!m.ignoreMin&&n<d.minColumnWidth&&(n=d.minColumnWidth);f-=n;k+=n;n!==m.j&&(m.j=n,d.convertColumnWidthsToRelative||h.push(p))}else m.k===r.RELATIVE&&(q+=m.width,s++);if(d.convertColumnWidthsToRelative)for(p=0;p<this.b.length;p++)m=this.b[p],m.k===r.AUTO&&(m.k=r.RELATIVE,f+=m.j,m.width=m.j/k,q+=m.width,s++);if(s&&(1>q&&d.relativeWidthGrowsToFillWidth||1<q&&d.relativeWidthShrinksToFillWidth))for(p=0;p<
this.b.length;p++)m=this.b[p],m.k===r.RELATIVE&&(m.width/=q);k=f;d=d.minColumnWidth/k;isNaN(d)&&(d=0);if(0<d){for(p=q=0;p<this.b.length;p++)m=this.b[p],m.k===r.RELATIVE&&!m.ignoreMin&&m.width<d&&(q+=d-m.width,m.width=d);for(p=0;p<this.b.length;p++)m=this.b[p],m.k===r.RELATIVE&&!m.ignoreMin&&m.width>d&&0<q&&(n=Math.min(q,m.width-d),m.width-=n,q-=n)}for(p=0;p<this.b.length;p++)m=this.b[p],m.k===r.RELATIVE&&(n=Math.round(k*m.width),f-=n,s--,0===s&&1===f&&(n++,f--),-1===f&&(n--,f++),n!==m.j&&(m.j=n,h.push(p)));
this.b[this.b.length-1].q=this.b[this.b.length-1].j-(this.A||0);if(c){f=this.fa();g<f&&this.u(!1);for(p=0;p<h.length;p++)this.Pa(h[p]);g>f&&this.u(!1)}}return this}}(),tableHeightChanged:function(){var a=this.a;if(!this.h)return this;var b=this.$el.innerHeight()-(parseFloat(this.h.css("border-top-width"))||0)-(parseFloat(this.h.css("border-bottom-width"))||0);b!=a.height&&(a.height=b,this.e&&(this.e.style.height=Math.max(a.height-this.o.outerHeight(),1)+"px"),a.virtualTable&&this.clearAndRender());
return this},addRows:function(a,b){if(a){this.c.add(a);if(this.a.virtualTable){for(;this.e.firstChild;)this.trigger("rowdestroy",this.e.firstChild),this.m(this.e.firstChild),this.e.removeChild(this.e.firstChild);b&&this.c.sortColumn.length?this.resort():this.w();this.S().t().u(!1);this.render()}else if(this.g){var c=this.g.length;this.w();this.g&&this.g.length==c||this.clearAndRender()}else this.l&&(c=this.c.length-a.length,c=this.v(c,c+a.length-1),this.e.appendChild(c),this.t().u(!0));this.trigger("addrows",
a.length,!1)}return this},removeRow:function(a,b){if(0>a||a>this.c.length-1)return this;this.c.splice(a,1);b=void 0===b?!0:!!b;if(this.g)this.w(),this.s=!0,b&&this.render();else if(b){var c=this.e.childNodes;if(this.a.virtualTable){for(var d=0;d<c.length;d++)c[d].rowIndex>=a&&(this.trigger("rowdestroy",c[d]),this.m(c[d]),this.e.removeChild(c[d]),d--);this.S().t().render().u(!1)}else{for(d=0;d<c.length;d++)if(c[d].rowIndex===a){this.trigger("rowdestroy",c[d]);this.m(c[d]);this.e.removeChild(c[d]);
break}this.render().t().u(!0)}}return this},refreshRow:function(a){if(0>a||a>this.c.length-1)return this;var b=-1;if(this.g&&-1===(b=_.indexOf(this.g,this.c[a])))return this;-1===b&&(b=a);var c=this.e.childNodes;if(this.a.virtualTable){for(var d=!1,e=0;e<c.length;e++)if(c[e].physicalRowIndex===a){d=!0;this.trigger("rowdestroy",c[e]);this.m(c[e]);this.e.removeChild(c[e]);break}d&&(a=this.v(b,b),this.e.insertBefore(a,c[e]||null))}else this.trigger("rowdestroy",c[b]),this.m(c[b]),this.e.removeChild(c[b]),
a=this.v(b,b),this.e.insertBefore(a,c[b]||null);return this},getRowElement:function(a){if(0>a||a>this.c.length-1)return null;var b=-1;if(this.g&&-1===(b=_.indexOf(this.g,this.c[a])))return this;-1===b&&(b=a);var c=this.e.childNodes;if(this.a.virtualTable)for(b=0;b<c.length;b++){if(c[b].physicalRowIndex===a)return c[b]}else return c[b];return null},refreshAllVirtualRows:function(){if(this.a.virtualTable){for(var a=[],b=this.e.childNodes,c=0,d=b.length;c<d;c++)a.push(b[c].physicalRowIndex),this.trigger("rowdestroy",
b[c]),this.m(b[c]),this.e.removeChild(b[c]),c--,d--;for(c=0;c<a.length;c++)b=this.v(a[c],a[c]),this.e.appendChild(b)}return this},setRows:function(a,b){this.scrollTop=this.$el.find(".table").scrollTop();this.c.reset(a);b&&this.c.sortColumn.length?this.resort():this.w();this.clearAndRender().trigger("addrows",a.length,!0);return this},getUrlForElementContent:function(a){if(a=document.getElementById(a)){a=a.textContent;if("function"===typeof Blob)a=new Blob([a]);else{var b=l.BlobBuilder||l.WebKitBlobBuilder||
l.Wa||l.Va;if(!b)return null;b=new b;b.append(a);a=b.getBlob()}return(l.URL||l.webkitURL).createObjectURL(a)}return null},isWorkerSupported:function(){return l.Worker instanceof Function},createWebWorker:function(a,b,c){if(this.isWorkerSupported()){var d=this;a=new Worker(a);var e=function(a){a.data.append?d.addRows(a.data.rows,c):d.setRows(a.data.rows,c)};a.addEventListener("message",e,!1);this.n||(this.n=[]);this.n.push({Da:a,Ca:e});(b||void 0===b)&&a.postMessage(null);return a}return null},unbindWebWorker:function(a){if(this.n)for(var b=
0;b<this.n.length;b++)this.n[b].Da==a&&(a.removeEventListener("message",this.n[b].Ca,!1),this.n.splice(b,1),b--);return this},abortCellPreview:function(){this.hideCellPreview();return this},cancelColumnResize:function(){this.i&&(this.i.remove(),this.i=null,e(document).off("mousemove.dgtable",this.V).off("mouseup.dgtable",this.L));return this},Na:function(){this.render()},Ma:function(){this.K.scrollLeft=this.f.scrollLeft},U:function(a){var b=this.a,c=this.F(),d=e(a.target).closest("div."+b.tableClassName+
"-header-cell,div."+b.cellPreviewClassName),k=d[0];k.__cell&&(k=k.__cell,d=e(k));for(var f=d[0].previousSibling;f&&1!=f.nodeType;)f=f.previousSibling;var s=!f;a=((null!=a.pageX?a.pageX:a.originalEvent.pageX)||a.originalEvent.clientX)-d.offset().left;if(c){if(!s&&d.outerWidth()-a<=b.resizeAreaWidth/2)return f.columnName;if(a<=b.resizeAreaWidth/2)return k.columnName}else{if(!s&&a<=b.resizeAreaWidth/2)return f.columnName;if(d.outerWidth()-a<=b.resizeAreaWidth/2)return k.columnName}return null},va:function(a){var b=
this;if(!b.C){var c=a.originalEvent.changedTouches[0];b.C=c.identifier;var d=e(a.currentTarget),k={x:c.pageX,y:c.pageY},f=k,s=function(){b.C=null;d.off("touchend").off("touchcancel");clearTimeout(n)},g=function(b){var c=e.Event(b),d=Array.prototype.slice.call(arguments,1);e.each("target clientX clientY offsetX offsetY screenX screenY pageX pageY which".split(" "),function(){c[this]=a[this];for(var b=0;b<d.length;b++)null!=d[b][this]&&(c[this]=d[b][this])});return c};d.trigger(g("mousedown",a.originalEvent.changedTouches[0],
{which:1}));var n=setTimeout(function(){s();d.one("touchend",function(a){a.preventDefault();d.off("touchend").off("touchcancel")}).one("touchcancel",function(){d.off("touchend").off("touchcancel")});9>Math.sqrt(Math.pow(Math.abs(f.x-k.x),2)+Math.pow(Math.abs(f.y-k.y),2))&&(b.cancelColumnResize(),d.trigger(g("mouseup",a.originalEvent.changedTouches[0],{which:3})))},500);d.on("touchend",function(a){var c=_.find(a.originalEvent.changedTouches,function(a){return a.identifier===b.C});c&&(s(),a.preventDefault(),
f={x:c.pageX,y:c.pageY},9>Math.sqrt(Math.pow(Math.abs(f.x-k.x),2)+Math.pow(Math.abs(f.y-k.y),2))||b.i)&&(d.trigger(g("mouseup",c,{which:1})),d.trigger(g("click",c,{which:1})))}).on("touchcancel",function(){s()}).on("touchmove",function(a){var c=_.find(a.originalEvent.changedTouches,function(a){return a.identifier===b.C});c&&(f={x:c.pageX,y:c.pageY},b.i&&(a.preventDefault(),d.trigger(g("mousemove",c))))})}},pa:function(a){if(1!==a.which)return this;var b=this.a,c=this.U(a);if(c){var d=this.d.get(c);
if(!b.resizableColumns||!d||!d.resizable)return!1;c=this.F();this.i&&e(this.i).remove();this.i=e("<div></div>").addClass(b.resizerClassName).css({position:"absolute",display:"block","z-index":-1,visibility:"hidden",width:"2px",background:"#000",opacity:0.7}).appendTo(this.$el);var b=d.element,k=this.i.parent(),d=b.offset(),f=k.offset();8===q&&(d=b.offset());f.left+=parseFloat(k.css("border-left-width"))||0;f.top+=parseFloat(k.css("border-top-width"))||0;d.left-=f.left;d.top-=f.top;d.top-=parseFloat(b.css("border-top-width"))||
0;k=this.i.outerWidth();c?d.left-=Math.ceil((parseFloat(b.css("border-left-width"))||0)/2):(d.left+=b.outerWidth(),d.left+=Math.ceil((parseFloat(b.css("border-right-width"))||0)/2));d.left-=Math.ceil(k/2);this.i.css({"z-index":"10",visibility:"visible",left:d.left,top:d.top,height:this.$el.height()})[0].columnName=b[0].columnName;try{this.i[0].style.zIndex=""}catch(g){}e(document).on("mousemove.dgtable",this.V);e(document).on("mouseup.dgtable",this.L);a.preventDefault()}},ra:function(a){var b=this.a;
if(b.resizableColumns){var c=this.U(a);a=e(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName)[0];c&&this.d.get(c).resizable?a.style.cursor="e-resize":a.style.cursor=""}},sa:function(a){if(3===a.which){var b=this.a,b=e(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName),c=b.offset();c.width=b.outerWidth();c.height=b.outerHeight();this.trigger("headercontextmenu",b[0].columnName,a.pageX,a.pageY,c)}return this},qa:function(a){var b=
this.a;e(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName)[0].style.cursor=""},ka:function(a){if(!this.U(a)){var b=this.a;a=e(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName)[0];b.sortableColumns&&(b=this.d.get(a.columnName))&&b.sortable&&this.sort(a.columnName,void 0,!0).render()}},ta:function(a){var b=this.a;if(b.movableColumns){var b=e(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName),c=
this.d.get(b[0].columnName);c&&c.movable?(b[0].style.opacity=0.35,this.T=161061273*Math.random(),a.originalEvent.dataTransfer.setData("text",JSON.stringify({za:this.T,column:c.name}))):a.preventDefault()}else a.preventDefault()},La:function(a){var b=this.d.get(this.i[0].columnName),c=this.F(),d=b.element,e=this.i.parent(),f=d.offset(),g=e.offset();g.left+=parseFloat(e.css("border-left-width"))||0;f.left-=g.left;e=this.i.outerWidth();a=a.pageX-g.left;f=f.left;c?(f+=d.outerWidth(),f-=Math.ceil((parseFloat(d.css("border-right-width"))||
0)/2),f-=Math.ceil(e/2),f-=b.ignoreMin?0:this.a.minColumnWidth,f-=this.D(d[0]),a>f&&(a=f)):(f+=Math.ceil((parseFloat(d.css("border-right-width"))||0)/2),f-=Math.ceil(e/2),f+=b.ignoreMin?0:this.a.minColumnWidth,f+=this.D(d[0]),a<f&&(a=f));this.i.css("left",a+"px")},Ka:function(a){if(this.i){e(document).off("mousemove.dgtable",this.V).off("mouseup.dgtable",this.L);var b=this.d.get(this.i[0].columnName),c=this.F(),d=b.element,k=this.i.parent(),f=d.offset(),g=k.offset();g.left+=parseFloat(k.css("border-left-width"))||
0;f.left-=g.left;k=this.i.outerWidth();a=a.pageX-g.left;f=g=f.left;f=0;c?(a+=this.D(d[0]),g+=d.outerWidth(),g-=Math.ceil((parseFloat(d.css("border-right-width"))||0)/2),g-=Math.ceil(k/2),f=g-(b.ignoreMin?0:this.a.minColumnWidth),a>f&&(a=f),f=g-a):(a-=this.D(d[0]),g+=Math.ceil((parseFloat(d.css("border-right-width"))||0)/2),g-=Math.ceil(k/2),f=g+(b.ignoreMin?0:this.a.minColumnWidth),a<f&&(a=f),f=a-g);this.i.remove();this.i=null;c=f;if(b.k===r.RELATIVE){c=this.ga();for(d=0;d<this.b.length;d++)k=this.b[d],
k.k!=r.RELATIVE&&(c-=k.j);c=f/c*100;c+="%"}this.setColumnWidth(b.name,c)}else a.target.style.opacity=null},la:function(a){var b=this.a;if(b.movableColumns){var c=a.originalEvent.dataTransfer.getData("text"),c=c?JSON.parse(c):null;a=e(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName);(!c||this.T==c.za&&a.columnName!==c.column)&&(c=this.d.get(a[0].columnName))&&(c.movable||c!=this.b[0])&&e(a).addClass("drag-over")}},na:function(a){a.preventDefault()},ma:function(a){var b=
this.a,b=e(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName);e(b[0].firstChild).has(a.originalEvent.relatedTarget).length||b.removeClass("drag-over")},oa:function(a){a.preventDefault();var b=this.a,c=JSON.parse(a.originalEvent.dataTransfer.getData("text"));a=e(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName);if(b.movableColumns&&c.za==this.T){var b=c.column,c=a[0].columnName,d=this.d.get(b),g=this.d.get(c);d&&g&&d.movable&&(g.movable||
g!=this.b[0])&&this.moveColumn(b,c)}e(a).removeClass("drag-over")},ha:function(){if(this.h){var a=this.o.find(">div."+this.a.tableClassName+"-header-cell.sorted"),b=a.find(">div>.sort-arrow");_.forEach(b,_.bind(function(a){if(a=this.d.get(a.parentNode.parentNode.columnName))a.aa=0},this));b.remove();a.removeClass("sorted").removeClass("desc")}return this},xa:function(a,b){var c=this.d.get(a),d=u("span");d.className="sort-arrow";c.element&&(c.element.addClass(b?"sorted desc":"sorted"),c.element[0].firstChild.insertBefore(d,
c.element[0].firstChild.firstChild));c.k!=r.RELATIVE&&this.a.adjustColumnWidthForSortArrow&&(c.aa=d.scrollWidth+(parseFloat(e(d).css("margin-right"))||0)+(parseFloat(e(d).css("margin-left"))||0));return this},Pa:function(a){var b=this.o.find("div."+this.a.tableClassName+"-header-cell"),c=this.d.get(b[a].columnName);if(c){b[a].style.width=(c.q||c.j)+"px";for(var b=(c.q||c.j)+"px",c=this.l[0].childNodes,d=0,e=c.length,f;d<e;d++)f=c[d],1===f.nodeType&&(f.childNodes[a].style.width=b)}return this},ia:function(){this.o&&
(this.trigger("headerrowdestroy",this.r),this.o.find("div."+this.a.tableClassName+"-header-cell").remove(),this.r=this.o=null);return this},Oa:function(){function a(a){a.preventDefault()}this.ia();this.C=null;var b=this.a,c=b.allowCellPreview,d=b.allowHeaderCellPreview,k=b.tableClassName,f=k+"-header-cell",h=u("div"),q=e(h),n=u("div"),l=e(n);h.className=k+"-header";n.className=k+"-header-row";var p;t&&(p=function(a){a.preventDefault();this.Ta();return!1});for(var m=0,r,w,E,C;m<this.b.length;m++)if(r=
this.b[m],r.visible){w=u("div");C=e(w);w.draggable=!0;w.className=f;w.style.width=r.j+"px";b.sortableColumns&&r.sortable&&(w.className+=" sortable");w.columnName=r.name;w.setAttribute("data-column",r.name);E=u("div");E.innerHTML=b.headerCellFormatter(r.label,r.name);w.appendChild(E);c&&d&&this.Q(w);n.appendChild(w);this.b[m].element=C;C.on("mousedown.dgtable",_.bind(this.pa,this)).on("mousemove.dgtable",_.bind(this.ra,this)).on("mouseup.dgtable",_.bind(this.sa,this)).on("mouseleave.dgtable",_.bind(this.qa,
this)).on("touchstart.dgtable",_.bind(this.va,this)).on("dragstart.dgtable",_.bind(this.ta,this)).on("click.dgtable",_.bind(this.ka,this)).on("contextmenu.dgtable",a);e(E).on("dragenter.dgtable",_.bind(this.la,this)).on("dragover.dgtable",_.bind(this.na,this)).on("dragleave.dgtable",_.bind(this.ma,this)).on("drop.dgtable",_.bind(this.oa,this));if(t)C.on("selectstart.dgtable",_.bind(p,w));C.css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none",
"-o-user-select":"none","user-select":"none"})}this.P&&this.P.remove();this.P=q;this.K=h;this.o=l;this.r=n;l.appendTo(this.P);q.prependTo(this.$el);this.trigger("headerrowcreate",n);this.el.style.overflow=b.width==v.Width.SCROLL?"hidden":"";if(this.h&&b.virtualTable){this.h.remove();if(this.l)for(c=this.l[0].childNodes,m=0,d=c.length;m<d;m++)this.trigger("rowdestroy",c[m]),this.m(c[m]);this.h=this.f=this.l=this.e=null}g(this.$el);!b.height&&b.virtualTable&&(b.height=this.$el.innerHeight());b.virtualTable&&
!this.p&&(h=function(){var a=u("div"),b=a.appendChild(u("div")),c=b.appendChild(u("div"));a.className=k+"-row";b.className=k+"-cell";c.innerHTML="0";a.style.visibility="hidden";a.style.position="absolute";return a},c=e("<div>").addClass(this.className).css({"z-index":-1,position:"absolute",left:"0",top:"-9999px",width:"1px",overflow:"hidden"}).append(e("<div>").addClass(k).append(m=e("<div>").addClass(k+"-body").css("width",99999))),c.appendTo(document.body),d=h(),f=h(),h=h(),m.append(d,f,h),this.B=
e(d).outerHeight(),this.p=e(f).outerHeight(),this.Z=e(h).outerHeight(),Math.min(Math.min(this.B,this.p),this.Z),Math.max(Math.max(this.B,this.p),this.Z),c.remove());this.h||(m=document.createDocumentFragment(),c=u("div"),d=e(c),c.className=b.tableClassName,b.virtualTable&&(c.className+=" virtual"),l=b.height-l.outerHeight(),"border-box"!==d.css("box-sizing")&&(l-=parseFloat(d.css("border-top-width"))||0,l-=parseFloat(d.css("border-bottom-width"))||0,l-=parseFloat(d.css("padding-top"))||0,l-=parseFloat(d.css("padding-bottom"))||
0),this.Ra=l,c.style.height=b.height?l+"px":"auto",c.style.display="block",c.style.overflowY="auto",c.style.overflowX=b.width==v.Width.SCROLL?"auto":"hidden",m.appendChild(c),l=u("div"),f=e(l),l.className=b.tableClassName+"-body",this.f=c,this.e=l,this.h=d,this.l=f,this.S(),g(f),g(d),c.appendChild(l),this.el.appendChild(m));return this},t:function(a){var b=this.f.offsetWidth-this.f.clientWidth;if(b!=this.A||a){this.A=b;for(a=0;a<this.d.length;a++)this.d[a].q=null;if(0<this.A){b=this.b.length-1;this.b[b].q=
this.b[b].j-this.A;var c=this.b[b].q+"px",d=this.e.childNodes;a=0;for(var e=d.length,f;a<e;a++)f=d[a],1===f.nodeType&&(f.childNodes[b].style.width=c);this.r.childNodes[b].style.width=c}}return this},u:function(a){var b=this.a,c=this.fa();this.e.style.minWidth=c+"px";this.r.style.minWidth=c+(this.A||0)+"px";this.h.off("scroll",this.ua);if(b.width==v.Width.AUTO)this.$el.width(this.h.width(this.l.outerWidth()).outerWidth());else if(b.width==v.Width.SCROLL){if(a){a=this.f?this.f.scrollTop:0;var b=this.f?
this.f.scrollLeft:0,c=this.el,d=c.style.display;c.style.display="none";c.offsetHeight;c.style.display=d;this.f.scrollTop=a;this.f.scrollLeft=b;this.K.scrollLeft=b}this.h.on("scroll",this.ua)}return this},F:function(){return"rtl"===this.h.css("direction")},M:function(a){return a.k===r.AUTO?"auto":a.k===r.RELATIVE?100*a.width+"%":a.width},Ha:function(a){var b=this,c=b.a;this.ea=!1;var d=a.firstChild;if(1<d.scrollWidth-d.clientWidth||1<d.scrollHeight-d.clientHeight){b.hideCellPreview();var g=e(a),f=
e(d),h=u("div"),l=e(h);h.innerHTML=a.innerHTML;h.className=c.cellPreviewClassName;if(c=g.hasClass(c.tableClassName+"-header-cell"))if(h.className+=" header",g.hasClass("sortable")&&(h.className+=" sortable"),h.draggable=!0,e(h).on("mousedown",_.bind(b.pa,b)).on("mousemove",_.bind(b.ra,b)).on("mouseup",_.bind(b.sa,b)).on("mouseleave",_.bind(b.qa,b)).on("touchstart",_.bind(b.va,b)).on("dragstart",_.bind(b.ta,b)).on("click",_.bind(b.ka,b)).on("contextmenu.dgtable",function(a){a.preventDefault()}),e(h.firstChild).on("dragenter",
_.bind(b.la,b)).on("dragover",_.bind(b.na,b)).on("dragleave",_.bind(b.ma,b)).on("drop",_.bind(b.oa,b)),t)e(h).on("selectstart",_.bind(function(a){a.preventDefault();this.Ta();return!1},h));var n=parseFloat(g.css("padding-left"))||0,q=parseFloat(g.css("padding-right"))||0,p=parseFloat(g.css("padding-top"))||0,m=parseFloat(g.css("padding-bottom"))||0,d=d.scrollWidth+a.clientWidth-d.offsetWidth;"border-box"===g.css("boxSizing")?(d-=parseFloat(e(a).css("border-left-width"))||0,d-=parseFloat(e(a).css("border-right-width"))||
0,l.css("box-sizing","border-box")):(d-=n+q,l.css({"margin-top":parseFloat(e(a).css("border-top-width"))||0}));if(!b.W){var r=document.createElement("div");r.style.backgroundColor="transparent";b.W=e(r).css("background-color");r.style.backgroundColor="rgba(0,0,0,0)";b.ya=e(r).css("background-color")}n={"box-sizing":"content-box",width:d+"px","min-height":g.height()+"px","padding-left":n,"padding-right":q,"padding-top":p,"padding-bottom":m,overflow:"hidden",position:"absolute",zIndex:"-1",left:"0",
top:"0",cursor:"default"};q=e(a).css("background-color");if(q===b.W||q===b.ya)q=e(a.parentNode).css("background-color");if(q===b.W||q===b.ya)q="#fff";n["background-color"]=q;l.css(n);b.el.appendChild(h);e(h.firstChild).css({direction:f.css("direction"),"white-space":f.css("white-space")});c&&l.css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none"});h.rowIndex=a.parentNode.rowIndex;f=h.physicalRowIndex=
a.parentNode.physicalRowIndex;h.columnName=b.b[_.indexOf(a.parentNode.childNodes,a)].name;b.trigger("cellpreview",h.firstChild,null==f?null:f,h.columnName,null==f?null:b.c[f]);this.ea?l.remove():(n=b.$el,q=n[0]===window?e(document):n,f=g.offset(),p=n.offset(),c=(m="right"===g.css("float"))?"right":"left",m&&(m=e(window).width(),f.right=m-(f.left+g.outerWidth()),p.right=m-(p.left+n.outerWidth())),f.left-=parseFloat(n.css("border-left-width"))||0,f.right-=parseFloat(n.css("border-right-width"))||0,
f.top-=parseFloat(n.css("border-top-width"))||0,f[c]+=parseFloat(e(a).css("border-"+c+"-width"))||0,f.top+=parseFloat(e(a).css("border-top-width"))||parseFloat(e(a).css("border-bottom-width"))||0,f.left-=p.left,f.right-=p.right,f.top-=p.top,p=n-l.outerWidth(),f[c]=0>f[c]?0:f[c]>p?p:f[c],g=g.outerHeight(),g=q.scrollTop()+n.innerHeight()-g,f.top>g&&(f.top=Math.max(0,g)),g={top:f.top,"z-index":9999},g[c]=f[c],l.css(g),h.__cell=a,b.I=l,a.__previewEl=h,b.R(a),b.R(h),l.on("mousewheel",function(a){var c=
a.originalEvent,d=c.wheelDelta||-c.detail;a=c.wheelDeltaX||(1==c.axis?d:0);c=c.wheelDeltaY||(2==c.axis?d:0);d&&b.hideCellPreview();c&&b.f.scrollHeight>b.f.clientHeight&&(d=-1*c+b.h.scrollTop(),b.h.scrollTop(d));a&&b.f.scrollWidth>b.f.clientWidth&&(a=-1*a+b.h.scrollLeft(),b.h.scrollLeft(a))}))}},Ga:function(){this.hideCellPreview()},hideCellPreview:function(){if(this.I){var a=this.I[0];this.I.remove();this.Y(a.__cell);this.Y(a);a.__cell.__previewEl=null;a.__cell=null;this.trigger("cellpreviewdestroy",
a.firstChild,a.physicalRowIndex,a.columnName);this.I=null}this.ea=!1;return this}}),r={AUTO:0,ABSOLUTE:1,RELATIVE:2};v.Width={NONE:"none",AUTO:"auto",SCROLL:"SCROLL"};l.DGTable=v})(this,jQuery);
DGTable.Ea=function(){function l(){var e=[];_.extend(e,l.prototype);e.initialize.apply(e,arguments);return e}l.prototype=[];l.prototype.initialize=function(){};l.prototype.get=function(e){for(var g=0,h=this.length;g<h;g++)if(this[g].name==e)return this[g];return null};l.prototype.indexOf=function(e){for(var g=0,h=this.length;g<h;g++)if(this[g].name==e)return g;return-1};l.prototype.O=function(e){for(var g=0,h=this.length;g<h;g++)if(this[g].order==e)return this[g];return null};l.prototype.ca=function(){var e=
[],g;for(g=0;g<this.length;g++)e.push(this[g]);e.sort(function(e,g){return e.order<g.order?-1:e.order>g.order?1:0});for(g=0;g<e.length;g++)e[g].order=g};l.prototype.H=function(){for(var e=[],g=0,h;g<this.length;g++)h=this[g],h.visible&&e.push(h);e.sort(function(e,g){return e.order<g.order?-1:e.order>g.order?1:0});return e};l.prototype.Ba=function(){for(var e=0,g=0,h;g<this.length;g++)h=this[g],h.order>e&&(e=h.order);return e};l.prototype.moveColumn=function(e,g){if(e&&g){var h=e.order,l=g.order,t;
if(h<l)for(h+=1;h<=l;h++)t=this.O(h),t.order--;else for(h-=1;h>=l;h--)t=this.O(h),t.order++;e.order=l}return this};return l}();
DGTable.Fa=function(){function l(){var e=[];_.extend(e,l.prototype);e.initialize.apply(e,arguments);return e}l.prototype=[];_.extend(l.prototype,Backbone.Events);l.prototype.initialize=function(e){e=e||{};this.N=this.G=null;this.ba=!1;this.sortColumn=null==e.sortColumn?[]:e.sortColumn};l.prototype.add=function(e,g){var h,l;if("splice"in e&&"length"in e)if(g)for(h=0,l=e.length;h<l;h++)this.splice(g++,0,e[h]);else for(h=0,l=e.length;h<l;h++)this.push(e[h]);else g?this.splice(g,0,e):this.push(e)};l.prototype.reset=
function(e){this.length=0;e&&this.add(e)};l.prototype.Aa=function(e,g,h){if((g=g.toString())&&null!=e){var q=new l({sortColumn:this.sortColumn});this.G=e;this.N=g;this.ba=h;e=0;for(g=this.length;e<g;e++)h=this[e],this.Ua(h)&&(h.__i=e,q.push(h));return q}return this.N=this.G=null};l.prototype.Ua=function(e){if(e&&this.G){e=e[this.G];if(null==e)return!1;e=e.toString();var g=this.N;this.ba||(e=e.toUpperCase(),g=g.toUpperCase());return-1!==e.indexOf(g)}return!0};(function(){function e(e,g){var l=e.column,
u=e.comparePath||l;"string"===typeof u&&(u=u.split("."));var v=u.length,r=1<v,a,b=g?1:-1,c=g?-1:1;return function(d,e){var f=d[u[0]],g=e[u[0]];if(r)for(a=1;a<v;a++)f=f&&f[u[a]],g=g&&g[u[a]];return f<g?b:f>g?c:0}}var g=l.prototype.sort;l.prototype.sort=function(h){if(this.sortColumn.length){var l=[],t,u;for(t=0;t<this.sortColumn.length;t++)u={},this.trigger("requiresComparatorForColumn",u,this.sortColumn[t].column,this.sortColumn[t].descending),l.push(_.bind(u.Sa||e(this.sortColumn[t],this.sortColumn[t].descending),
this));if(1===l.length)g.call(this,l[0]);else{var v=l.length,r;g.call(this,function(a,b){for(t=0;t<v&&(r=l[t](a,b),0===r);t++);return r})}h||this.trigger("sort")}return this}})();return l}();
//# sourceMappingURL=DGTable.min.js.map