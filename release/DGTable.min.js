'use strict';(function(h,e){function g(a){_.contains(["relative","absolute","fixed"],a.css("position"))||a.css("position","relative")}var r=navigator.userAgent,n=-1!=r.indexOf("MSIE ")?parseFloat(r.substr(r.indexOf("MSIE ")+5)):null,t=n&&10>n,v=_.bind(document.createElement,document),u=Backbone.View.extend({className:"dgtable-wrapper",tagName:"div",VERSION:"0.4.7",initialize:function(a){function b(a){a=a||event;a=a.toElement||a.relatedTarget;a==this||jQuery.contains(this,a)||this.__previewEl&&(a==
this.__previewEl||jQuery.contains(this.__previewEl,a))||z.Ga.call(z,this)}function c(a){a=a||event;a=a.fromElement||a.relatedTarget;a==this||jQuery.contains(this,a)||this.__previewEl&&(a==this.__previewEl||jQuery.contains(this.__previewEl,a))||z.Ha.call(z,this)}a=a||{};a.columns=a.columns||[];this.V=_.bind(this.La,this);this.L=_.bind(this.Ka,this);this.ua=_.bind(this.Ma,this);this.$el.on("dragend",this.L);this.s=!0;var d=this.a={};d.virtualTable=void 0===a.virtualTable?!0:!!a.virtualTable;d.rowsBufferSize=
a.rowsBufferSize||3;d.minColumnWidth=Math.max(a.minColumnWidth||35,0);d.resizeAreaWidth=a.resizeAreaWidth||8;d.resizableColumns=void 0===a.resizableColumns?!0:!!a.resizableColumns;d.movableColumns=void 0===a.movableColumns?!0:!!a.movableColumns;d.sortableColumns=void 0===a.sortableColumns?1:parseInt(a.sortableColumns,10)||1;d.adjustColumnWidthForSortArrow=void 0===a.adjustColumnWidthForSortArrow?!0:!!a.adjustColumnWidthForSortArrow;d.convertColumnWidthsToRelative=void 0===a.convertColumnWidthsToRelative?
!1:!!a.convertColumnWidthsToRelative;d.cellClasses=void 0===a.cellClasses?"":a.cellClasses;d.resizerClassName=void 0===a.resizerClassName?"dgtable-resize":a.resizerClassName;d.tableClassName=void 0===a.tableClassName?"dgtable":a.tableClassName;d.allowCellPreview=void 0===a.allowCellPreview?!0:a.allowCellPreview;d.allowHeaderCellPreview=void 0===a.allowHeaderCellPreview?!0:a.allowHeaderCellPreview;d.cellPreviewClassName=void 0===a.cellPreviewClassName?"dgtable-cell-preview":a.cellPreviewClassName;
d.cellPreviewAutoBackground=void 0===a.cellPreviewAutoBackground?!0:a.cellPreviewAutoBackground;d.comparatorCallback=void 0===a.comparatorCallback?null:a.comparatorCallback;d.width=void 0===a.width?u.Width.NONE:a.width;d.relativeWidthGrowsToFillWidth=void 0===a.relativeWidthGrowsToFillWidth?!0:!!a.relativeWidthGrowsToFillWidth;d.relativeWidthShrinksToFillWidth=void 0===a.relativeWidthShrinksToFillWidth?!1:!!a.relativeWidthShrinksToFillWidth;d.cellFormatter=a.cellFormatter||function(a){return a};d.headerCellFormatter=
a.headerCellFormatter||function(a){return a};d.height=a.height;var m,f,e,g,q=new u.Ea;for(g=m=0;m<a.columns.length;m++)f=a.columns[m],e=this.ja(f),void 0!==f.order?(f.order>g&&(g=f.order+1),e.order=f.order):e.order=g++,q.push(e);q.ca();this.d=q;this.b=q.H();this._ensureVisibleColumns();if(void 0===a.sortColumn)a.sortColumn=null;else if("string"==typeof a.sortColumn)this.d.get(a.sortColumn)?a.sortColumn=[{column:a.sortColumn,descending:!1}]:a.sortColumn=null;else if(a.sortColumn instanceof Array){g=
[];m=0;f=a.sortColumn.length;for(e;m<f&&(e=a.sortColumn[m],e=void 0!==e.column?e:{column:e,descending:!1},(e=this.d.get(e.column))&&!_.contains(g,e.name)&&g.push(e.name),g.length!==d.sortableColumns&&g.length!=this.b.length);m++);a.sortColumn=g}else"object"==typeof a.sortColumn?this.d.get(a.sortColumn.column)||(a.sortColumn=null):a.sortColumn=null;this.c=new u.Fa({sortColumn:a.sortColumn,columns:this.columns});this.listenTo(this.c,"requiresComparatorForColumn",_.bind(function(a,b,c){d.comparatorCallback&&
(a.Sa=d.comparatorCallback(b,c))},this));this.g=null;var z=this;"addEventListener"in window?(this.Q=function(a){a.__hoverIn||a.addEventListener("mouseover",a.__hoverIn=_.bind(c,a));return this},this.X=function(a){a.__hoverIn&&(a.removeEventListener("mouseover",a.__hoverIn),a.__hoverIn=null);return this},this.R=function(a){a.__hoverOut||a.addEventListener("mouseout",a.__hoverOut=_.bind(b,a.__cell||a));return this},this.Y=function(a){a.__hoverOut&&(a.removeEventListener("mouseout",a.__hoverOut),a.__hoverOut=
null);return this}):(this.Q=function(a){a.__hoverIn||a.attachEvent("mouseover",a.__hoverIn=_.bind(c,a));return this},this.X=function(a){a.__hoverIn&&(a.detachEvent("mouseover",a.__hoverIn),a.__hoverIn=null);return this},this.R=function(a){a.__hoverOut||a.attachEvent("mouseout",a.__hoverOut=_.bind(b,a.__cell||a));return this},this.Y=function(a){a.__hoverOut&&(a.detachEvent("mouseout",a.__hoverOut),a.__hoverOut=null);return this})},wa:function(a,b){var c=parseFloat(a),d=s.AUTO;0<c&&(a==c+"%"?(d=s.RELATIVE,
c/=100):0<c&&1>c?d=s.RELATIVE:(c<b&&(c=b),d=s.ABSOLUTE));return{width:c,mode:d}},ja:function(a){var b=this.wa(a.width,a.ignoreMin?0:this.a.minColumnWidth);return{name:a.name,label:void 0===a.label?a.name:a.label,width:b.width,k:b.mode,resizable:void 0===a.resizable?!0:a.resizable,sortable:void 0===a.sortable?!0:a.sortable,movable:void 0===a.movable?!0:a.movable,visible:void 0===a.visible?!0:a.visible,cellClasses:void 0===a.cellClasses?this.a.cellClasses:a.cellClasses,ignoreMin:void 0===a.ignoreMin?
!1:!!a.ignoreMin}},remove:function(){if(this.da)return this;this.i&&(this.i.remove(),this.i=null);if(this.l)for(var a=this.l[0].childNodes,b=0,c=a.length;b<c;b++)this.trigger("rowdestroy",a[b]);u.__super__.remove.apply(this,arguments);this.ia().Qa();this.h.empty();this.l.empty();if(this.n){for(a=0;a<this.n.length;a++)b=this.n[a],b.Da.removeEventListener("message",b.Ca,!1);this.n.length=0}this.c.length=this.d.length=0;this.J&&clearTimeout(this.J);for(var d in this)this.hasOwnProperty(d)&&(this[d]=
null);this.da=!0;return this},close:function(){return this.remove()},Qa:function(){var a,b,c,d,e,f;if(this.r)for(a=0,b=this.r.childNodes,c=b.length;a<c;a++)for(d=b[a],e=0,d=d.childNodes,f=d.length;e<f;e++)this.X(d[e]);if(this.e)for(a=0,b=this.e.childNodes,c=b.length;a<c;a++)this.m(b[a]);return this},m:function(a){var b=0;a=a.childNodes;for(var c=a.length;b<c;b++)this.X(a[b]);return this},render:function(){var a=this,b=this.a;if(!this.el.offsetParent)return this.J||(this.J=setTimeout(function(){this.J=
null;!a.da&&a.el.offsetParent&&a.render()})),a;if(!0===this.s){this.s=!1;b.width==u.Width.AUTO&&a.ha();var c=a.f?a.f.scrollTop:0,d=a.f?a.f.scrollLeft:0;a.tableWidthChanged(!0,!1).Oa();if(b.virtualTable)a.t();else{var e=(a.g||a.c).length,e=a.v(0,e-1);a.l.html("").append(e);a.t(!0)}a.f.scrollTop=c;a.f.scrollLeft=d;a.K.scrollLeft=d;this.u(!0);for(e=0;e<this.c.sortColumn.length;e++)this.xa(this.c.sortColumn[e].column,this.c.sortColumn[e].descending);b.adjustColumnWidthForSortArrow&&this.c.sortColumn.length?
this.tableWidthChanged(!0):b.virtualTable||this.tableWidthChanged();this.trigger("renderskeleton");b.virtualTable&&(this.h.on("scroll",_.bind(this.Na,this)),this.render())}else if(b.virtualTable){e=(a.g||a.c).length;d=this.f.scrollTop;c=Math.floor((d-this.B)/this.p)+1-b.rowsBufferSize;b=Math.ceil((d-this.B+this.Ra)/this.p)+b.rowsBufferSize;0>c&&(c=0);b>=e&&(b=e-1);var f=-1,d=-1,k=a.e.childNodes;k.length&&(f=k[0].rowIndex,d=k[k.length-1].rowIndex);if(-1!==f&&f<c){for(var g=Math.min(d+1,c)-f,e=0;e<
g;e++)a.trigger("rowdestroy",k[0]),a.m(k[0]),a.e.removeChild(k[0]);f+=g;f>d&&(f=d=-1)}else if(-1!==d&&d>b){g=d-Math.max(f-1,b);for(e=0;e<g;e++)a.trigger("rowdestroy",k[k.length-1]),a.m(k[k.length-1]),a.e.removeChild(k[k.length-1]);d<f&&(f=d=-1)}c<f&&(e=a.v(c,Math.min(b,f-1)),a.l.prepend(e));if(b>d||-1===d)e=a.v(-1===d?c:d+1,b),a.l.append(e)}this.trigger("render");return this},clearAndRender:function(){this.s=!0;return this.render()},v:function(a,b){var c=this.a,d=c.tableClassName,e=d+"-row",d=d+"-cell",
f=this.g||this.c,k=!!this.g,g=c.allowCellPreview,q=this.b,z=c.cellFormatter,c=c.virtualTable,p=this.B,l=this.p,r,h,n=q.length;r=0;for(var w;r<n;r++)w=q[r],w.Ia=w.q||w.j;for(var t=document.createDocumentFragment(),s=this.F()?"right":"left",u=a,D=f.length,A,x,y,C;u<D&&u<=b;u++){A=f[u];h=k?A.__i:u;x=v("div");x.className=e;x.rowIndex=u;x.physicalRowIndex=h;for(r=0;r<n;r++)w=q[r],y=v("div"),y.columnName=w.name,y.setAttribute("data-column",w.name),y.className=d,y.style.width=w.Ia+"px",w.cellClasses&&(y.className+=
" "+w.cellClasses),g&&this.Q(y),C=y.appendChild(v("div")),w=z(A[w.name],w.name,A),void 0===w&&(w=""),C.innerHTML=w,x.appendChild(y);c&&(r=0<u?p+(u-1)*l:0,x.style.position="absolute",x.style[s]=0,x.style.top=r+"px");t.appendChild(x);this.trigger("rowcreate",u,h,x,A)}return t},S:function(){if(this.e){var a=(this.g||this.c).length,b=this.p*a;a&&(b+=this.B-this.p,b+=this.Z-this.p);1>b&&(b=1);this.e.style.height=b+"px"}return this},fa:function(){var a=this.a.tableClassName,b=a+"-row",c=a+"-cell",d=this.b,
m=d.length,f,k,g,b=e("<div>").addClass(b).css("float","left");for(k=0;k<m;k++)g=d[k],f=v("div"),f.className=c,f.style.width=g.j+"px",g.cellClasses&&(f.className+=" "+g.cellClasses),f.appendChild(v("div")),b.append(f);a=e("<div>").addClass(this.className).css({"z-index":-1,position:"absolute",left:"0",top:"-9999px","float":"left",width:"1px",overflow:"hidden"}).append(e("<div>").addClass(a).append(e("<div>").addClass(a+"-body").css("width",99999).append(b)));a.appendTo(document.body);d=e('<div style="border:1px solid #000;width:0;height:0;position:absolute;left:0;top:-9999px">').appendTo(document.body);
c=parseFloat(d.css("border-width"));c=Math.round(c)!=c;d.remove();b=b.outerWidth();b-=this.A||0;c&&b++;a.remove();return b},addColumn:function(a,b){var c=this.d;if(a&&!c.get(a.name)){var d=null;void 0!==b&&(d=c.get(b)||c.O(b));var e=this.ja(a);e.order=d?d.order:c.Ba()+1;for(var d=c.Ba(),f=e.order,k;d>=f;d--)(k=c.O(d))&&k.order++;c.push(e);c.ca();this.s=!0;this.b=c.H();this._ensureVisibleColumns();this.render();this.trigger("addcolumn",e.name)}return this},removeColumn:function(a){var b=this.d,c=b.indexOf(a);
-1<c&&(b.splice(c,1),b.ca(),this.b=b.H(),this._ensureVisibleColumns().clearAndRender(),this.trigger("removecolumn",a));return this},filter:function(a,b,c){if(this.d.get(a)){var d=!!this.g;this.g&&(this.g=null);this.g=this.c.Aa(a,b,c);if(d||this.g)this.clearAndRender(),this.trigger("filter",a,b,c)}return this},w:function(){this.g&&(this.g=null,this.g=this.c.Aa(this.c.G,this.c.N,this.c.ba));return this},setColumnLabel:function(a,b){var c=this.d.get(a);if(c&&(c.label=void 0===b?c.name:b,c.element))for(var d=
0;d<c.element[0].firstChild.childNodes.length;d++){var e=c.element[0].firstChild.childNodes[d];if(3===e.nodeType){e.textContent=c.label;break}}return this},moveColumn:function(a,b){var c=this.a,d=this.d,e,f;"string"===typeof a?e=d.get(a):"number"===typeof a&&(e=this.b[a]);"string"===typeof b?f=d.get(b):"number"===typeof b&&(f=this.b[b]);if(e&&f&&a!==b){var k=e.order,g=f.order;this.b=d.moveColumn(e,f).H();this._ensureVisibleColumns();if(c.virtualTable)this.clearAndRender().t(!0);else{d=this.o.find(">div."+
c.tableClassName+"-header-cell");c=k<g?g+1:g;d[0].parentNode.insertBefore(d[k],d[c]);d=this.b[k];d=(d.q||d.j)+"px";f=this.b[g];f=(f.q||f.j)+"px";for(var q=this.l[0].childNodes,r=0,p=q.length,l;r<p;r++)l=q[r],1===l.nodeType&&(l.insertBefore(l.childNodes[k],l.childNodes[c]),l.childNodes[g].firstChild.style.width=f,l.childNodes[k].firstChild.style.width=d)}this.trigger("movecolumn",e.name,k,g)}return this},sort:function(a,b,c){var d=this.a,e=this.d.get(a);if(e){var f=this.c.sortColumn;f.length&&f[f.length-
1].column==a&&(b=void 0===b?!f[f.length-1].descending:b);if(c){for(a=0;a<f.length;a++)if(f[a].column==e.name){a<f.length-1?f.length=0:f.splice(f.length-1,1);break}if(0<d.sortableColumns&&f.length>=d.sortableColumns||f.length>=this.b.length)f.length=0}else f.length=0;f.push({column:e.name,descending:!(void 0===b||!b)});this.ha();for(a=0;a<f.length;a++)this.xa(f[a].column,f[a].descending);d.adjustColumnWidthForSortArrow&&!d.s&&this.tableWidthChanged(!0);if(d.virtualTable)for(;this.e&&this.e.firstChild;)this.trigger("rowdestroy",
this.e.firstChild),this.m(this.e.firstChild),this.e.removeChild(this.e.firstChild);else this.s=!0;this.c.sortColumn=f;this.c.sort(!!this.g);this.w();b=[];for(a=0;a<f.length;a++)b.push({column:f[a].column,descending:f[a].descending});this.trigger("sort",b)}return this},resort:function(){var a=this.c.sortColumn;if(a.length){this.c.sortColumn=a;this.c.sort(!!this.g);this.w();for(var b=[],c=0;c<a.length;c++)b.push({column:a[c].column,descending:a[c].descending});this.trigger("sort",b)}return this},_ensureVisibleColumns:function(){0===
this.b.length&&this.d.length&&(this.d[0].visible=!0,this.b.push(this.d[0]),this.trigger("showcolumn",this.d[0].name));return this},setColumnVisible:function(a,b){var c=this.d.get(a);c&&!!c.visible!=!!b&&(c.visible=!!b,this.b=this.d.H(),this.trigger(b?"showcolumn":"hidecolumn",a),this._ensureVisibleColumns(),this.clearAndRender());return this},isColumnVisible:function(a){return(a=this.d.get(a))?a.visible:!1},setMinColumnWidth:function(a){var b=this.a;a=Math.max(a,0);b.minColumnWidth!=a&&(b.minColumnWidth=
a,this.tableWidthChanged(!0));return this},getMinColumnWidth:function(){return this.a.minColumnWidth},setSortableColumns:function(a){var b=this.a;if(b.sortableColumns!=a&&(b.sortableColumns=a,this.h)){a=this.o.find(">div."+b.tableClassName+"-header-cell");for(var c=0;c<a.length;c++)e(a[0])[0<b.sortableColumns&&this.b[c].sortable?"addClass":"removeClass"]("sortable")}return this},getSortableColumns:function(){return this.a.sortableColumns},setMovableColumns:function(a){var b=this.a;a=!!a;b.movableColumns!=
a&&(b.movableColumns=a);return this},getMovableColumns:function(){return this.a.movableColumns},setResizableColumns:function(a){var b=this.a;a=!!a;b.resizableColumns!=a&&(b.resizableColumns=a);return this},getResizableColumns:function(){return this.a.resizableColumns},setComparatorCallback:function(a){var b=this.a;b.comparatorCallback!=a&&(b.comparatorCallback=a);return this},setColumnWidth:function(a,b){var c=this.wa(b,a.ignoreMin?0:this.a.minColumnWidth),d=this.d.get(a);if(d){var e=this.M(d);d.width=
c.width;d.k=c.mode;c=this.M(d);e!=c&&this.tableWidthChanged(!0);this.trigger("columnwidth",d.name,e,c)}return this},getColumnWidth:function(a){return(a=this.d.get(a))?this.M(a):null},getColumnConfig:function(a){return(a=this.d.get(a))?{order:a.order,width:this.M(a),visible:a.visible,label:a.label}:null},getColumnsConfig:function(){for(var a={},b=0;b<this.d.length;b++)a[this.d[b].name]=this.getColumnConfig(this.d[b].name);return a},getSortedColumns:function(){for(var a=[],b=0,c;b<this.c.sortColumn.length;b++)c=
this.c.sortColumn[b],a.push({column:c.column,descending:c.descending});return a},getHtmlForCell:function(a,b){if(0>a||a>this.c.length-1||!this.d.get(b))return null;var c=this.c[a],c=this.a.cellFormatter(c[b],b,c);void 0===c&&(c="");return c},getDataForRow:function(a){return 0>a||a>this.c.length-1?null:this.c[a]},getRowCount:function(){return this.c?this.c.length:0},getDataForFilteredRow:function(a){return 0>a||a>(this.g||this.c).length-1?null:(this.g||this.c)[a]},getHeaderRowElement:function(){return this.r},
D:function(a){return(parseFloat(e.css(a,"padding-left"))||0)+(parseFloat(e.css(a,"padding-right"))||0)},Ja:function(a){return(parseFloat(e.css(a,"border-left"))||0)+(parseFloat(e.css(a,"border-right"))||0)},ga:function(){var a=this.a,b,c,d;this.h&&(c=this.f?this.f.scrollTop:0,d=this.f?this.f.scrollLeft:0,a.virtualTable&&(b=this.h[0].style.display,this.h[0].style.display="none"));var m=this.$el.width();this.h&&(a.virtualTable&&(this.h[0].style.display=b),this.f.scrollTop=c,this.f.scrollLeft=d,this.K.scrollLeft=
d);var f;b=a.tableClassName;if(this.h)c=this.o;else{f=e("<div>").addClass(this.className).css({"z-index":-1,position:"absolute",left:"0",top:"-9999px"});a=e("<div>").addClass(b+"-header").appendTo(f);c=e("<div>").addClass(b+"-header-row").appendTo(a);for(a=0;a<this.b.length;a++)c.append(e("<div><div></div></div>").addClass(b+"-header-cell").addClass(this.b[a].cellClasses||""));f.appendTo(document.body)}m-=this.Ja(c[0]);b=c.find(">div."+b+"-header-cell");for(a=0;a<b.length;a++)e(b[a].firstChild),c=
e(b[a]),d="border-box"===c.css("boxSizing"),m-=(parseFloat(c.css("border-right-width"))||0)+(parseFloat(c.css("border-left-width"))||0)+(d?0:this.D(c[0]));f&&f.remove();return m},tableWidthChanged:function(){var a=null;return function(b,c){var d=this.a,m=this.ga(),f=m,k=0;c=void 0===c||c;var g=0;this.e||(c=!1);c&&(g=parseFloat(this.e.style.minWidth)||0);if(f!=a||b){a=m;var q,m=0,r=[],p,l,h=0;for(p=0;p<this.d.length;p++)this.d[p].q=null;for(p=0;p<this.b.length;p++)if(l=this.b[p],l.k===s.ABSOLUTE)q=
l.width,q+=l.aa||0,!l.ignoreMin&&q<d.minColumnWidth&&(q=d.minColumnWidth),f-=q,m+=q,q!==l.j&&(l.j=q,r.push(p));else if(l.k===s.AUTO){var n=l.label,t=this.a.tableClassName;q=void 0;n=e("<div>").addClass(this.$el).append(e("<div>").addClass(t+"-header").append(e("<div>").addClass(t+"-header-row").append(q=e("<div>").addClass(t+"-header-cell").append(e("<div>").text(n))))).css({position:"absolute",top:"-9999px",visibility:"hidden"});n.appendTo(document.body);q=q.width();n.remove();q+=20;q+=l.aa||0;!l.ignoreMin&&
q<d.minColumnWidth&&(q=d.minColumnWidth);f-=q;m+=q;q!==l.j&&(l.j=q,d.convertColumnWidthsToRelative||r.push(p))}else l.k===s.RELATIVE&&(h+=l.width,k++);if(d.convertColumnWidthsToRelative)for(p=0;p<this.b.length;p++)l=this.b[p],l.k===s.AUTO&&(l.k=s.RELATIVE,f+=l.j,l.width=l.j/m,h+=l.width,k++);if(k&&(1>h&&d.relativeWidthGrowsToFillWidth||1<h&&d.relativeWidthShrinksToFillWidth))for(p=0;p<this.b.length;p++)l=this.b[p],l.k===s.RELATIVE&&(l.width/=h);m=f;d=d.minColumnWidth/m;isNaN(d)&&(d=0);if(0<d){for(p=
h=0;p<this.b.length;p++)l=this.b[p],l.k===s.RELATIVE&&!l.ignoreMin&&l.width<d&&(h+=d-l.width,l.width=d);for(p=0;p<this.b.length;p++)l=this.b[p],l.k===s.RELATIVE&&!l.ignoreMin&&l.width>d&&0<h&&(q=Math.min(h,l.width-d),l.width-=q,h-=q)}for(p=0;p<this.b.length;p++)l=this.b[p],l.k===s.RELATIVE&&(q=Math.round(m*l.width),f-=q,k--,0===k&&1===f&&(q++,f--),-1===f&&(q--,f++),q!==l.j&&(l.j=q,r.push(p)));this.b[this.b.length-1].q=this.b[this.b.length-1].j-(this.A||0);if(c){f=this.fa();g<f&&this.u(!1);for(p=0;p<
r.length;p++)this.Pa(r[p]);g>f&&this.u(!1)}}return this}}(),tableHeightChanged:function(){var a=this.a;if(!this.h)return this;var b=this.$el.innerHeight()-(parseFloat(this.h.css("border-top-width"))||0)-(parseFloat(this.h.css("border-bottom-width"))||0);b!=a.height&&(a.height=b,this.e&&(this.e.style.height=Math.max(a.height-this.o.outerHeight(),1)+"px"),a.virtualTable&&this.clearAndRender());return this},addRows:function(a,b){if(a){this.c.add(a);if(this.a.virtualTable){for(;this.e.firstChild;)this.trigger("rowdestroy",
this.e.firstChild),this.m(this.e.firstChild),this.e.removeChild(this.e.firstChild);b&&this.c.sortColumn.length?this.resort():this.w();this.S().t().u(!1);this.render()}else if(this.g){var c=this.g.length;this.w();this.g&&this.g.length==c||this.clearAndRender()}else this.l&&(c=this.c.length-a.length,c=this.v(c,c+a.length-1),this.e.appendChild(c),this.t().u(!0));this.trigger("addrows",a.length,!1)}return this},removeRow:function(a,b){if(0>a||a>this.c.length-1)return this;this.c.splice(a,1);b=void 0===
b?!0:!!b;if(this.g)this.w(),this.s=!0,b&&this.render();else if(b){var c=this.e.childNodes;if(this.a.virtualTable){for(var d=0;d<c.length;d++)c[d].rowIndex>=a&&(this.trigger("rowdestroy",c[d]),this.m(c[d]),this.e.removeChild(c[d]),d--);this.S().t().render().u(!1)}else{for(d=0;d<c.length;d++)if(c[d].rowIndex===a){this.trigger("rowdestroy",c[d]);this.m(c[d]);this.e.removeChild(c[d]);break}this.render().t().u(!0)}}return this},refreshRow:function(a){if(0>a||a>this.c.length-1)return this;var b=-1;if(this.g&&
-1===(b=_.indexOf(this.g,this.c[a])))return this;-1===b&&(b=a);var c=this.e.childNodes;if(this.a.virtualTable){for(var d=!1,e=0;e<c.length;e++)if(c[e].physicalRowIndex===a){d=!0;this.trigger("rowdestroy",c[e]);this.m(c[e]);this.e.removeChild(c[e]);break}d&&(a=this.v(b,b),this.e.insertBefore(a,c[e]||null))}else this.trigger("rowdestroy",c[b]),this.m(c[b]),this.e.removeChild(c[b]),a=this.v(b,b),this.e.insertBefore(a,c[b]||null);return this},getRowElement:function(a){if(0>a||a>this.c.length-1)return null;
var b=-1;if(this.g&&-1===(b=_.indexOf(this.g,this.c[a])))return this;-1===b&&(b=a);var c=this.e.childNodes;if(this.a.virtualTable)for(b=0;b<c.length;b++){if(c[b].physicalRowIndex===a)return c[b]}else return c[b];return null},refreshAllVirtualRows:function(){if(this.a.virtualTable){for(var a=[],b=this.e.childNodes,c=0,d=b.length;c<d;c++)a.push(b[c].physicalRowIndex),this.trigger("rowdestroy",b[c]),this.m(b[c]),this.e.removeChild(b[c]),c--,d--;for(c=0;c<a.length;c++)b=this.v(a[c],a[c]),this.e.appendChild(b)}return this},
setRows:function(a,b){this.scrollTop=this.$el.find(".table").scrollTop();this.c.reset(a);b&&this.c.sortColumn.length?this.resort():this.w();this.clearAndRender().trigger("addrows",a.length,!0);return this},getUrlForElementContent:function(a){if(a=document.getElementById(a)){a=a.textContent;if("function"===typeof Blob)a=new Blob([a]);else{var b=h.BlobBuilder||h.WebKitBlobBuilder||h.Wa||h.Va;if(!b)return null;b=new b;b.append(a);a=b.getBlob()}return(h.URL||h.webkitURL).createObjectURL(a)}return null},
isWorkerSupported:function(){return h.Worker instanceof Function},createWebWorker:function(a,b,c){if(this.isWorkerSupported()){var d=this;a=new Worker(a);var e=function(a){a.data.append?d.addRows(a.data.rows,c):d.setRows(a.data.rows,c)};a.addEventListener("message",e,!1);this.n||(this.n=[]);this.n.push({Da:a,Ca:e});(b||void 0===b)&&a.postMessage(null);return a}return null},unbindWebWorker:function(a){if(this.n)for(var b=0;b<this.n.length;b++)this.n[b].Da==a&&(a.removeEventListener("message",this.n[b].Ca,
!1),this.n.splice(b,1),b--);return this},abortCellPreview:function(){this.hideCellPreview();return this},cancelColumnResize:function(){this.i&&(this.i.remove(),this.i=null,e(document).off("mousemove.dgtable",this.V).off("mouseup.dgtable",this.L));return this},Na:function(){this.render()},Ma:function(){this.K.scrollLeft=this.f.scrollLeft},U:function(a){var b=this.a,c=this.F(),d=e(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName),m=d[0];m.__cell&&(m=m.__cell,d=e(m));
for(var f=d[0].previousSibling;f&&1!=f.nodeType;)f=f.previousSibling;var k=!f;a=((null!=a.pageX?a.pageX:a.originalEvent.pageX)||a.originalEvent.clientX)-d.offset().left;if(c){if(!k&&d.outerWidth()-a<=b.resizeAreaWidth/2)return f.columnName;if(a<=b.resizeAreaWidth/2)return m.columnName}else{if(!k&&a<=b.resizeAreaWidth/2)return f.columnName;if(d.outerWidth()-a<=b.resizeAreaWidth/2)return m.columnName}return null},va:function(a){var b=this;if(!b.C){var c=a.originalEvent.changedTouches[0];b.C=c.identifier;
var d=e(a.currentTarget),m={x:c.pageX,y:c.pageY},f=m,k=function(){b.C=null;d.off("touchend").off("touchcancel");clearTimeout(r)},g=function(b){var c=e.Event(b),d=Array.prototype.slice.call(arguments,1);e.each("target clientX clientY offsetX offsetY screenX screenY pageX pageY which".split(" "),function(){c[this]=a[this];for(var b=0;b<d.length;b++)null!=d[b][this]&&(c[this]=d[b][this])});return c};d.trigger(g("mousedown",a.originalEvent.changedTouches[0],{which:1}));var r=setTimeout(function(){k();
d.one("touchend",function(a){a.preventDefault();d.off("touchend").off("touchcancel")}).one("touchcancel",function(){d.off("touchend").off("touchcancel")});9>Math.sqrt(Math.pow(Math.abs(f.x-m.x),2)+Math.pow(Math.abs(f.y-m.y),2))&&(b.cancelColumnResize(),d.trigger(g("mouseup",a.originalEvent.changedTouches[0],{which:3})))},500);d.on("touchend",function(a){var c=_.find(a.originalEvent.changedTouches,function(a){return a.identifier===b.C});c&&(k(),a.preventDefault(),f={x:c.pageX,y:c.pageY},9>Math.sqrt(Math.pow(Math.abs(f.x-
m.x),2)+Math.pow(Math.abs(f.y-m.y),2))||b.i)&&(d.trigger(g("mouseup",c,{which:1})),d.trigger(g("click",c,{which:1})))}).on("touchcancel",function(){k()}).on("touchmove",function(a){var c=_.find(a.originalEvent.changedTouches,function(a){return a.identifier===b.C});c&&(f={x:c.pageX,y:c.pageY},b.i&&(a.preventDefault(),d.trigger(g("mousemove",c))))})}},pa:function(a){if(1!==a.which)return this;var b=this.a,c=this.U(a);if(c){var d=this.d.get(c);if(!b.resizableColumns||!d||!d.resizable)return!1;c=this.F();
this.i&&e(this.i).remove();this.i=e("<div></div>").addClass(b.resizerClassName).css({position:"absolute",display:"block","z-index":-1,visibility:"hidden",width:"2px",background:"#000",opacity:0.7}).appendTo(this.$el);var b=d.element,m=this.i.parent(),d=b.offset(),f=m.offset();8===n&&(d=b.offset());f.left+=parseFloat(m.css("border-left-width"))||0;f.top+=parseFloat(m.css("border-top-width"))||0;d.left-=f.left;d.top-=f.top;d.top-=parseFloat(b.css("border-top-width"))||0;m=this.i.outerWidth();c?d.left-=
Math.ceil((parseFloat(b.css("border-left-width"))||0)/2):(d.left+=b.outerWidth(),d.left+=Math.ceil((parseFloat(b.css("border-right-width"))||0)/2));d.left-=Math.ceil(m/2);this.i.css({"z-index":"10",visibility:"visible",left:d.left,top:d.top,height:this.$el.height()})[0].columnName=b[0].columnName;try{this.i[0].style.zIndex=""}catch(k){}e(document).on("mousemove.dgtable",this.V);e(document).on("mouseup.dgtable",this.L);a.preventDefault()}},ra:function(a){var b=this.a;if(b.resizableColumns){var c=this.U(a);
a=e(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName)[0];c&&this.d.get(c).resizable?a.style.cursor="e-resize":a.style.cursor=""}},sa:function(a){if(3===a.which){var b=this.a,b=e(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName),c=b.offset();c.width=b.outerWidth();c.height=b.outerHeight();this.trigger("headercontextmenu",b[0].columnName,a.pageX,a.pageY,c)}return this},qa:function(a){var b=this.a;e(a.target).closest("div."+b.tableClassName+
"-header-cell,div."+b.cellPreviewClassName)[0].style.cursor=""},ka:function(a){if(!this.U(a)){var b=this.a;a=e(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName)[0];b.sortableColumns&&(b=this.d.get(a.columnName))&&b.sortable&&this.sort(a.columnName,void 0,!0).render()}},ta:function(a){var b=this.a;if(b.movableColumns){var b=e(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName),c=this.d.get(b[0].columnName);c&&c.movable?(b[0].style.opacity=
0.35,this.T=161061273*Math.random(),a.originalEvent.dataTransfer.setData("text",JSON.stringify({za:this.T,column:c.name}))):a.preventDefault()}else a.preventDefault()},La:function(a){var b=this.d.get(this.i[0].columnName),c=this.F(),d=b.element,e=this.i.parent(),f=d.offset(),k=e.offset();k.left+=parseFloat(e.css("border-left-width"))||0;f.left-=k.left;e=this.i.outerWidth();a=a.pageX-k.left;f=f.left;c?(f+=d.outerWidth(),f-=Math.ceil((parseFloat(d.css("border-right-width"))||0)/2),f-=Math.ceil(e/2),
f-=b.ignoreMin?0:this.a.minColumnWidth,f-=this.D(d[0]),a>f&&(a=f)):(f+=Math.ceil((parseFloat(d.css("border-right-width"))||0)/2),f-=Math.ceil(e/2),f+=b.ignoreMin?0:this.a.minColumnWidth,f+=this.D(d[0]),a<f&&(a=f));this.i.css("left",a+"px")},Ka:function(a){if(this.i){e(document).off("mousemove.dgtable",this.V).off("mouseup.dgtable",this.L);var b=this.d.get(this.i[0].columnName),c=this.F(),d=b.element,g=this.i.parent(),f=d.offset(),k=g.offset();k.left+=parseFloat(g.css("border-left-width"))||0;f.left-=
k.left;g=this.i.outerWidth();a=a.pageX-k.left;f=k=f.left;f=0;c?(a+=this.D(d[0]),k+=d.outerWidth(),k-=Math.ceil((parseFloat(d.css("border-right-width"))||0)/2),k-=Math.ceil(g/2),f=k-(b.ignoreMin?0:this.a.minColumnWidth),a>f&&(a=f),f=k-a):(a-=this.D(d[0]),k+=Math.ceil((parseFloat(d.css("border-right-width"))||0)/2),k-=Math.ceil(g/2),f=k+(b.ignoreMin?0:this.a.minColumnWidth),a<f&&(a=f),f=a-k);this.i.remove();this.i=null;c=f;if(b.k===s.RELATIVE){c=this.ga();for(d=0;d<this.b.length;d++)g=this.b[d],g.k!=
s.RELATIVE&&(c-=g.j);c=f/c*100;c+="%"}this.setColumnWidth(b.name,c)}else a.target.style.opacity=null},la:function(a){var b=this.a;if(b.movableColumns){var c=a.originalEvent.dataTransfer.getData("text"),c=c?JSON.parse(c):null;a=e(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName);(!c||this.T==c.za&&a.columnName!==c.column)&&(c=this.d.get(a[0].columnName))&&(c.movable||c!=this.b[0])&&e(a).addClass("drag-over")}},na:function(a){a.preventDefault()},ma:function(a){var b=
this.a,b=e(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName);e(b[0].firstChild).has(a.originalEvent.relatedTarget).length||b.removeClass("drag-over")},oa:function(a){a.preventDefault();var b=this.a,c=JSON.parse(a.originalEvent.dataTransfer.getData("text"));a=e(a.target).closest("div."+b.tableClassName+"-header-cell,div."+b.cellPreviewClassName);if(b.movableColumns&&c.za==this.T){var b=c.column,c=a[0].columnName,d=this.d.get(b),g=this.d.get(c);d&&g&&d.movable&&(g.movable||
g!=this.b[0])&&this.moveColumn(b,c)}e(a).removeClass("drag-over")},ha:function(){if(this.h){var a=this.o.find(">div."+this.a.tableClassName+"-header-cell.sorted"),b=a.find(">div>.sort-arrow");_.forEach(b,_.bind(function(a){if(a=this.d.get(a.parentNode.parentNode.columnName))a.aa=0},this));b.remove();a.removeClass("sorted").removeClass("desc")}return this},xa:function(a,b){var c=this.d.get(a),d=v("span");d.className="sort-arrow";c.element&&(c.element.addClass(b?"sorted desc":"sorted"),c.element[0].firstChild.insertBefore(d,
c.element[0].firstChild.firstChild));c.k!=s.RELATIVE&&this.a.adjustColumnWidthForSortArrow&&(c.aa=d.scrollWidth+(parseFloat(e(d).css("margin-right"))||0)+(parseFloat(e(d).css("margin-left"))||0));return this},Pa:function(a){var b=this.o.find("div."+this.a.tableClassName+"-header-cell"),c=this.d.get(b[a].columnName);if(c){b[a].style.width=(c.q||c.j)+"px";for(var b=(c.q||c.j)+"px",c=this.l[0].childNodes,d=0,e=c.length,f;d<e;d++)f=c[d],1===f.nodeType&&(f.childNodes[a].style.width=b)}return this},ia:function(){this.o&&
(this.trigger("headerrowdestroy",this.r),this.o.find("div."+this.a.tableClassName+"-header-cell").remove(),this.r=this.o=null);return this},Oa:function(){function a(a){a.preventDefault()}this.ia();this.C=null;var b=this.a,c=b.allowCellPreview,d=b.allowHeaderCellPreview,m=b.tableClassName,f=m+"-header-cell",k=v("div"),r=e(k),q=v("div"),h=e(q);k.className=m+"-header";q.className=m+"-header-row";var p;t&&(p=function(a){a.preventDefault();this.Ta();return!1});for(var l=0,n,s,B,w;l<this.b.length;l++)if(n=
this.b[l],n.visible){s=v("div");w=e(s);s.draggable=!0;s.className=f;s.style.width=n.j+"px";b.sortableColumns&&n.sortable&&(s.className+=" sortable");s.columnName=n.name;s.setAttribute("data-column",n.name);B=v("div");B.innerHTML=b.headerCellFormatter(n.label,n.name);s.appendChild(B);c&&d&&this.Q(s);q.appendChild(s);this.b[l].element=w;w.on("mousedown.dgtable",_.bind(this.pa,this)).on("mousemove.dgtable",_.bind(this.ra,this)).on("mouseup.dgtable",_.bind(this.sa,this)).on("mouseleave.dgtable",_.bind(this.qa,
this)).on("touchstart.dgtable",_.bind(this.va,this)).on("dragstart.dgtable",_.bind(this.ta,this)).on("click.dgtable",_.bind(this.ka,this)).on("contextmenu.dgtable",a);e(B).on("dragenter.dgtable",_.bind(this.la,this)).on("dragover.dgtable",_.bind(this.na,this)).on("dragleave.dgtable",_.bind(this.ma,this)).on("drop.dgtable",_.bind(this.oa,this));if(t)w.on("selectstart.dgtable",_.bind(p,s));w.css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none",
"-o-user-select":"none","user-select":"none"})}this.P&&this.P.remove();this.P=r;this.K=k;this.o=h;this.r=q;h.appendTo(this.P);r.prependTo(this.$el);this.trigger("headerrowcreate",q);this.el.style.overflow=b.width==u.Width.SCROLL?"hidden":"";if(this.h&&b.virtualTable){this.h.remove();if(this.l)for(c=this.l[0].childNodes,l=0,d=c.length;l<d;l++)this.trigger("rowdestroy",c[l]),this.m(c[l]);this.h=this.f=this.l=this.e=null}g(this.$el);!b.height&&b.virtualTable&&(b.height=this.$el.innerHeight());b.virtualTable&&
!this.p&&(k=function(){var a=v("div"),b=a.appendChild(v("div")),c=b.appendChild(v("div"));a.className=m+"-row";b.className=m+"-cell";c.innerHTML="0";a.style.visibility="hidden";a.style.position="absolute";return a},c=e("<div>").addClass(this.className).css({"z-index":-1,position:"absolute",left:"0",top:"-9999px",width:"1px",overflow:"hidden"}).append(e("<div>").addClass(m).append(l=e("<div>").addClass(m+"-body").css("width",99999))),c.appendTo(document.body),d=k(),f=k(),k=k(),l.append(d,f,k),this.B=
e(d).outerHeight(),this.p=e(f).outerHeight(),this.Z=e(k).outerHeight(),Math.min(Math.min(this.B,this.p),this.Z),Math.max(Math.max(this.B,this.p),this.Z),c.remove());this.h||(l=document.createDocumentFragment(),c=v("div"),d=e(c),c.className=b.tableClassName,b.virtualTable&&(c.className+=" virtual"),h=b.height-h.outerHeight(),"border-box"!==d.css("box-sizing")&&(h-=parseFloat(d.css("border-top-width"))||0,h-=parseFloat(d.css("border-bottom-width"))||0,h-=parseFloat(d.css("padding-top"))||0,h-=parseFloat(d.css("padding-bottom"))||
0),this.Ra=h,c.style.height=b.height?h+"px":"auto",c.style.display="block",c.style.overflowY="auto",c.style.overflowX=b.width==u.Width.SCROLL?"auto":"hidden",l.appendChild(c),h=v("div"),f=e(h),h.className=b.tableClassName+"-body",this.f=c,this.e=h,this.h=d,this.l=f,this.S(),g(f),g(d),c.appendChild(h),this.el.appendChild(l));return this},t:function(a){var b=this.f.offsetWidth-this.f.clientWidth;if(b!=this.A||a){this.A=b;for(a=0;a<this.d.length;a++)this.d[a].q=null;if(0<this.A){b=this.b.length-1;this.b[b].q=
this.b[b].j-this.A;var c=this.b[b].q+"px",d=this.e.childNodes;a=0;for(var e=d.length,f;a<e;a++)f=d[a],1===f.nodeType&&(f.childNodes[b].style.width=c);this.r.childNodes[b].style.width=c}}return this},u:function(a){var b=this.a,c=this.fa();this.e.style.minWidth=c+"px";this.r.style.minWidth=c+(this.A||0)+"px";this.h.off("scroll",this.ua);if(b.width==u.Width.AUTO)this.$el.width(this.h.width(this.l.outerWidth()).outerWidth());else if(b.width==u.Width.SCROLL){if(a){a=this.f?this.f.scrollTop:0;var b=this.f?
this.f.scrollLeft:0,c=this.el,d=c.style.display;c.style.display="none";c.offsetHeight;c.style.display=d;this.f.scrollTop=a;this.f.scrollLeft=b;this.K.scrollLeft=b}this.h.on("scroll",this.ua)}return this},F:function(){return"rtl"===this.h.css("direction")},M:function(a){return a.k===s.AUTO?"auto":a.k===s.RELATIVE?100*a.width+"%":a.width},Ha:function(a){var b=this,c=b.a;this.ea=!1;var d=a.firstChild;if(1<d.scrollWidth-d.clientWidth||1<d.scrollHeight-d.clientHeight){b.hideCellPreview();var g=e(a),f=
e(d),k=v("div"),r=e(k);k.innerHTML=a.innerHTML;k.className=c.cellPreviewClassName;if(c=g.hasClass(c.tableClassName+"-header-cell"))if(k.className+=" header",g.hasClass("sortable")&&(k.className+=" sortable"),k.draggable=!0,e(k).on("mousedown",_.bind(b.pa,b)).on("mousemove",_.bind(b.ra,b)).on("mouseup",_.bind(b.sa,b)).on("mouseleave",_.bind(b.qa,b)).on("touchstart",_.bind(b.va,b)).on("dragstart",_.bind(b.ta,b)).on("click",_.bind(b.ka,b)).on("contextmenu.dgtable",function(a){a.preventDefault()}),e(k.firstChild).on("dragenter",
_.bind(b.la,b)).on("dragover",_.bind(b.na,b)).on("dragleave",_.bind(b.ma,b)).on("drop",_.bind(b.oa,b)),t)e(k).on("selectstart",_.bind(function(a){a.preventDefault();this.Ta();return!1},k));var h=parseFloat(g.css("padding-left"))||0,n=parseFloat(g.css("padding-right"))||0,p=parseFloat(g.css("padding-top"))||0,l=parseFloat(g.css("padding-bottom"))||0,d=d.scrollWidth+a.clientWidth-d.offsetWidth;"border-box"===g.css("boxSizing")?(d-=parseFloat(e(a).css("border-left-width"))||0,d-=parseFloat(e(a).css("border-right-width"))||
0,r.css("box-sizing","border-box")):(d-=h+n,r.css({"margin-top":parseFloat(e(a).css("border-top-width"))||0}));if(!b.W){var s=document.createElement("div");s.style.backgroundColor="transparent";b.W=e(s).css("background-color");s.style.backgroundColor="rgba(0,0,0,0)";b.ya=e(s).css("background-color")}h={"box-sizing":"content-box",width:d+"px","min-height":g.height()+"px","padding-left":h,"padding-right":n,"padding-top":p,"padding-bottom":l,overflow:"hidden",position:"absolute",zIndex:"-1",left:"0",
top:"0",cursor:"default"};n=e(a).css("background-color");if(n===b.W||n===b.ya)n=e(a.parentNode).css("background-color");if(n===b.W||n===b.ya)n="#fff";h["background-color"]=n;r.css(h);b.el.appendChild(k);e(k.firstChild).css({direction:f.css("direction"),"white-space":f.css("white-space")});c&&r.css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none"});k.rowIndex=a.parentNode.rowIndex;f=k.physicalRowIndex=
a.parentNode.physicalRowIndex;k.columnName=b.b[_.indexOf(a.parentNode.childNodes,a)].name;b.trigger("cellpreview",k.firstChild,null==f?null:f,k.columnName,null==f?null:b.c[f]);this.ea?r.remove():(h=b.$el,n=h[0]===window?e(document):h,f=g.offset(),p=h.offset(),c=(l="right"===g.css("float"))?"right":"left",l&&(l=e(window).width(),f.right=l-(f.left+g.outerWidth()),p.right=l-(p.left+h.outerWidth())),f.left-=parseFloat(h.css("border-left-width"))||0,f.right-=parseFloat(h.css("border-right-width"))||0,
f.top-=parseFloat(h.css("border-top-width"))||0,f[c]+=parseFloat(e(a).css("border-"+c+"-width"))||0,f.top+=parseFloat(e(a).css("border-top-width"))||parseFloat(e(a).css("border-bottom-width"))||0,f.left-=p.left,f.right-=p.right,f.top-=p.top,p=h-r.outerWidth(),f[c]=0>f[c]?0:f[c]>p?p:f[c],g=g.outerHeight(),g=n.scrollTop()+h.innerHeight()-g,f.top>g&&(f.top=Math.max(0,g)),g={top:f.top,"z-index":9999},g[c]=f[c],r.css(g),k.__cell=a,b.I=r,a.__previewEl=k,b.R(a),b.R(k),r.on("mousewheel",function(a){var c=
a.originalEvent,d=c.wheelDelta||-c.detail;a=c.wheelDeltaX||(1==c.axis?d:0);c=c.wheelDeltaY||(2==c.axis?d:0);d&&b.hideCellPreview();c&&b.f.scrollHeight>b.f.clientHeight&&(d=-1*c+b.h.scrollTop(),b.h.scrollTop(d));a&&b.f.scrollWidth>b.f.clientWidth&&(a=-1*a+b.h.scrollLeft(),b.h.scrollLeft(a))}))}},Ga:function(){this.hideCellPreview()},hideCellPreview:function(){if(this.I){var a=this.I[0];this.I.remove();this.Y(a.__cell);this.Y(a);a.__cell.__previewEl=null;a.__cell=null;this.trigger("cellpreviewdestroy",
a.firstChild,a.physicalRowIndex,a.columnName);this.I=null}this.ea=!1;return this}}),s={AUTO:0,ABSOLUTE:1,RELATIVE:2};u.Width={NONE:"none",AUTO:"auto",SCROLL:"SCROLL"};h.DGTable=u})(this,jQuery);
DGTable.Ea=function(){function h(){var e=[];_.extend(e,h.prototype);e.initialize.apply(e,arguments);return e}h.prototype=[];h.prototype.initialize=function(){};h.prototype.get=function(e){for(var g=0,h=this.length;g<h;g++)if(this[g].name==e)return this[g];return null};h.prototype.indexOf=function(e){for(var g=0,h=this.length;g<h;g++)if(this[g].name==e)return g;return-1};h.prototype.O=function(e){for(var g=0,h=this.length;g<h;g++)if(this[g].order==e)return this[g];return null};h.prototype.ca=function(){var e=
[],g;for(g=0;g<this.length;g++)e.push(this[g]);e.sort(function(e,g){return e.order<g.order?-1:e.order>g.order?1:0});for(g=0;g<e.length;g++)e[g].order=g};h.prototype.H=function(){for(var e=[],g=0,h;g<this.length;g++)h=this[g],h.visible&&e.push(h);e.sort(function(e,g){return e.order<g.order?-1:e.order>g.order?1:0});return e};h.prototype.Ba=function(){for(var e=0,g=0,h;g<this.length;g++)h=this[g],h.order>e&&(e=h.order);return e};h.prototype.moveColumn=function(e,g){if(e&&g){var h=e.order,n=g.order,t;
if(h<n)for(h+=1;h<=n;h++)t=this.O(h),t.order--;else for(h-=1;h>=n;h--)t=this.O(h),t.order++;e.order=n}return this};return h}();
DGTable.Fa=function(){function h(){var e=[];_.extend(e,h.prototype);e.initialize.apply(e,arguments);return e}h.prototype=[];_.extend(h.prototype,Backbone.Events);h.prototype.initialize=function(e){e=e||{};this.N=this.G=null;this.ba=!1;this.sortColumn=null==e.sortColumn?[]:e.sortColumn};h.prototype.add=function(e,g){var h,n;if("splice"in e&&"length"in e)if(g)for(h=0,n=e.length;h<n;h++)this.splice(g++,0,e[h]);else for(h=0,n=e.length;h<n;h++)this.push(e[h]);else g?this.splice(g,0,e):this.push(e)};h.prototype.reset=
function(e){this.length=0;e&&this.add(e)};h.prototype.Aa=function(e,g,r){if((g=g.toString())&&null!=e){var n=new h({sortColumn:this.sortColumn});this.G=e;this.N=g;this.ba=r;e=0;for(g=this.length;e<g;e++)r=this[e],this.Ua(r)&&(r.__i=e,n.push(r));return n}return this.N=this.G=null};h.prototype.Ua=function(e){if(e&&this.G){e=e[this.G];if(null==e)return!1;e=e.toString();var g=this.N;this.ba||(e=e.toUpperCase(),g=g.toUpperCase());return-1!==e.indexOf(g)}return!0};(function(){function e(e,g){var h=g?1:
-1,v=g?-1:1;return function(g,n){var a=g[e],b=n[e];return a<b?h:a>b?v:0}}var g=h.prototype.sort;h.prototype.sort=function(h){if(this.sortColumn.length){var n=[],t,v;for(t=0;t<this.sortColumn.length;t++)v={},this.trigger("requiresComparatorForColumn",v,this.sortColumn[t].column,this.sortColumn[t].descending),n.push(_.bind(v.Sa||e(this.sortColumn[t].column,this.sortColumn[t].descending),this));if(1===n.length)g.call(this,n[0]);else{var u=n.length,s;g.call(this,function(a,b){for(t=0;t<u&&(s=n[t](a,b),
0===s);t++);return s})}h||this.trigger("sort")}return this}})();return h}();
//# sourceMappingURL=DGTable.min.js.map