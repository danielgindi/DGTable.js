(function(){var m=navigator.userAgent,e=-1!=m.indexOf("MSIE ")?parseFloat(m.substr(m.indexOf("MSIE ")+5)):null,g=e&&10>e,k=e&&10>e,l=Backbone.View.extend({className:"dgtable-wrapper",tagName:"div",VERSION:"0.1",initialize:function(a){a=a||{};if(null!==a.columns&&0===a.columns.length)return null;this.T=_.bind(this.ya,this);this.G=_.bind(this.va,this);this.$el.on("dragend",this.G);this.l=!0;this.F=!1;this.Da=void 0==a.Da?!0:!!a.virtualTable;this.p=a.rowsBufferSize||10;this.n=a.minColumnWidth||35;this.H=
a.resizeAreaWidth||8;this.B=void 0==a.resizableColumns?!0:!!a.resizableColumns;this.r=void 0==a.movableColumns?!0:!!a.movableColumns;this.m=void 0==a.sortableColumns?1:parseInt(a.sortableColumns,10)||1;this.pa=void 0==a.cellClasses?"":a.cellClasses;this.Ca=void 0==a.resizerClassName?"dgtable-resize":a.resizerClassName;this.ea=void 0==a.tableClassName?"dgtable":a.tableClassName;this.A=void 0==a.comparatorCallback?null:a.comparatorCallback;this.Q=a.Ja||function(a){return a};for(var b=new l.ma,d=0,f,
c,h=0;d<a.columns.length;d++)c=a.columns[d],f=this.Z(c),void 0!=c.c?(c.c>h&&(h=c.c+1),f.c=c.c):f.c=h++,b.push(f);b.W();this.a=b;this.f=b.u();if(void 0==a.sortColumn)a.sortColumn=null;else if("string"==typeof a.sortColumn)this.a.get(a.sortColumn)?a.sortColumn=[{column:a.sortColumn,descending:!1}]:a.sortColumn=null;else if(a.sortColumn instanceof Array){b=[];d=0;for(c=a.sortColumn.length;d<c&&(f=a.sortColumn[d],f=void 0!=f.column?f:{column:f,descending:!1},(f=this.a.get(f.column))&&!_.contains(b,f.name)&&
b.push(f.name),b.length!=this.m&&b.length!=this.f.length);d++);a.sortColumn=b}else"object"==typeof a.sortColumn?this.a.get(a.sortColumn.column)||(a.sortColumn=null):a.sortColumn=null;this.d=new l.na({sortColumn:a.sortColumn,columns:this.columns});this.listenTo(this.d,"sort",this.render).listenTo(this.d,"requiresComparatorForColumn",_.bind(function(a,b,c){this.A&&(a.Ea=this.A(b,c))},this));this.i=null;this.Y=a.height;this.o=0},Z:function(){function a(a){a=$("<table><thead><tr><th>"+a+"</th></tr></thead></table>").css({position:"absolute",
top:"-9999px",visibility:"hidden"}).addClass(this.ea);var d=a.find(">thead>tr>th");d.css({position:"absolute","float":"left","white-space":"nowrap",visibility:"hidden"});a.appendTo(document.body);d=d.width();a.remove();return d}return function(b){return{name:b.name,label:void 0==b.label?b.name:b.label,width:void 0==b.width?_.bind(a,this)(b.label)+20:b.width,resizable:void 0==b.resizable?!0:b.resizable,sortable:void 0==b.sortable?!0:b.sortable,v:void 0==b.v?!0:b.v,visible:void 0==b.visible?!0:b.visible,
cellClasses:void 0==b.cellClasses?this.pa:b.cellClasses}}}(),close:function(){this.g&&(this.g.remove(),this.g=null);this.J=this.t=null;this.fa();this.T=this.G=null;this.e.off("scroll");this.$el.off("dragend");this.remove();this.unbind();if(this.k){for(var a=0,b;a<this.k.length;a++)b=this.k[a],b.la.removeEventListener("message",b.ka,!1);this.k.length=0}},render:function(){if(!0===this.l){this.l=!1;this.e&&(this.o=this.e[0].scrollTop);this.X().Ba();var a=this.e[0].scrollHeight-this.e.height();this.o>
a&&(this.o=a);this.e[0].scrollTop=this.o;this.e.on("scroll",_.bind(this.aa,this));this.aa(!0);this.ga();for(a=0;a<this.d.sortColumn.length;a++)this.da(this.d.sortColumn[a].column,this.d.sortColumn[a].descending);this.F=!1;this.trigger("renderSkeleton")}else this.ca(this.o,this.e[0].scrollTop);this.trigger("render");return this},addColumn:function(a,b){if(!a||this.a.get(a.name))return this;var d=null;void 0!=b&&(d=this.a.get(b)||this.a.L(b));var f=this.Z(a);f.c=d?d.c:this.a.ja()+1;for(var d=this.a.ja(),
c=f.c,h;d>=c;d--)(h=this.a.L(d))&&h.c++;this.a.push(f);this.a.W();this.l=!0;this.f=this.a.u();this.render();this.trigger("addColumn",f.name);return this},removeColumn:function(a){var b=this.a.indexOf(a);-1<b&&(this.a.splice(b,1),this.a.W(),this.l=!0,this.f=this.a.u(),this.render(),this.trigger("removeColumn",a));return this},filter:function(a,b,d){if(this.a.get(a)){var f=!!this.i;this.i&&(this.i=null);this.i=this.d.ia(a,b,d);if(!f&&!this.i)return this;this.l=!0;this.render();this.trigger("filter",
a,b,d)}return this},U:function(){this.i&&(this.i=null,this.i=this.d.ia(this.d.C,this.d.K,this.d.V));return this},setColumnLabel:function(a,b){var d=this.a.get(a);if(!d)throw"Invalid column name";d.label=void 0==b?d.name:b;if(d.element)for(var f=0;f<d.element[0].firstChild.childNodes.length;f++){var c=d.element[0].firstChild.childNodes[f];if(3===c.nodeType){c.textContent=d.label;break}}return this},moveColumn:function(a,b){var d,f;"string"===typeof a?d=this.a.get(a):"number"===typeof a&&(d=this.f[a]);
"string"===typeof b?f=this.a.get(b):"number"===typeof b&&(f=this.f[b]);if(!d)throw"Invalid source column: "+a;if(!f)throw"Invalid dest column: "+b;if(a===b)return this;var c=d.c,h=f.c;this.l=!0;this.f=this.a.moveColumn(d,f).u();this.render();this.trigger("moveColumn",d.name,c,h);return this},setColumnWidth:function(a,b){var d=this.a.get(a);if(d){b<this.n&&(b=this.n);var f=d.width;d.width=b;this.I(d.element[0].cellIndex,b);this.trigger("setColumnWidth",d.name,f,b)}return this},sort:function(a,b,d){var f=
this.a.get(a);if(f){var c=this.d.sortColumn;c.length&&c[c.length-1].column==a&&(b=void 0==b?!c[c.length-1].descending:b);if(d){for(a=0;a<c.length;a++)if(c[a].column==f.name){a<c.length-1?c.length=0:c.splice(c.length-1,1);break}if(0<this.m&&c.length>=this.m||c.length>=this.f.length)c.length=0}else c.length=0;c.push({column:f.name,descending:!(void 0==b||!b)});this.d.sortColumn=c;this.X();for(a=0;a<c.length;a++)this.da(c[a].column,c[a].descending);this.d.sort(!!this.i);this.U();this.i&&this.render();
b=[];for(a=0;a<c.length;a++)b.push({column:c[a].column,descending:c[a].descending});this.trigger("sort",b)}return this},showColumn:function(a){var b=this.a.get(a);if(b){if(b.visible)return this;this.l=b.visible=!0;this.f=this.a.u();this.render();this.trigger("showColumn",a)}return this},hideColumn:function(a){var b=this.a.get(a);if(b){if(!b.visible)return this;b.visible=!1;this.l=!0;this.f=this.a.u();this.render();this.trigger("hideColumn",a)}return this},setMinColumnWidth:function(a){this.n=a;return this},
getMinColumnWidth:function(){return this.n},setSortableColumns:function(a){if(this.m!=a&&(this.m=a,this.h)){a=this.h.find("thead>tr>th");for(var b=0;b<a.length;b++)$(a[0])[0<this.m&&this.f[b].sortable?"addClass":"removeClass"]("sortable")}return this},getSortableColumns:function(){return this.m},setMovableColumns:function(a){a=!!a;this.r!=a&&(this.r=a);return this},getMovableColumns:function(){return this.r},setResizableColumns:function(a){a=!!a;this.B!=a&&(this.B=a);return this},getResizableColumns:function(){return this.B},
setComparatorCallback:function(a){this.A!=a&&(this.A=a);return this},getComparatorCallback:function(){return this.A},addRows:function(a){this.scrollTop=this.$el.find(".table").scrollTop();var b=this.d.length;this.F=!0;this.d.add(a);this.U();0==b&&(this.i||this.d).length&&(this.l=!0);this.render().trigger("addRows",a.length,!1);return this},setRows:function(a){this.scrollTop=this.$el.find(".table").scrollTop();this.d.reset(a);this.U();this.l=!0;this.render().trigger("addRows",a.length,!0);return this},
getUrlForElementContent:function(a){a=document.getElementById(a);if(!a)return null;a=a.textContent;if("function"===typeof Blob)a=new Blob([a]);else{var b=window.BlobBuilder||window.WebKitBlobBuilder||window.Ha||window.Ga;if(!b)return null;b=new b;b.append(a);a=b.getBlob()}return(window.URL||window.webkitURL).createObjectURL(a)},isWorkerSupported:function(){return window.Worker instanceof Function},createWebWorker:function(a,b){function d(a){f.addRows(a.data.rows,a.data.append)}if(!this.isWorkerSupported())return null;
var f=this,c=new Worker(a);c.addEventListener("message",d,!1);this.k||(this.k=[]);this.k.push({la:c,ka:d});(b||void 0==b)&&c.postMessage(null);return c},unbindWebWorker:function(a){if(this.k)for(var b=0;b<this.k.length;b++)this.k[b].la==a&&(a.removeEventListener("message",this.k[b].ka,!1),this.k.splice(b,1),b--);return this},aa:function(a){if(a||this.o!==this.e[0].scrollTop){a=parseInt(this.e[0].scrollTop/this.s,10);var b=a-this.p;0>b&&(b=0);this.b.M=this.b.first;this.b.N=this.b.last;this.b.first=
b;this.b.last=a+this.q+this.p;a=this.i||this.d;this.b.last>a.length&&(this.b.last=a.length,this.b.first=Math.max(0,this.b.last-this.q-this.p));this.ca(this.o,this.e[0].scrollTop)}},R:function(a){for(var b="rtl"==this.h.css("direction"),d=$(this.S||a.target).closest("th"),f=d[0],c=d[0].previousSibling;c&&c.nodeType==Element.TEXT_NODE;)c=c.previousSibling;var h=!c;a=(a.originalEvent.pageX||a.originalEvent.clientX)-d.offset().left;if(b){if(!h&&d.outerWidth()-a<=this.H/2)return c.j;if(a<=this.H/2)return f.j}else{if(!h&&
a<=this.H/2)return c.j;if(d.outerWidth()-a<=this.H/2)return f.j}return null},xa:function(a){if(this.B){this.h.css("direction");var b=this.R(a);a=$(a.target).closest("th")[0];b&&this.a.get(b).resizable?a.style.cursor="e-resize":a.style.cursor=""}},wa:function(a){$(a.target).closest("th")[0].style.cursor=""},qa:function(a){if(!this.R(a)&&(a=$(a.target).closest("th")[0],this.m)){var b=this.a.get(a.j);b&&b.sortable&&this.sort(a.j,void 0,!0)}},za:function(a){var b=this.R(a);if(b){var d=this.a.get(b);if(!this.B||
!d||!d.resizable)return a.preventDefault(),!1;b="rtl"==this.h.css("direction");this.g&&$(this.g).remove();this.g=$("<div></div>").addClass(this.Ca).css({position:"absolute",display:"block","z-index":-1,visibility:"hidden",width:"2px",background:"#000",opacity:0.7}).appendTo(this.$el);var d=d.element,f=this.g.parent(),c=d.offset(),h=f.offset();8==e&&(c=d.offset());h.left+=parseFloat(f.css("border-left-width"))||0;h.top+=parseFloat(f.css("border-top-width"))||0;c.left-=h.left;c.top-=h.top;c.top-=parseFloat(d.css("border-top-width"))||
0;f=this.g.outerWidth();b?c.left-=Math.ceil((parseFloat(d.css("border-left-width"))||0)/2):(c.left+=d.outerWidth(),c.left+=Math.ceil((parseFloat(d.css("border-right-width"))||0)/2));c.left-=Math.ceil(f/2);b=this.h.height()-(this.h.offset().top-d.offset().top);this.g.css({"z-index":"10",visibility:"visible",left:c.left,top:c.top,height:b})[0].j=d[0].j;try{this.g[0].style.zIndex=""}catch(g){}$(document).on("mousemove",this.T);$(document).on("mouseup",this.G);a.preventDefault()}else this.r?(b=$(this.S||
a.target).closest("th"),(d=this.a.get(b[0].j))&&d.v?(b[0].style.opacity=0.35,this.P=161061273*Math.random(),a.originalEvent.dataTransfer.setData("text",JSON.stringify({ha:this.P,column:d.name}))):a.preventDefault()):a.preventDefault()},ya:function(a){var b=this.a.get(this.g[0].j),d="rtl"==this.h.css("direction"),b=b.element,f=this.g.parent(),c=b.offset(),h=f.offset();h.left+=parseFloat(f.css("border-left-width"))||0;c.left-=h.left;f=this.g.outerWidth();a=a.pageX-h.left;c=c.left;d?(c+=b.outerWidth(),
c-=Math.ceil((parseFloat(b.css("border-right-width"))||0)/2),c-=Math.ceil(f/2),c-=this.n,c-=(parseFloat(b.css("padding-left"))||0)+(parseFloat(b.css("padding-right"))||0),a>c&&(a=c)):(c+=Math.ceil((parseFloat(b.css("border-right-width"))||0)/2),c-=Math.ceil(f/2),c+=this.n,c+=(parseFloat(b.css("padding-left"))||0)+(parseFloat(b.css("padding-right"))||0),a<c&&(a=c));this.g.css("left",a+"px")},va:function(a){if(this.g){$(document).off("mousemove",this.T);$(document).off("mouseup",this.G);var b=this.a.get(this.g[0].j),
d="rtl"==this.h.css("direction"),f=b.element,c=this.g.parent(),h=f.offset(),e=c.offset();e.left+=parseFloat(c.css("border-left-width"))||0;h.left-=e.left;c=this.g.outerWidth();a=a.pageX-e.left;h=e=h.left;h=0;d?(a+=(parseFloat(f.css("padding-left"))||0)+(parseFloat(f.css("padding-right"))||0),e+=f.outerWidth(),e-=Math.ceil((parseFloat(f.css("border-right-width"))||0)/2),e-=Math.ceil(c/2),h=e-this.n,a>h&&(a=h),h=e-a):(a-=(parseFloat(f.css("padding-left"))||0)+(parseFloat(f.css("padding-right"))||0),
e+=Math.ceil((parseFloat(f.css("border-right-width"))||0)/2),e-=Math.ceil(c/2),h=e+this.n,a<h&&(a=h),h=a-e);this.g.remove();this.g=null;this.setColumnWidth(b.name,h)}else a.target.style.opacity=null},ra:function(a){if(this.r){var b=a.originalEvent.dataTransfer.getData("text"),b=b?JSON.parse(b):null;a=$(a.target).closest("th");(!b||this.P==b.ha&&a.j!==b.column)&&(b=this.a.get(a[0].j))&&(b.v||b!=this.f[0])&&$(a).addClass("drag-over")}},ta:function(a){a.preventDefault()},sa:function(a){var b=$(a.target).closest("th");
$(b[0].firstChild).has(a.originalEvent.relatedTarget).length||b.removeClass("drag-over")},ua:function(a){a.preventDefault();var b=JSON.parse(a.originalEvent.dataTransfer.getData("text"));a=$(a.target).closest("th");if(this.r&&b.ha==this.P){var b=b.column,d=a[0].j,f=this.a.get(b),c=this.a.get(d);f&&c&&f.v&&(c.v||c!=this.f[0])&&this.moveColumn(b,d)}$(a).removeClass("drag-over")},X:function(){if(!this.h)return this;var a=this.h.find(">thead>tr>th.sorted"),b=a.find(">div>.sort-arrow");_.forEach(b,_.bind(function(a){var b=
a.parentNode.scrollWidth,c=a.scrollWidth+(parseFloat($(a).css("margin-right"))||0)+(parseFloat($(a).css("margin-left"))||0);this.I(a.parentNode.parentNode.cellIndex,b-c);a.parentNode.removeChild(a)},this));a.removeClass("sorted").removeClass("desc");return this},da:function(a,b){var d=document.createElement("span");d.className="sort-arrow";var f=this.a.get(a).element;f.addClass("sorted");b&&f.addClass("desc");f[0].firstChild.insertBefore(d,f[0].firstChild.firstChild);d=d.scrollWidth+(parseFloat($(d).css("margin-right"))||
0)+(parseFloat($(d).css("margin-left"))||0);this.I(f[0].cellIndex,f[0].firstChild.scrollWidth+d);return this},I:function(a,b){var d=this.h.find(">thead>tr>th");d[a].firstChild.style.width=b+"px";this.a.get(d[a].j).width=b;a===d.length-1&&(b-=this.D);this.e.find("td:nth-child("+(a+1)+")>div").each(function(){this.style.width=b+"px"});this.ga();return this},fa:function(){this.h&&this.h.find(">thead>tr>th").off("mousemove").off("mouseleave").off("dragstart").off("selectstart").off("click").find(">div").off("dragenter").off("dragover").off("dragleave").off("drop");
return this},Ba:function(){var a=this,b=0,d;this.t&&(b=parseFloat(this.t.style.height));this.fa();for(var f=document.createElement("tr"),c=0,h,e,l;c<this.f.length;c++)if(h=this.f[c],h.visible&&(d=h,l=document.createElement("div"),l.style.width=h.width+"px",l.innerHTML=h.label,e=document.createElement("th"),e.draggable=!0,this.m&&h.sortable&&(e.className="sortable"),e.j=h.name,e.appendChild(l),f.appendChild(e),this.f[c].element=$(e),$(e).on("mousemove",_.bind(this.xa,this)).on("mouseleave",_.bind(this.wa,
this)).on("dragstart",_.bind(this.za,this)).on("click",_.bind(this.qa,this)),$(l).on("dragenter",_.bind(this.ra,this)).on("dragover",_.bind(this.ta,this)).on("dragleave",_.bind(this.sa,this)).on("drop",_.bind(this.ua,this)),k))$(e).on("selectstart",_.bind(function(b){b.preventDefault();a.S=this.firstChild;e.Ia();a.S=null;return!1},e));this.h&&(this.e.off("scroll"),this.h.remove());"static"==this.$el.css("position")&&this.$el.css("position","relative");h=document.createDocumentFragment();l=document.createElement("table");
l.className=this.ea;h.appendChild(l);var m=document.createElement("thead");m.style.display="block";g&&$(m).css({"float":"rtl"==this.$el.css("direction")?"right":"left",clear:"both"});l.appendChild(m);c=document.createElement("tbody");c.style.maxHeight=this.Y+"px";c.style.display="block";c.style.overflowY="auto";c.style.overflowX="hidden";g&&$(c).css({"float":"rtl"==this.$el.css("direction")?"right":"left",clear:"both"});l.appendChild(c);this.el.appendChild(h);this.h=$(l);this.e=$(c);if(!this.s){var n=
document.createElement("tr"),p=document.createElement("td");p.innerHTML="0";n.appendChild(p);n.style.visibility="hidden";n.style.position="absolute";c.appendChild(n);this.s=$(n).outerHeight();c.removeChild(n);this.q=parseInt(this.Y/this.s,10)}var q=this.i||this.d;h=this.q+this.p;h>q.length&&(h=q.length);this.b={first:0,last:h,M:0,N:h};var r=document.createDocumentFragment(),n=this.t=document.createElement("tr");n.style.height=b+"px";r.appendChild(n);for(var u=0,s=this.b.first,v,t,w=this.f.length;s<
q.length&&u<this.b.last;s++){v=q[s];n=document.createElement("tr");n.setAttribute("data-row",s);for(t=0;t<w;t++)h=this.f[t],l=document.createElement("div"),l.style.width=h.width+"px",l.innerHTML=this.Q(v[h.name],h.name),p=document.createElement("td"),h.cellClasses&&(p.className=h.cellClasses),p.appendChild(l),n.appendChild(p);r.appendChild(n);u++}n=this.J=document.createElement("tr");n.style.height=this.s*Math.max(0,q.length-this.q-this.p)-b+"px";r.appendChild(n);try{m.innerHTML=""}catch(x){m.textContent=
""}m.appendChild(f);try{c.innerHTML=""}catch(y){c.textContent=""}c.appendChild(r);this.D=c.offsetWidth-c.clientWidth;0<this.D&&(b=d.width,$(c).find("td:last-child>div").width(b-this.D));this.w();return this},ca:function(a,b){var d,f,c=this.b.last-this.b.first-(this.b.N-this.b.M),e=this.q+this.p;if(b<a)d=this.b.first,f=this.b.M,this.b.last<=this.b.M&&(d=this.b.first,f=this.b.last),this.ba(f-d-c,!1),this.O(d,f,!0),this.w();else if(b>a)d=this.b.N,f=this.b.last,this.b.first>=this.b.N&&(d=this.b.first,
f=this.b.last),this.ba(f-d-c,!0),this.O(d,f,!1),this.w();else if(this.F)this.F=!1,f=this.i||this.d,this.b.last<f.length&&this.b.last<e&&(d=this.b.last,f=f.length,f>e&&(f=e),this.O(d,f,!1),this.b.last=f),this.w();else{this.w();this.Aa(this.b.first);return}this.D=this.e[0].offsetWidth-this.e[0].clientWidth;0<this.D&&(d=this.h.find(">thead>tr>th"),e=this.a.get(d[d.length-1].j).width,this.I(d.length-1,e));this.o=this.e[0].scrollTop},w:function(){var a=((this.i||this.d).length-(this.e[0].childNodes.length-
2))*this.s;if(0>a)this.t.style.height=0,this.J.style.height=0;else{var b=this.b.first*this.s;this.t.style.height=b+"px";this.J.style.height=a-b+"px"}},O:function(a,b,d){if(d)for(d=this.t.nextSibling;d&&d.nodeType==Element.TEXT_NODE;)d=d.nextSibling;else d=this.J;for(;a<b;a++)this.oa(a,d)},oa:function(a,b){var d=document.createElement("tr");d.setAttribute("data-row",a);for(var f=this.i||this.d,c=0,e,g,k;c<this.f.length;c++)e=this.f[c],g=document.createElement("div"),g.style.width=e.width+"px",g.innerHTML=
this.Q(f[a][e.name],e.name),k=document.createElement("td"),e.cellClasses&&(k.className=e.cellClasses),k.appendChild(g),d.appendChild(k);this.e[0].insertBefore(d,b)},ba:function(a,b){var d,f;a>this.q+2*this.p&&(a=this.q+2*this.p);var c=this.e[0],e=c.childNodes;f=this.e[0].childNodes.length-2;b?(d=1,f=Math.min(a+1,f+1)):(d=f+1-a,f+=1);for(var g=d;g<f;f--)c.removeChild(e[d])},Aa:function(a){for(var b=this.e[0].getElementsByTagName("tr"),d=this.i||this.d,f=1,c,e,g,k;f<b.length-1;f++)for(c=b[f],c.setAttribute("data-row",
a+f-1),c=$("td>div",c),e=0;e<c.length;e++)g=c[e],k=this.f[e],k=k.name,g.innerHTML=this.Q(d[a+f-1][k],k)},ga:function(){for(var a=this.h.find(">thead>tr>th"),b=0,d=0;d<a.length;d++)b+=$(a[d])[0].offsetWidth;this.h.width(b);this.$el.width(b)}});window.DGTable=l})();
DGTable.ma=function(){function m(){this.initialize.apply(this,arguments)}m.prototype=[];m.prototype.initialize=function(){};m.prototype.get=function(e){for(var g=0,k=this.length;g<k;g++)if(this[g].name==e)return this[g];return null};m.prototype.indexOf=function(e){for(var g=0,k=this.length;g<k;g++)if(this[g].name==e)return g;return-1};m.prototype.L=function(e){for(var g=0,k=this.length;g<k;g++)if(this[g].c==e)return this[g];return null};m.prototype.W=function(){var e=[],g;for(g=0;g<this.length;g++)e.push(this[g]);
e.sort(function(e,g){return e.c<g.c?-1:e.c>g.c?1:0});for(g=0;g<e.length;g++)e[g].c=g};m.prototype.u=function(){for(var e=[],g=0,k;g<this.length;g++)k=this[g],k.visible&&e.push(k);e.sort(function(e,a){return e.c<a.c?-1:e.c>a.c?1:0});return e};m.prototype.ja=function(){for(var e=0,g=0,k;g<this.length;g++)k=this[g],k.c>e&&(e=k.c);return e};m.prototype.moveColumn=function(e,g){if(!e||!g)return this;var k=e.c,l=g.c,a;if(k<l)for(k+=1;k<=l;k++)a=this.L(k),a.c--;else for(k-=1;k>=l;k--)a=this.L(k),a.c++;e.c=
l;return this};return m}();
DGTable.na=function(){function m(){this.initialize.apply(this,arguments)}m.prototype=[];_.extend(m.prototype,Backbone.Events);m.prototype.initialize=function(e){e=e||{};this.K=this.C=null;this.V=!1;this.sortColumn=void 0==e.sortColumn?[]:e.sortColumn};m.prototype.add=function(e,g){var k,l;if("splice"in e&&"length"in e)if(g)for(k=0,l=e.length;k<l;k++)this.splice(g++,0,e[k]);else for(k=0,l=e.length;k<l;k++)this.push(e[k]);else g?this.splice(g,0,e):this.push(e)};m.prototype.reset=function(e){this.length=
0;e&&this.add(e)};m.prototype.ia=function(e,g,k){if((g=g.toString())&&null!=e){var l=new m({sortColumn:this.sortColumn});this.C=e;this.K=g;this.V=k;e=0;for(g=this.length;e<g;e++)k=this[e],this.Fa(k)&&l.push(k);return l}return this.K=this.C=null};m.prototype.Fa=function(e){if(e&&this.C){e=e[this.C];if(null==e)return!1;e=e.toString();var g=this.K;this.V||(e=e.toUpperCase(),g=g.toUpperCase());return-1!==e.indexOf(g)}return!0};(function(){function e(e,g){var a=g?1:-1,b=g?-1:1;return function(d,f){var c=
d[e],g=f[e];return c<g?a:c>g?b:0}}var g=m.prototype.sort;m.prototype.sort=function(k){if(!this.sortColumn.length)return this;for(var l=[],a=0,b;a<this.sortColumn.length;a++)b={},this.trigger("requiresComparatorForColumn",b,this.sortColumn[a].column,this.sortColumn[a].descending),l.push(_.bind(b.Ea||e(this.sortColumn[a].column,this.sortColumn[a].descending),this));if(1==l.length)g.call(this,l[0]);else{var d=l.length,f;g.call(this,function(b,e){for(a=0;a<d&&(f=l[a](b,e),0==f);a++);return f})}k||this.trigger("sort");
return this}})();return m}();
